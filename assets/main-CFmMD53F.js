var gr=e=>{throw TypeError(e)};var fn=(e,t,n)=>t.has(e)||gr("Cannot "+n);var y=(e,t,n)=>(fn(e,t,"read from private field"),n?n.call(e):t.get(e)),M=(e,t,n)=>t.has(e)?gr("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),A=(e,t,n,r)=>(fn(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),V=(e,t,n)=>(fn(e,t,"access private method"),n);var Rt=(e,t,n,r)=>({set _(s){A(e,t,s,n)},get _(){return y(e,t,r)}});import{r as v,j as h,a as ni,g as ri,u as Xt,N as Os,c as si,b as mr,d as Tt,q as oi,w as ii,o as ai,l as ci,e as li,f as ui,h as br,i as di,k as fi,R as j,s as pi,m as Ns,n as hi,p as gi,B as mi,t as bi,v as yr,x as yi}from"./authStore-Bc7oLCu2.js";var Jt=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Zt=typeof window>"u"||"Deno"in globalThis;function ue(){}function xi(e,t){return typeof e=="function"?e(t):e}function vi(e){return typeof e=="number"&&e>=0&&e!==1/0}function wi(e,t){return Math.max(e+(t||0)-Date.now(),0)}function xr(e,t){return typeof e=="function"?e(t):e}function Di(e,t){return typeof e=="function"?e(t):e}function vr(e,t){const{type:n="all",exact:r,fetchStatus:s,predicate:o,queryKey:i,stale:a}=e;if(i){if(r){if(t.queryHash!==$n(i,t.options))return!1}else if(!ht(t.queryKey,i))return!1}if(n!=="all"){const c=t.isActive();if(n==="active"&&!c||n==="inactive"&&c)return!1}return!(typeof a=="boolean"&&t.isStale()!==a||s&&s!==t.state.fetchStatus||o&&!o(t))}function wr(e,t){const{exact:n,status:r,predicate:s,mutationKey:o}=e;if(o){if(!t.options.mutationKey)return!1;if(n){if(pt(t.options.mutationKey)!==pt(o))return!1}else if(!ht(t.options.mutationKey,o))return!1}return!(r&&t.state.status!==r||s&&!s(t))}function $n(e,t){return((t==null?void 0:t.queryKeyHashFn)||pt)(e)}function pt(e){return JSON.stringify(e,(t,n)=>Mn(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function ht(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?!Object.keys(t).some(n=>!ht(e[n],t[n])):!1}function As(e,t){if(e===t)return e;const n=Dr(e)&&Dr(t);if(n||Mn(e)&&Mn(t)){const r=n?e:Object.keys(e),s=r.length,o=n?t:Object.keys(t),i=o.length,a=n?[]:{};let c=0;for(let u=0;u<i;u++){const f=n?u:o[u];(!n&&r.includes(f)||n)&&e[f]===void 0&&t[f]===void 0?(a[f]=void 0,c++):(a[f]=As(e[f],t[f]),a[f]===e[f]&&e[f]!==void 0&&c++)}return s===i&&c===s?e:a}return t}function Dr(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Mn(e){if(!Sr(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!Sr(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function Sr(e){return Object.prototype.toString.call(e)==="[object Object]"}function Si(e){return new Promise(t=>{setTimeout(t,e)})}function Ci(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?As(e,t):t}function Ei(e,t,n=0){const r=[...e,t];return n&&r.length>n?r.slice(1):r}function Pi(e,t,n=0){const r=[t,...e];return n&&r.length>n?r.slice(0,-1):r}var qn=Symbol();function Rs(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===qn?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var je,De,qe,vs,Ii=(vs=class extends Jt{constructor(){super();M(this,je);M(this,De);M(this,qe);A(this,qe,t=>{if(!Zt&&window.addEventListener){const n=()=>t();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){y(this,De)||this.setEventListener(y(this,qe))}onUnsubscribe(){var t;this.hasListeners()||((t=y(this,De))==null||t.call(this),A(this,De,void 0))}setEventListener(t){var n;A(this,qe,t),(n=y(this,De))==null||n.call(this),A(this,De,t(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(t){y(this,je)!==t&&(A(this,je,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(n=>{n(t)})}isFocused(){var t;return typeof y(this,je)=="boolean"?y(this,je):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},je=new WeakMap,De=new WeakMap,qe=new WeakMap,vs),Ts=new Ii,He,Se,Ue,ws,Oi=(ws=class extends Jt{constructor(){super();M(this,He,!0);M(this,Se);M(this,Ue);A(this,Ue,t=>{if(!Zt&&window.addEventListener){const n=()=>t(!0),r=()=>t(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){y(this,Se)||this.setEventListener(y(this,Ue))}onUnsubscribe(){var t;this.hasListeners()||((t=y(this,Se))==null||t.call(this),A(this,Se,void 0))}setEventListener(t){var n;A(this,Ue,t),(n=y(this,Se))==null||n.call(this),A(this,Se,t(this.setOnline.bind(this)))}setOnline(t){y(this,He)!==t&&(A(this,He,t),this.listeners.forEach(r=>{r(t)}))}isOnline(){return y(this,He)}},He=new WeakMap,Se=new WeakMap,Ue=new WeakMap,ws),Lt=new Oi;function Ni(){let e,t;const n=new Promise((s,o)=>{e=s,t=o});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),e(s)},n.reject=s=>{r({status:"rejected",reason:s}),t(s)},n}function Ai(e){return Math.min(1e3*2**e,3e4)}function Ms(e){return(e??"online")==="online"?Lt.isOnline():!0}var ks=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function pn(e){return e instanceof ks}function Bs(e){let t=!1,n=0,r=!1,s;const o=Ni(),i=m=>{var b;r||(d(new ks(m)),(b=e.abort)==null||b.call(e))},a=()=>{t=!0},c=()=>{t=!1},u=()=>Ts.isFocused()&&(e.networkMode==="always"||Lt.isOnline())&&e.canRun(),f=()=>Ms(e.networkMode)&&e.canRun(),l=m=>{var b;r||(r=!0,(b=e.onSuccess)==null||b.call(e,m),s==null||s(),o.resolve(m))},d=m=>{var b;r||(r=!0,(b=e.onError)==null||b.call(e,m),s==null||s(),o.reject(m))},p=()=>new Promise(m=>{var b;s=w=>{(r||u())&&m(w)},(b=e.onPause)==null||b.call(e)}).then(()=>{var m;s=void 0,r||(m=e.onContinue)==null||m.call(e)}),g=()=>{if(r)return;let m;const b=n===0?e.initialPromise:void 0;try{m=b??e.fn()}catch(w){m=Promise.reject(w)}Promise.resolve(m).then(l).catch(w=>{var E;if(r)return;const x=e.retry??(Zt?0:3),C=e.retryDelay??Ai,S=typeof C=="function"?C(n,w):C,P=x===!0||typeof x=="number"&&n<x||typeof x=="function"&&x(n,w);if(t||!P){d(w);return}n++,(E=e.onFail)==null||E.call(e,n,w),Si(S).then(()=>u()?void 0:p()).then(()=>{t?d(w):g()})})};return{promise:o,cancel:i,continue:()=>(s==null||s(),o),cancelRetry:a,continueRetry:c,canStart:f,start:()=>(f()?g():p().then(g),o)}}function Ri(){let e=[],t=0,n=a=>{a()},r=a=>{a()},s=a=>setTimeout(a,0);const o=a=>{t?e.push(a):s(()=>{n(a)})},i=()=>{const a=e;e=[],a.length&&s(()=>{r(()=>{a.forEach(c=>{n(c)})})})};return{batch:a=>{let c;t++;try{c=a()}finally{t--,t||i()}return c},batchCalls:a=>(...c)=>{o(()=>{a(...c)})},schedule:o,setNotifyFunction:a=>{n=a},setBatchNotifyFunction:a=>{r=a},setScheduler:a=>{s=a}}}var X=Ri(),Fe,Ds,js=(Ds=class{constructor(){M(this,Fe)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),vi(this.gcTime)&&A(this,Fe,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Zt?1/0:5*60*1e3))}clearGcTimeout(){y(this,Fe)&&(clearTimeout(y(this,Fe)),A(this,Fe,void 0))}},Fe=new WeakMap,Ds),Ve,Ye,ie,Y,St,Le,de,ye,Ss,Ti=(Ss=class extends js{constructor(t){super();M(this,de);M(this,Ve);M(this,Ye);M(this,ie);M(this,Y);M(this,St);M(this,Le);A(this,Le,!1),A(this,St,t.defaultOptions),this.setOptions(t.options),this.observers=[],A(this,ie,t.cache),this.queryKey=t.queryKey,this.queryHash=t.queryHash,A(this,Ve,ki(this.options)),this.state=t.state??y(this,Ve),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=y(this,Y))==null?void 0:t.promise}setOptions(t){this.options={...y(this,St),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&y(this,ie).remove(this)}setData(t,n){const r=Ci(this.state.data,t,this.options);return V(this,de,ye).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(t,n){V(this,de,ye).call(this,{type:"setState",state:t,setStateOptions:n})}cancel(t){var r,s;const n=(r=y(this,Y))==null?void 0:r.promise;return(s=y(this,Y))==null||s.cancel(t),n?n.then(ue).catch(ue):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(y(this,Ve))}isActive(){return this.observers.some(t=>Di(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===qn||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(t=0){return this.state.isInvalidated||this.state.data===void 0||!wi(this.state.dataUpdatedAt,t)}onFocus(){var n;const t=this.observers.find(r=>r.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(n=y(this,Y))==null||n.continue()}onOnline(){var n;const t=this.observers.find(r=>r.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(n=y(this,Y))==null||n.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),y(this,ie).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(n=>n!==t),this.observers.length||(y(this,Y)&&(y(this,Le)?y(this,Y).cancel({revert:!0}):y(this,Y).cancelRetry()),this.scheduleGc()),y(this,ie).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||V(this,de,ye).call(this,{type:"invalidate"})}fetch(t,n){var c,u,f;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(y(this,Y))return y(this,Y).continueRetry(),y(this,Y).promise}if(t&&this.setOptions(t),!this.options.queryFn){const l=this.observers.find(d=>d.options.queryFn);l&&this.setOptions(l.options)}const r=new AbortController,s=l=>{Object.defineProperty(l,"signal",{enumerable:!0,get:()=>(A(this,Le,!0),r.signal)})},o=()=>{const l=Rs(this.options,n),d={queryKey:this.queryKey,meta:this.meta};return s(d),A(this,Le,!1),this.options.persister?this.options.persister(l,d,this):l(d)},i={fetchOptions:n,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:o};s(i),(c=this.options.behavior)==null||c.onFetch(i,this),A(this,Ye,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((u=i.fetchOptions)==null?void 0:u.meta))&&V(this,de,ye).call(this,{type:"fetch",meta:(f=i.fetchOptions)==null?void 0:f.meta});const a=l=>{var d,p,g,m;pn(l)&&l.silent||V(this,de,ye).call(this,{type:"error",error:l}),pn(l)||((p=(d=y(this,ie).config).onError)==null||p.call(d,l,this),(m=(g=y(this,ie).config).onSettled)==null||m.call(g,this.state.data,l,this)),this.scheduleGc()};return A(this,Y,Bs({initialPromise:n==null?void 0:n.initialPromise,fn:i.fetchFn,abort:r.abort.bind(r),onSuccess:l=>{var d,p,g,m;if(l===void 0){a(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(l)}catch(b){a(b);return}(p=(d=y(this,ie).config).onSuccess)==null||p.call(d,l,this),(m=(g=y(this,ie).config).onSettled)==null||m.call(g,l,this.state.error,this),this.scheduleGc()},onError:a,onFail:(l,d)=>{V(this,de,ye).call(this,{type:"failed",failureCount:l,error:d})},onPause:()=>{V(this,de,ye).call(this,{type:"pause"})},onContinue:()=>{V(this,de,ye).call(this,{type:"continue"})},retry:i.options.retry,retryDelay:i.options.retryDelay,networkMode:i.options.networkMode,canRun:()=>!0})),y(this,Y).start()}},Ve=new WeakMap,Ye=new WeakMap,ie=new WeakMap,Y=new WeakMap,St=new WeakMap,Le=new WeakMap,de=new WeakSet,ye=function(t){const n=r=>{switch(t.type){case"failed":return{...r,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...Mi(r.data,this.options),fetchMeta:t.meta??null};case"success":return{...r,data:t.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const s=t.error;return pn(s)&&s.revert&&y(this,Ye)?{...y(this,Ye),fetchStatus:"idle"}:{...r,error:s,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...t.state}}};this.state=n(this.state),X.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),y(this,ie).notify({query:this,type:"updated",action:t})})},Ss);function Mi(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Ms(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function ki(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=t!==void 0,r=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var ge,Cs,Bi=(Cs=class extends Jt{constructor(t={}){super();M(this,ge);this.config=t,A(this,ge,new Map)}build(t,n,r){const s=n.queryKey,o=n.queryHash??$n(s,n);let i=this.get(o);return i||(i=new Ti({cache:this,queryKey:s,queryHash:o,options:t.defaultQueryOptions(n),state:r,defaultOptions:t.getQueryDefaults(s)}),this.add(i)),i}add(t){y(this,ge).has(t.queryHash)||(y(this,ge).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const n=y(this,ge).get(t.queryHash);n&&(t.destroy(),n===t&&y(this,ge).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){X.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return y(this,ge).get(t)}getAll(){return[...y(this,ge).values()]}find(t){const n={exact:!0,...t};return this.getAll().find(r=>vr(n,r))}findAll(t={}){const n=this.getAll();return Object.keys(t).length>0?n.filter(r=>vr(t,r)):n}notify(t){X.batch(()=>{this.listeners.forEach(n=>{n(t)})})}onFocus(){X.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){X.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},ge=new WeakMap,Cs),me,K,We,be,we,Es,ji=(Es=class extends js{constructor(t){super();M(this,be);M(this,me);M(this,K);M(this,We);this.mutationId=t.mutationId,A(this,K,t.mutationCache),A(this,me,[]),this.state=t.state||Fi(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){y(this,me).includes(t)||(y(this,me).push(t),this.clearGcTimeout(),y(this,K).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){A(this,me,y(this,me).filter(n=>n!==t)),this.scheduleGc(),y(this,K).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){y(this,me).length||(this.state.status==="pending"?this.scheduleGc():y(this,K).remove(this))}continue(){var t;return((t=y(this,We))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var s,o,i,a,c,u,f,l,d,p,g,m,b,w,x,C,S,P,E,R;A(this,We,Bs({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(N,G)=>{V(this,be,we).call(this,{type:"failed",failureCount:N,error:G})},onPause:()=>{V(this,be,we).call(this,{type:"pause"})},onContinue:()=>{V(this,be,we).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>y(this,K).canRun(this)}));const n=this.state.status==="pending",r=!y(this,We).canStart();try{if(!n){V(this,be,we).call(this,{type:"pending",variables:t,isPaused:r}),await((o=(s=y(this,K).config).onMutate)==null?void 0:o.call(s,t,this));const G=await((a=(i=this.options).onMutate)==null?void 0:a.call(i,t));G!==this.state.context&&V(this,be,we).call(this,{type:"pending",context:G,variables:t,isPaused:r})}const N=await y(this,We).start();return await((u=(c=y(this,K).config).onSuccess)==null?void 0:u.call(c,N,t,this.state.context,this)),await((l=(f=this.options).onSuccess)==null?void 0:l.call(f,N,t,this.state.context)),await((p=(d=y(this,K).config).onSettled)==null?void 0:p.call(d,N,null,this.state.variables,this.state.context,this)),await((m=(g=this.options).onSettled)==null?void 0:m.call(g,N,null,t,this.state.context)),V(this,be,we).call(this,{type:"success",data:N}),N}catch(N){try{throw await((w=(b=y(this,K).config).onError)==null?void 0:w.call(b,N,t,this.state.context,this)),await((C=(x=this.options).onError)==null?void 0:C.call(x,N,t,this.state.context)),await((P=(S=y(this,K).config).onSettled)==null?void 0:P.call(S,void 0,N,this.state.variables,this.state.context,this)),await((R=(E=this.options).onSettled)==null?void 0:R.call(E,void 0,N,t,this.state.context)),N}finally{V(this,be,we).call(this,{type:"error",error:N})}}finally{y(this,K).runNext(this)}}},me=new WeakMap,K=new WeakMap,We=new WeakMap,be=new WeakSet,we=function(t){const n=r=>{switch(t.type){case"failed":return{...r,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...r,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:t.error,failureCount:r.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=n(this.state),X.batch(()=>{y(this,me).forEach(r=>{r.onMutationUpdate(t)}),y(this,K).notify({mutation:this,type:"updated",action:t})})},Es);function Fi(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var xe,fe,Ct,Ps,Li=(Ps=class extends Jt{constructor(t={}){super();M(this,xe);M(this,fe);M(this,Ct);this.config=t,A(this,xe,new Set),A(this,fe,new Map),A(this,Ct,0)}build(t,n,r){const s=new ji({mutationCache:this,mutationId:++Rt(this,Ct)._,options:t.defaultMutationOptions(n),state:r});return this.add(s),s}add(t){y(this,xe).add(t);const n=Mt(t);if(typeof n=="string"){const r=y(this,fe).get(n);r?r.push(t):y(this,fe).set(n,[t])}this.notify({type:"added",mutation:t})}remove(t){if(y(this,xe).delete(t)){const n=Mt(t);if(typeof n=="string"){const r=y(this,fe).get(n);if(r)if(r.length>1){const s=r.indexOf(t);s!==-1&&r.splice(s,1)}else r[0]===t&&y(this,fe).delete(n)}}this.notify({type:"removed",mutation:t})}canRun(t){const n=Mt(t);if(typeof n=="string"){const r=y(this,fe).get(n),s=r==null?void 0:r.find(o=>o.state.status==="pending");return!s||s===t}else return!0}runNext(t){var r;const n=Mt(t);if(typeof n=="string"){const s=(r=y(this,fe).get(n))==null?void 0:r.find(o=>o!==t&&o.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){X.batch(()=>{y(this,xe).forEach(t=>{this.notify({type:"removed",mutation:t})}),y(this,xe).clear(),y(this,fe).clear()})}getAll(){return Array.from(y(this,xe))}find(t){const n={exact:!0,...t};return this.getAll().find(r=>wr(n,r))}findAll(t={}){return this.getAll().filter(n=>wr(t,n))}notify(t){X.batch(()=>{this.listeners.forEach(n=>{n(t)})})}resumePausedMutations(){const t=this.getAll().filter(n=>n.state.isPaused);return X.batch(()=>Promise.all(t.map(n=>n.continue().catch(ue))))}},xe=new WeakMap,fe=new WeakMap,Ct=new WeakMap,Ps);function Mt(e){var t;return(t=e.options.scope)==null?void 0:t.id}function Cr(e){return{onFetch:(t,n)=>{var f,l,d,p,g;const r=t.options,s=(d=(l=(f=t.fetchOptions)==null?void 0:f.meta)==null?void 0:l.fetchMore)==null?void 0:d.direction,o=((p=t.state.data)==null?void 0:p.pages)||[],i=((g=t.state.data)==null?void 0:g.pageParams)||[];let a={pages:[],pageParams:[]},c=0;const u=async()=>{let m=!1;const b=C=>{Object.defineProperty(C,"signal",{enumerable:!0,get:()=>(t.signal.aborted?m=!0:t.signal.addEventListener("abort",()=>{m=!0}),t.signal)})},w=Rs(t.options,t.fetchOptions),x=async(C,S,P)=>{if(m)return Promise.reject();if(S==null&&C.pages.length)return Promise.resolve(C);const E={queryKey:t.queryKey,pageParam:S,direction:P?"backward":"forward",meta:t.options.meta};b(E);const R=await w(E),{maxPages:N}=t.options,G=P?Pi:Ei;return{pages:G(C.pages,R,N),pageParams:G(C.pageParams,S,N)}};if(s&&o.length){const C=s==="backward",S=C?Wi:Er,P={pages:o,pageParams:i},E=S(r,P);a=await x(P,E,C)}else{const C=e??o.length;do{const S=c===0?i[0]??r.initialPageParam:Er(r,a);if(c>0&&S==null)break;a=await x(a,S),c++}while(c<C)}return a};t.options.persister?t.fetchFn=()=>{var m,b;return(b=(m=t.options).persister)==null?void 0:b.call(m,u,{queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n)}:t.fetchFn=u}}}function Er(e,{pages:t,pageParams:n}){const r=t.length-1;return t.length>0?e.getNextPageParam(t[r],t,n[r],n):void 0}function Wi(e,{pages:t,pageParams:n}){var r;return t.length>0?(r=e.getPreviousPageParam)==null?void 0:r.call(e,t[0],t,n[0],n):void 0}var $,Ce,Ee,Qe,ze,Pe,Ke,Xe,Is,Gi=(Is=class{constructor(e={}){M(this,$);M(this,Ce);M(this,Ee);M(this,Qe);M(this,ze);M(this,Pe);M(this,Ke);M(this,Xe);A(this,$,e.queryCache||new Bi),A(this,Ce,e.mutationCache||new Li),A(this,Ee,e.defaultOptions||{}),A(this,Qe,new Map),A(this,ze,new Map),A(this,Pe,0)}mount(){Rt(this,Pe)._++,y(this,Pe)===1&&(A(this,Ke,Ts.subscribe(async e=>{e&&(await this.resumePausedMutations(),y(this,$).onFocus())})),A(this,Xe,Lt.subscribe(async e=>{e&&(await this.resumePausedMutations(),y(this,$).onOnline())})))}unmount(){var e,t;Rt(this,Pe)._--,y(this,Pe)===0&&((e=y(this,Ke))==null||e.call(this),A(this,Ke,void 0),(t=y(this,Xe))==null||t.call(this),A(this,Xe,void 0))}isFetching(e){return y(this,$).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return y(this,Ce).findAll({...e,status:"pending"}).length}getQueryData(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=y(this,$).get(t.queryHash))==null?void 0:n.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),n=y(this,$).build(this,t),r=n.state.data;return r===void 0?this.fetchQuery(e):(e.revalidateIfStale&&n.isStaleByTime(xr(t.staleTime,n))&&this.prefetchQuery(t),Promise.resolve(r))}getQueriesData(e){return y(this,$).findAll(e).map(({queryKey:t,state:n})=>{const r=n.data;return[t,r]})}setQueryData(e,t,n){const r=this.defaultQueryOptions({queryKey:e}),s=y(this,$).get(r.queryHash),o=s==null?void 0:s.state.data,i=xi(t,o);if(i!==void 0)return y(this,$).build(this,r).setData(i,{...n,manual:!0})}setQueriesData(e,t,n){return X.batch(()=>y(this,$).findAll(e).map(({queryKey:r})=>[r,this.setQueryData(r,t,n)]))}getQueryState(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=y(this,$).get(t.queryHash))==null?void 0:n.state}removeQueries(e){const t=y(this,$);X.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=y(this,$),r={type:"active",...e};return X.batch(()=>(n.findAll(e).forEach(s=>{s.reset()}),this.refetchQueries(r,t)))}cancelQueries(e,t={}){const n={revert:!0,...t},r=X.batch(()=>y(this,$).findAll(e).map(s=>s.cancel(n)));return Promise.all(r).then(ue).catch(ue)}invalidateQueries(e,t={}){return X.batch(()=>{if(y(this,$).findAll(e).forEach(r=>{r.invalidate()}),(e==null?void 0:e.refetchType)==="none")return Promise.resolve();const n={...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"};return this.refetchQueries(n,t)})}refetchQueries(e,t={}){const n={...t,cancelRefetch:t.cancelRefetch??!0},r=X.batch(()=>y(this,$).findAll(e).filter(s=>!s.isDisabled()).map(s=>{let o=s.fetch(void 0,n);return n.throwOnError||(o=o.catch(ue)),s.state.fetchStatus==="paused"?Promise.resolve():o}));return Promise.all(r).then(ue)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=y(this,$).build(this,t);return n.isStaleByTime(xr(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(ue).catch(ue)}fetchInfiniteQuery(e){return e.behavior=Cr(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(ue).catch(ue)}ensureInfiniteQueryData(e){return e.behavior=Cr(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Lt.isOnline()?y(this,Ce).resumePausedMutations():Promise.resolve()}getQueryCache(){return y(this,$)}getMutationCache(){return y(this,Ce)}getDefaultOptions(){return y(this,Ee)}setDefaultOptions(e){A(this,Ee,e)}setQueryDefaults(e,t){y(this,Qe).set(pt(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...y(this,Qe).values()],n={};return t.forEach(r=>{ht(e,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(e,t){y(this,ze).set(pt(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...y(this,ze).values()];let n={};return t.forEach(r=>{ht(e,r.mutationKey)&&(n={...n,...r.defaultOptions})}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...y(this,Ee).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=$n(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===qn&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...y(this,Ee).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){y(this,$).clear(),y(this,Ce).clear()}},$=new WeakMap,Ce=new WeakMap,Ee=new WeakMap,Qe=new WeakMap,ze=new WeakMap,Pe=new WeakMap,Ke=new WeakMap,Xe=new WeakMap,Is),_i=v.createContext(void 0),$i=({client:e,children:t})=>(v.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),h.jsx(_i.Provider,{value:e,children:t})),Hn=ni();const qi=ri(Hn),Hi=({children:e})=>{const{user:t,loading:n}=Xt();return n?h.jsx("div",{className:"min-h-screen flex items-center justify-center",children:h.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-600"})}):t?h.jsx(h.Fragment,{children:e}):h.jsx(Os,{to:"/login"})},Un=si((e,t)=>({tasks:[],loading:!1,error:null,filter:"all",viewMode:"list",searchQuery:"",unsubscribe:null,setViewMode:n=>e({viewMode:n}),setFilter:n=>e({filter:n}),setSearchQuery:n=>e({searchQuery:n}),fetchTasks:async n=>{const{unsubscribe:r}=t();r&&r(),e({loading:!0,error:null}),console.log("Fetching tasks for user ID:",n);try{const s=mr(Tt,"tasks"),o=oi(s,ii("userId","==",n),ai("createdAt","desc"),ci(100)),i=li(o,a=>{const c=a.docs.map(u=>({id:u.id,...u.data()}));e({tasks:c,loading:!1})},a=>{console.error("Error fetching tasks:",a),e({error:`Failed to fetch tasks: ${a instanceof Error?a.message:String(a)}`,loading:!1})});e({unsubscribe:i})}catch(s){console.error("Error setting up task listener:",s),e({error:`Failed to set up task listener: ${s instanceof Error?s.message:String(s)}`,loading:!1})}},addTask:async n=>{e({loading:!0,error:null});try{const r=new Date().toISOString(),s=mr(Tt,"tasks"),o={...n,createdAt:r,updatedAt:r,activities:[]};await ui(s,o),e({loading:!1})}catch(r){console.error("Error adding task:",r),e({error:`Failed to add task: ${r instanceof Error?r.message:String(r)}`,loading:!1})}},updateTask:async(n,r)=>{e({loading:!0,error:null});try{const s=br(Tt,"tasks",n),o={...r,updatedAt:new Date().toISOString()};await di(s,o),e({loading:!1})}catch(s){console.error("Error updating task:",s),e({error:`Failed to update task: ${s instanceof Error?s.message:String(s)}`,loading:!1})}},deleteTask:async n=>{e({loading:!0,error:null});try{const r=br(Tt,"tasks",n);await fi(r),e({loading:!1})}catch(r){console.error("Error deleting task:",r),e({error:`Failed to delete task: ${r instanceof Error?r.message:String(r)}`,loading:!1})}},moveTask:async(n,r)=>{const{updateTask:s}=t();await s(n,{category:r})},cleanup:()=>{const{unsubscribe:n}=t();n&&(n(),e({unsubscribe:null}))}}));var Fs={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Pr=j.createContext&&j.createContext(Fs),Ui=["attr","size","title"];function Vi(e,t){if(e==null)return{};var n=Yi(e,t),r,s;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(s=0;s<o.length;s++)r=o[s],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Yi(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function Wt(){return Wt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Wt.apply(this,arguments)}function Ir(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function Gt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Ir(Object(n),!0).forEach(function(r){Qi(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ir(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Qi(e,t,n){return t=zi(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function zi(e){var t=Ki(e,"string");return typeof t=="symbol"?t:t+""}function Ki(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ls(e){return e&&e.map((t,n)=>j.createElement(t.tag,Gt({key:n},t.attr),Ls(t.child)))}function Ws(e){return t=>j.createElement(Xi,Wt({attr:Gt({},e.attr)},t),Ls(e.child))}function Xi(e){var t=n=>{var{attr:r,size:s,title:o}=e,i=Vi(e,Ui),a=s||n.size||"1em",c;return n.className&&(c=n.className),e.className&&(c=(c?c+" ":"")+e.className),j.createElement("svg",Wt({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,i,{className:c,style:Gt(Gt({color:e.color||n.color},n.style),e.style),height:a,width:a,xmlns:"http://www.w3.org/2000/svg"}),o&&j.createElement("title",null,o),e.children)};return Pr!==void 0?j.createElement(Pr.Consumer,null,n=>t(n)):t(Fs)}function Ji(e){return Ws({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"},child:[]}]})(e)}function Zi(e){return Ws({tag:"svg",attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"},child:[]}]})(e)}const ea=()=>{const e=Xt(i=>i.user),{viewMode:t,setViewMode:n,searchQuery:r,setSearchQuery:s}=Un(),o=async()=>{try{await pi(Ns)}catch(i){console.error("Error signing out:",i)}};return h.jsx("header",{className:"bg-white shadow-sm",children:h.jsx("div",{className:"header-container",children:h.jsxs("div",{className:"flex-between",children:[h.jsxs("div",{className:"flex items-center",children:[h.jsx("h1",{className:"text-purple-600",children:"TaskBuddy"}),h.jsxs("div",{className:"header-nav",children:[h.jsx("button",{onClick:()=>n("list"),className:`px-3 py-2 rounded-md text-sm font-medium ${t==="list"?"bg-purple-100 text-purple-700":"text-gray-600 hover:text-gray-900"}`,children:"List View"}),h.jsx("button",{onClick:()=>n("board"),className:`px-3 py-2 rounded-md text-sm font-medium ${t==="board"?"bg-purple-100 text-purple-700":"text-gray-600 hover:text-gray-900"}`,children:"Board View"})]})]}),h.jsxs("div",{className:"flex items-center space-x-4",children:[h.jsx("div",{className:"search-container",children:h.jsxs("div",{className:"relative",children:[h.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:h.jsx(Ji,{className:"h-4 w-4 text-gray-400"})}),h.jsx("input",{type:"text",placeholder:"Search tasks...",value:r,onChange:i=>s(i.target.value),className:"search-input"})]})}),e&&h.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-4",children:[h.jsx("span",{className:"text-sm sm:text-base text-gray-700",children:e.email}),h.jsx("button",{onClick:o,className:"btn btn-secondary",children:"Sign Out"})]})]})]})})})};function ta({title:e,titleId:t,...n},r){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?v.createElement("title",{id:t},e):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m19.5 8.25-7.5 7.5-7.5-7.5"}))}const hn=v.forwardRef(ta);function na({title:e,titleId:t,...n},r){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?v.createElement("title",{id:t},e):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m4.5 15.75 7.5-7.5 7.5 7.5"}))}const gn=v.forwardRef(na),Gs=6048e5,ra=864e5,Or=Symbol.for("constructDateFrom");function Ne(e,t){return typeof e=="function"?e(t):e&&typeof e=="object"&&Or in e?e[Or](t):e instanceof Date?new e.constructor(t):new Date(t)}function he(e,t){return Ne(t||e,e)}let sa={};function en(){return sa}function gt(e,t){var a,c,u,f;const n=en(),r=(t==null?void 0:t.weekStartsOn)??((c=(a=t==null?void 0:t.locale)==null?void 0:a.options)==null?void 0:c.weekStartsOn)??n.weekStartsOn??((f=(u=n.locale)==null?void 0:u.options)==null?void 0:f.weekStartsOn)??0,s=he(e,t==null?void 0:t.in),o=s.getDay(),i=(o<r?7:0)+o-r;return s.setDate(s.getDate()-i),s.setHours(0,0,0,0),s}function _t(e,t){return gt(e,{...t,weekStartsOn:1})}function _s(e,t){const n=he(e,t==null?void 0:t.in),r=n.getFullYear(),s=Ne(n,0);s.setFullYear(r+1,0,4),s.setHours(0,0,0,0);const o=_t(s),i=Ne(n,0);i.setFullYear(r,0,4),i.setHours(0,0,0,0);const a=_t(i);return n.getTime()>=o.getTime()?r+1:n.getTime()>=a.getTime()?r:r-1}function Nr(e){const t=he(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+e-+n}function oa(e,...t){const n=Ne.bind(null,t.find(r=>typeof r=="object"));return t.map(n)}function Ar(e,t){const n=he(e,t==null?void 0:t.in);return n.setHours(0,0,0,0),n}function ia(e,t,n){const[r,s]=oa(n==null?void 0:n.in,e,t),o=Ar(r),i=Ar(s),a=+o-Nr(o),c=+i-Nr(i);return Math.round((a-c)/ra)}function aa(e,t){const n=_s(e,t),r=Ne(e,0);return r.setFullYear(n,0,4),r.setHours(0,0,0,0),_t(r)}function ca(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function la(e){return!(!ca(e)&&typeof e!="number"||isNaN(+he(e)))}function ua(e,t){const n=he(e,t==null?void 0:t.in);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}const da={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},fa=(e,t,n)=>{let r;const s=da[e];return typeof s=="string"?r=s:t===1?r=s.one:r=s.other.replace("{{count}}",t.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function mn(e){return(t={})=>{const n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const pa={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},ha={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},ga={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},ma={date:mn({formats:pa,defaultWidth:"full"}),time:mn({formats:ha,defaultWidth:"full"}),dateTime:mn({formats:ga,defaultWidth:"full"})},ba={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},ya=(e,t,n,r)=>ba[e];function it(e){return(t,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let s;if(r==="formatting"&&e.formattingValues){const i=e.defaultFormattingWidth||e.defaultWidth,a=n!=null&&n.width?String(n.width):i;s=e.formattingValues[a]||e.formattingValues[i]}else{const i=e.defaultWidth,a=n!=null&&n.width?String(n.width):e.defaultWidth;s=e.values[a]||e.values[i]}const o=e.argumentCallback?e.argumentCallback(t):t;return s[o]}}const xa={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},va={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},wa={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Da={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Sa={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Ca={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Ea=(e,t)=>{const n=Number(e),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},Pa={ordinalNumber:Ea,era:it({values:xa,defaultWidth:"wide"}),quarter:it({values:va,defaultWidth:"wide",argumentCallback:e=>e-1}),month:it({values:wa,defaultWidth:"wide"}),day:it({values:Da,defaultWidth:"wide"}),dayPeriod:it({values:Sa,defaultWidth:"wide",formattingValues:Ca,defaultFormattingWidth:"wide"})};function at(e){return(t,n={})=>{const r=n.width,s=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],o=t.match(s);if(!o)return null;const i=o[0],a=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(a)?Oa(a,l=>l.test(i)):Ia(a,l=>l.test(i));let u;u=e.valueCallback?e.valueCallback(c):c,u=n.valueCallback?n.valueCallback(u):u;const f=t.slice(i.length);return{value:u,rest:f}}}function Ia(e,t){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t(e[n]))return n}function Oa(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return n}function Na(e){return(t,n={})=>{const r=t.match(e.matchPattern);if(!r)return null;const s=r[0],o=t.match(e.parsePattern);if(!o)return null;let i=e.valueCallback?e.valueCallback(o[0]):o[0];i=n.valueCallback?n.valueCallback(i):i;const a=t.slice(s.length);return{value:i,rest:a}}}const Aa=/^(\d+)(th|st|nd|rd)?/i,Ra=/\d+/i,Ta={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Ma={any:[/^b/i,/^(a|c)/i]},ka={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Ba={any:[/1/i,/2/i,/3/i,/4/i]},ja={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Fa={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},La={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Wa={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Ga={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},_a={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},$a={ordinalNumber:Na({matchPattern:Aa,parsePattern:Ra,valueCallback:e=>parseInt(e,10)}),era:at({matchPatterns:Ta,defaultMatchWidth:"wide",parsePatterns:Ma,defaultParseWidth:"any"}),quarter:at({matchPatterns:ka,defaultMatchWidth:"wide",parsePatterns:Ba,defaultParseWidth:"any",valueCallback:e=>e+1}),month:at({matchPatterns:ja,defaultMatchWidth:"wide",parsePatterns:Fa,defaultParseWidth:"any"}),day:at({matchPatterns:La,defaultMatchWidth:"wide",parsePatterns:Wa,defaultParseWidth:"any"}),dayPeriod:at({matchPatterns:Ga,defaultMatchWidth:"any",parsePatterns:_a,defaultParseWidth:"any"})},qa={code:"en-US",formatDistance:fa,formatLong:ma,formatRelative:ya,localize:Pa,match:$a,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Ha(e,t){const n=he(e,t==null?void 0:t.in);return ia(n,ua(n))+1}function Ua(e,t){const n=he(e,t==null?void 0:t.in),r=+_t(n)-+aa(n);return Math.round(r/Gs)+1}function $s(e,t){var f,l,d,p;const n=he(e,t==null?void 0:t.in),r=n.getFullYear(),s=en(),o=(t==null?void 0:t.firstWeekContainsDate)??((l=(f=t==null?void 0:t.locale)==null?void 0:f.options)==null?void 0:l.firstWeekContainsDate)??s.firstWeekContainsDate??((p=(d=s.locale)==null?void 0:d.options)==null?void 0:p.firstWeekContainsDate)??1,i=Ne((t==null?void 0:t.in)||e,0);i.setFullYear(r+1,0,o),i.setHours(0,0,0,0);const a=gt(i,t),c=Ne((t==null?void 0:t.in)||e,0);c.setFullYear(r,0,o),c.setHours(0,0,0,0);const u=gt(c,t);return+n>=+a?r+1:+n>=+u?r:r-1}function Va(e,t){var a,c,u,f;const n=en(),r=(t==null?void 0:t.firstWeekContainsDate)??((c=(a=t==null?void 0:t.locale)==null?void 0:a.options)==null?void 0:c.firstWeekContainsDate)??n.firstWeekContainsDate??((f=(u=n.locale)==null?void 0:u.options)==null?void 0:f.firstWeekContainsDate)??1,s=$s(e,t),o=Ne((t==null?void 0:t.in)||e,0);return o.setFullYear(s,0,r),o.setHours(0,0,0,0),gt(o,t)}function Ya(e,t){const n=he(e,t==null?void 0:t.in),r=+gt(n,t)-+Va(n,t);return Math.round(r/Gs)+1}function B(e,t){const n=e<0?"-":"",r=Math.abs(e).toString().padStart(t,"0");return n+r}const ve={y(e,t){const n=e.getFullYear(),r=n>0?n:1-n;return B(t==="yy"?r%100:r,t.length)},M(e,t){const n=e.getMonth();return t==="M"?String(n+1):B(n+1,2)},d(e,t){return B(e.getDate(),t.length)},a(e,t){const n=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(e,t){return B(e.getHours()%12||12,t.length)},H(e,t){return B(e.getHours(),t.length)},m(e,t){return B(e.getMinutes(),t.length)},s(e,t){return B(e.getSeconds(),t.length)},S(e,t){const n=t.length,r=e.getMilliseconds(),s=Math.trunc(r*Math.pow(10,n-3));return B(s,t.length)}},$e={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Rr={G:function(e,t,n){const r=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(e,t,n){if(t==="yo"){const r=e.getFullYear(),s=r>0?r:1-r;return n.ordinalNumber(s,{unit:"year"})}return ve.y(e,t)},Y:function(e,t,n,r){const s=$s(e,r),o=s>0?s:1-s;if(t==="YY"){const i=o%100;return B(i,2)}return t==="Yo"?n.ordinalNumber(o,{unit:"year"}):B(o,t.length)},R:function(e,t){const n=_s(e);return B(n,t.length)},u:function(e,t){const n=e.getFullYear();return B(n,t.length)},Q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(r);case"QQ":return B(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(r);case"qq":return B(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(e,t,n){const r=e.getMonth();switch(t){case"M":case"MM":return ve.M(e,t);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(e,t,n){const r=e.getMonth();switch(t){case"L":return String(r+1);case"LL":return B(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(e,t,n,r){const s=Ya(e,r);return t==="wo"?n.ordinalNumber(s,{unit:"week"}):B(s,t.length)},I:function(e,t,n){const r=Ua(e);return t==="Io"?n.ordinalNumber(r,{unit:"week"}):B(r,t.length)},d:function(e,t,n){return t==="do"?n.ordinalNumber(e.getDate(),{unit:"date"}):ve.d(e,t)},D:function(e,t,n){const r=Ha(e);return t==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):B(r,t.length)},E:function(e,t,n){const r=e.getDay();switch(t){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(e,t,n,r){const s=e.getDay(),o=(s-r.weekStartsOn+8)%7||7;switch(t){case"e":return String(o);case"ee":return B(o,2);case"eo":return n.ordinalNumber(o,{unit:"day"});case"eee":return n.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(s,{width:"short",context:"formatting"});case"eeee":default:return n.day(s,{width:"wide",context:"formatting"})}},c:function(e,t,n,r){const s=e.getDay(),o=(s-r.weekStartsOn+8)%7||7;switch(t){case"c":return String(o);case"cc":return B(o,t.length);case"co":return n.ordinalNumber(o,{unit:"day"});case"ccc":return n.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(s,{width:"narrow",context:"standalone"});case"cccccc":return n.day(s,{width:"short",context:"standalone"});case"cccc":default:return n.day(s,{width:"wide",context:"standalone"})}},i:function(e,t,n){const r=e.getDay(),s=r===0?7:r;switch(t){case"i":return String(s);case"ii":return B(s,t.length);case"io":return n.ordinalNumber(s,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(e,t,n){const s=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(e,t,n){const r=e.getHours();let s;switch(r===12?s=$e.noon:r===0?s=$e.midnight:s=r/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(e,t,n){const r=e.getHours();let s;switch(r>=17?s=$e.evening:r>=12?s=$e.afternoon:r>=4?s=$e.morning:s=$e.night,t){case"B":case"BB":case"BBB":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(e,t,n){if(t==="ho"){let r=e.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return ve.h(e,t)},H:function(e,t,n){return t==="Ho"?n.ordinalNumber(e.getHours(),{unit:"hour"}):ve.H(e,t)},K:function(e,t,n){const r=e.getHours()%12;return t==="Ko"?n.ordinalNumber(r,{unit:"hour"}):B(r,t.length)},k:function(e,t,n){let r=e.getHours();return r===0&&(r=24),t==="ko"?n.ordinalNumber(r,{unit:"hour"}):B(r,t.length)},m:function(e,t,n){return t==="mo"?n.ordinalNumber(e.getMinutes(),{unit:"minute"}):ve.m(e,t)},s:function(e,t,n){return t==="so"?n.ordinalNumber(e.getSeconds(),{unit:"second"}):ve.s(e,t)},S:function(e,t){return ve.S(e,t)},X:function(e,t,n){const r=e.getTimezoneOffset();if(r===0)return"Z";switch(t){case"X":return Mr(r);case"XXXX":case"XX":return ke(r);case"XXXXX":case"XXX":default:return ke(r,":")}},x:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"x":return Mr(r);case"xxxx":case"xx":return ke(r);case"xxxxx":case"xxx":default:return ke(r,":")}},O:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+Tr(r,":");case"OOOO":default:return"GMT"+ke(r,":")}},z:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+Tr(r,":");case"zzzz":default:return"GMT"+ke(r,":")}},t:function(e,t,n){const r=Math.trunc(+e/1e3);return B(r,t.length)},T:function(e,t,n){return B(+e,t.length)}};function Tr(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),s=Math.trunc(r/60),o=r%60;return o===0?n+String(s):n+String(s)+t+B(o,2)}function Mr(e,t){return e%60===0?(e>0?"-":"+")+B(Math.abs(e)/60,2):ke(e,t)}function ke(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),s=B(Math.trunc(r/60),2),o=B(r%60,2);return n+s+t+o}const kr=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},qs=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},Qa=(e,t)=>{const n=e.match(/(P+)(p+)?/)||[],r=n[1],s=n[2];if(!s)return kr(e,t);let o;switch(r){case"P":o=t.dateTime({width:"short"});break;case"PP":o=t.dateTime({width:"medium"});break;case"PPP":o=t.dateTime({width:"long"});break;case"PPPP":default:o=t.dateTime({width:"full"});break}return o.replace("{{date}}",kr(r,t)).replace("{{time}}",qs(s,t))},za={p:qs,P:Qa},Ka=/^D+$/,Xa=/^Y+$/,Ja=["D","DD","YY","YYYY"];function Za(e){return Ka.test(e)}function ec(e){return Xa.test(e)}function tc(e,t,n){const r=nc(e,t,n);if(console.warn(r),Ja.includes(e))throw new RangeError(r)}function nc(e,t,n){const r=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const rc=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,sc=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,oc=/^'([^]*?)'?$/,ic=/''/g,ac=/[a-zA-Z]/;function Ge(e,t,n){var f,l,d,p;const r=en(),s=r.locale??qa,o=r.firstWeekContainsDate??((l=(f=r.locale)==null?void 0:f.options)==null?void 0:l.firstWeekContainsDate)??1,i=r.weekStartsOn??((p=(d=r.locale)==null?void 0:d.options)==null?void 0:p.weekStartsOn)??0,a=he(e,n==null?void 0:n.in);if(!la(a))throw new RangeError("Invalid time value");let c=t.match(sc).map(g=>{const m=g[0];if(m==="p"||m==="P"){const b=za[m];return b(g,s.formatLong)}return g}).join("").match(rc).map(g=>{if(g==="''")return{isToken:!1,value:"'"};const m=g[0];if(m==="'")return{isToken:!1,value:cc(g)};if(Rr[m])return{isToken:!0,value:g};if(m.match(ac))throw new RangeError("Format string contains an unescaped latin alphabet character `"+m+"`");return{isToken:!1,value:g}});s.localize.preprocessor&&(c=s.localize.preprocessor(a,c));const u={firstWeekContainsDate:o,weekStartsOn:i,locale:s};return c.map(g=>{if(!g.isToken)return g.value;const m=g.value;(ec(m)||Za(m))&&tc(m,t,String(e));const b=Rr[m[0]];return b(a,m,s.localize,u)}).join("")}function cc(e){const t=e.match(oc);return t?t[1].replace(ic,"'"):e}function z(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var lc=typeof Symbol=="function"&&Symbol.observable||"@@observable",Br=lc,bn=()=>Math.random().toString(36).substring(7).split("").join("."),uc={INIT:`@@redux/INIT${bn()}`,REPLACE:`@@redux/REPLACE${bn()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${bn()}`},jr=uc;function dc(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function Hs(e,t,n){if(typeof e!="function")throw new Error(z(2));if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(z(0));if(typeof t=="function"&&typeof n>"u"&&(n=t,t=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(z(1));return n(Hs)(e,t)}let r=e,s=t,o=new Map,i=o,a=0,c=!1;function u(){i===o&&(i=new Map,o.forEach((b,w)=>{i.set(w,b)}))}function f(){if(c)throw new Error(z(3));return s}function l(b){if(typeof b!="function")throw new Error(z(4));if(c)throw new Error(z(5));let w=!0;u();const x=a++;return i.set(x,b),function(){if(w){if(c)throw new Error(z(6));w=!1,u(),i.delete(x),o=null}}}function d(b){if(!dc(b))throw new Error(z(7));if(typeof b.type>"u")throw new Error(z(8));if(typeof b.type!="string")throw new Error(z(17));if(c)throw new Error(z(9));try{c=!0,s=r(s,b)}finally{c=!1}return(o=i).forEach(x=>{x()}),b}function p(b){if(typeof b!="function")throw new Error(z(10));r=b,d({type:jr.REPLACE})}function g(){const b=l;return{subscribe(w){if(typeof w!="object"||w===null)throw new Error(z(11));function x(){const S=w;S.next&&S.next(f())}return x(),{unsubscribe:b(x)}},[Br](){return this}}}return d({type:jr.INIT}),{dispatch:d,subscribe:l,getState:f,replaceReducer:p,[Br]:g}}function Fr(e,t){return function(...n){return t(e.apply(this,n))}}function Lr(e,t){if(typeof e=="function")return Fr(e,t);if(typeof e!="object"||e===null)throw new Error(z(16));const n={};for(const r in e){const s=e[r];typeof s=="function"&&(n[r]=Fr(s,t))}return n}function Us(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,n)=>(...r)=>t(n(...r)))}function fc(...e){return t=>(n,r)=>{const s=t(n,r);let o=()=>{throw new Error(z(15))};const i={getState:s.getState,dispatch:(c,...u)=>o(c,...u)},a=e.map(c=>c(i));return o=Us(...a)(s.dispatch),{...s,dispatch:o}}}var yn={exports:{}},xn={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wr;function pc(){if(Wr)return xn;Wr=1;var e=hi();function t(c,u){return c===u&&(c!==0||1/c===1/u)||c!==c&&u!==u}var n=typeof Object.is=="function"?Object.is:t,r=e.useSyncExternalStore,s=e.useRef,o=e.useEffect,i=e.useMemo,a=e.useDebugValue;return xn.useSyncExternalStoreWithSelector=function(c,u,f,l,d){var p=s(null);if(p.current===null){var g={hasValue:!1,value:null};p.current=g}else g=p.current;p=i(function(){function b(P){if(!w){if(w=!0,x=P,P=l(P),d!==void 0&&g.hasValue){var E=g.value;if(d(E,P))return C=E}return C=P}if(E=C,n(x,P))return E;var R=l(P);return d!==void 0&&d(E,R)?(x=P,E):(x=P,C=R)}var w=!1,x,C,S=f===void 0?null:f;return[function(){return b(u())},S===null?void 0:function(){return b(S())}]},[u,f,l,d]);var m=r(c,p[0],p[1]);return o(function(){g.hasValue=!0,g.value=m},[m]),a(m),m},xn}var Gr;function hc(){return Gr||(Gr=1,yn.exports=pc()),yn.exports}hc();var gc=v.version.startsWith("19"),mc=Symbol.for(gc?"react.transitional.element":"react.element"),bc=Symbol.for("react.portal"),yc=Symbol.for("react.fragment"),xc=Symbol.for("react.strict_mode"),vc=Symbol.for("react.profiler"),wc=Symbol.for("react.consumer"),Dc=Symbol.for("react.context"),Vs=Symbol.for("react.forward_ref"),Sc=Symbol.for("react.suspense"),Cc=Symbol.for("react.suspense_list"),Vn=Symbol.for("react.memo"),Ec=Symbol.for("react.lazy"),Pc=Vs,Ic=Vn;function Oc(e){if(typeof e=="object"&&e!==null){const{$$typeof:t}=e;switch(t){case mc:switch(e=e.type,e){case yc:case vc:case xc:case Sc:case Cc:return e;default:switch(e=e&&e.$$typeof,e){case Dc:case Vs:case Ec:case Vn:return e;case wc:return e;default:return t}}case bc:return t}}}function Nc(e){return Oc(e)===Vn}function Ac(e,t,n,r,{areStatesEqual:s,areOwnPropsEqual:o,areStatePropsEqual:i}){let a=!1,c,u,f,l,d;function p(x,C){return c=x,u=C,f=e(c,u),l=t(r,u),d=n(f,l,u),a=!0,d}function g(){return f=e(c,u),t.dependsOnOwnProps&&(l=t(r,u)),d=n(f,l,u),d}function m(){return e.dependsOnOwnProps&&(f=e(c,u)),t.dependsOnOwnProps&&(l=t(r,u)),d=n(f,l,u),d}function b(){const x=e(c,u),C=!i(x,f);return f=x,C&&(d=n(f,l,u)),d}function w(x,C){const S=!o(C,u),P=!s(x,c,C,u);return c=x,u=C,S&&P?g():S?m():P?b():d}return function(C,S){return a?w(C,S):p(C,S)}}function Rc(e,{initMapStateToProps:t,initMapDispatchToProps:n,initMergeProps:r,...s}){const o=t(e,s),i=n(e,s),a=r(e,s);return Ac(o,i,a,e,s)}function Tc(e,t){const n={};for(const r in e){const s=e[r];typeof s=="function"&&(n[r]=(...o)=>t(s(...o)))}return n}function kn(e){return function(n){const r=e(n);function s(){return r}return s.dependsOnOwnProps=!1,s}}function _r(e){return e.dependsOnOwnProps?!!e.dependsOnOwnProps:e.length!==1}function Ys(e,t){return function(r,{displayName:s}){const o=function(a,c){return o.dependsOnOwnProps?o.mapToProps(a,c):o.mapToProps(a,void 0)};return o.dependsOnOwnProps=!0,o.mapToProps=function(a,c){o.mapToProps=e,o.dependsOnOwnProps=_r(e);let u=o(a,c);return typeof u=="function"&&(o.mapToProps=u,o.dependsOnOwnProps=_r(u),u=o(a,c)),u},o}}function Yn(e,t){return(n,r)=>{throw new Error(`Invalid value of type ${typeof e} for ${t} argument when connecting component ${r.wrappedComponentName}.`)}}function Mc(e){return e&&typeof e=="object"?kn(t=>Tc(e,t)):e?typeof e=="function"?Ys(e):Yn(e,"mapDispatchToProps"):kn(t=>({dispatch:t}))}function kc(e){return e?typeof e=="function"?Ys(e):Yn(e,"mapStateToProps"):kn(()=>({}))}function Bc(e,t,n){return{...n,...e,...t}}function jc(e){return function(n,{displayName:r,areMergedPropsEqual:s}){let o=!1,i;return function(c,u,f){const l=e(c,u,f);return o?s(l,i)||(i=l):(o=!0,i=l),i}}}function Fc(e){return e?typeof e=="function"?jc(e):Yn(e,"mergeProps"):()=>Bc}function Lc(e){e()}function Wc(){let e=null,t=null;return{clear(){e=null,t=null},notify(){Lc(()=>{let n=e;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=e;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const s=t={callback:n,next:null,prev:t};return s.prev?s.prev.next=s:e=s,function(){!r||e===null||(r=!1,s.next?s.next.prev=s.prev:t=s.prev,s.prev?s.prev.next=s.next:e=s.next)}}}}var $r={notify(){},get:()=>[]};function Qs(e,t){let n,r=$r,s=0,o=!1;function i(m){f();const b=r.subscribe(m);let w=!1;return()=>{w||(w=!0,b(),l())}}function a(){r.notify()}function c(){g.onStateChange&&g.onStateChange()}function u(){return o}function f(){s++,n||(n=t?t.addNestedSub(c):e.subscribe(c),r=Wc())}function l(){s--,n&&s===0&&(n(),n=void 0,r.clear(),r=$r)}function d(){o||(o=!0,f())}function p(){o&&(o=!1,l())}const g={addNestedSub:i,notifyNestedSubs:a,handleChangeWrapper:c,isSubscribed:u,trySubscribe:d,tryUnsubscribe:p,getListeners:()=>r};return g}var Gc=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",_c=Gc(),$c=()=>typeof navigator<"u"&&navigator.product==="ReactNative",qc=$c(),Hc=()=>_c||qc?v.useLayoutEffect:v.useEffect,$t=Hc();function qr(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function vn(e,t){if(qr(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(!Object.prototype.hasOwnProperty.call(t,n[s])||!qr(e[n[s]],t[n[s]]))return!1;return!0}var Uc={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},Vc={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},Yc={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},zs={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},Qc={[Pc]:Yc,[Ic]:zs};function Hr(e){return Nc(e)?zs:Qc[e.$$typeof]||Uc}var zc=Object.defineProperty,Kc=Object.getOwnPropertyNames,Ur=Object.getOwnPropertySymbols,Xc=Object.getOwnPropertyDescriptor,Jc=Object.getPrototypeOf,Vr=Object.prototype;function Bn(e,t){if(typeof t!="string"){if(Vr){const o=Jc(t);o&&o!==Vr&&Bn(e,o)}let n=Kc(t);Ur&&(n=n.concat(Ur(t)));const r=Hr(e),s=Hr(t);for(let o=0;o<n.length;++o){const i=n[o];if(!Vc[i]&&!(s&&s[i])&&!(r&&r[i])){const a=Xc(t,i);try{zc(e,i,a)}catch{}}}}return e}var wn=Symbol.for("react-redux-context"),Dn=typeof globalThis<"u"?globalThis:{};function Zc(){if(!v.createContext)return{};const e=Dn[wn]??(Dn[wn]=new Map);let t=e.get(v.createContext);return t||(t=v.createContext(null),e.set(v.createContext,t)),t}var Ks=Zc(),el=[null,null];function tl(e,t,n){$t(()=>e(...t),n)}function nl(e,t,n,r,s,o){e.current=r,n.current=!1,s.current&&(s.current=null,o())}function rl(e,t,n,r,s,o,i,a,c,u,f){if(!e)return()=>{};let l=!1,d=null;const p=()=>{if(l||!a.current)return;const m=t.getState();let b,w;try{b=r(m,s.current)}catch(x){w=x,d=x}w||(d=null),b===o.current?i.current||u():(o.current=b,c.current=b,i.current=!0,f())};return n.onStateChange=p,n.trySubscribe(),p(),()=>{if(l=!0,n.tryUnsubscribe(),n.onStateChange=null,d)throw d}}function sl(e,t){return e===t}function ol(e,t,n,{pure:r,areStatesEqual:s=sl,areOwnPropsEqual:o=vn,areStatePropsEqual:i=vn,areMergedPropsEqual:a=vn,forwardRef:c=!1,context:u=Ks}={}){const f=u,l=kc(e),d=Mc(t),p=Fc(n),g=!!e;return b=>{const w=b.displayName||b.name||"Component",x=`Connect(${w})`,C={shouldHandleStateChanges:g,displayName:x,wrappedComponentName:w,WrappedComponent:b,initMapStateToProps:l,initMapDispatchToProps:d,initMergeProps:p,areStatesEqual:s,areStatePropsEqual:i,areOwnPropsEqual:o,areMergedPropsEqual:a};function S(R){const[N,G,F]=v.useMemo(()=>{const{reactReduxForwardedRef:se,...ot}=R;return[R.context,se,ot]},[R]),W=v.useMemo(()=>{let se=f;return N!=null&&N.Consumer,se},[N,f]),_=v.useContext(W),J=!!R.store&&!!R.store.getState&&!!R.store.dispatch,Re=!!_&&!!_.store,Z=J?R.store:_.store,It=Re?_.getServerState:Z.getState,st=v.useMemo(()=>Rc(Z.dispatch,C),[Z]),[Te,Ot]=v.useMemo(()=>{if(!g)return el;const se=Qs(Z,J?void 0:_.subscription),ot=se.notifyNestedSubs.bind(se);return[se,ot]},[Z,J,_]),O=v.useMemo(()=>J?_:{..._,subscription:Te},[J,_,Te]),L=v.useRef(void 0),le=v.useRef(F),ee=v.useRef(void 0),Nt=v.useRef(!1),ln=v.useRef(!1),un=v.useRef(void 0);$t(()=>(ln.current=!0,()=>{ln.current=!1}),[]);const hr=v.useMemo(()=>()=>ee.current&&F===le.current?ee.current:st(Z.getState(),F),[Z,F]),ti=v.useMemo(()=>ot=>Te?rl(g,Z,Te,st,le,L,Nt,ln,ee,Ot,ot):()=>{},[Te]);tl(nl,[le,L,Nt,F,ee,Ot]);let At;try{At=v.useSyncExternalStore(ti,hr,It?()=>st(It(),F):hr)}catch(se){throw un.current&&(se.message+=`
The error may be correlated with this previous error:
${un.current.stack}

`),se}$t(()=>{un.current=void 0,ee.current=void 0,L.current=At});const dn=v.useMemo(()=>v.createElement(b,{...At,ref:G}),[G,b,At]);return v.useMemo(()=>g?v.createElement(W.Provider,{value:O},dn):dn,[W,dn,O])}const E=v.memo(S);if(E.WrappedComponent=b,E.displayName=S.displayName=x,c){const N=v.forwardRef(function(F,W){return v.createElement(E,{...F,reactReduxForwardedRef:W})});return N.displayName=x,N.WrappedComponent=b,Bn(N,b)}return Bn(E,b)}}var Xs=ol;function il(e){const{children:t,context:n,serverState:r,store:s}=e,o=v.useMemo(()=>{const c=Qs(s);return{store:s,subscription:c,getServerState:r?()=>r:void 0}},[s,r]),i=v.useMemo(()=>s.getState(),[s]);$t(()=>{const{subscription:c}=o;return c.onStateChange=c.notifyNestedSubs,c.trySubscribe(),i!==s.getState()&&c.notifyNestedSubs(),()=>{c.tryUnsubscribe(),c.onStateChange=void 0}},[o,i]);const a=n||Ks;return v.createElement(a.Provider,{value:o},t)}var al=il;function cl(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function Js(e,t){var n=v.useState(function(){return{inputs:t,result:e()}})[0],r=v.useRef(!0),s=v.useRef(n),o=r.current||!!(t&&s.current.inputs&&cl(t,s.current.inputs)),i=o?s.current:{inputs:t,result:e()};return v.useEffect(function(){r.current=!1,s.current=i},[i]),i.result}function ll(e,t){return Js(function(){return e},t)}var T=Js,I=ll,ul="Invariant failed";function dl(e,t){throw new Error(ul)}var pe=function(t){var n=t.top,r=t.right,s=t.bottom,o=t.left,i=r-o,a=s-n,c={top:n,right:r,bottom:s,left:o,width:i,height:a,x:o,y:n,center:{x:(r+o)/2,y:(s+n)/2}};return c},Qn=function(t,n){return{top:t.top-n.top,left:t.left-n.left,bottom:t.bottom+n.bottom,right:t.right+n.right}},Yr=function(t,n){return{top:t.top+n.top,left:t.left+n.left,bottom:t.bottom-n.bottom,right:t.right-n.right}},fl=function(t,n){return{top:t.top+n.y,left:t.left+n.x,bottom:t.bottom+n.y,right:t.right+n.x}},Sn={top:0,right:0,bottom:0,left:0},zn=function(t){var n=t.borderBox,r=t.margin,s=r===void 0?Sn:r,o=t.border,i=o===void 0?Sn:o,a=t.padding,c=a===void 0?Sn:a,u=pe(Qn(n,s)),f=pe(Yr(n,i)),l=pe(Yr(f,c));return{marginBox:u,borderBox:pe(n),paddingBox:f,contentBox:l,margin:s,border:i,padding:c}},oe=function(t){var n=t.slice(0,-2),r=t.slice(-2);if(r!=="px")return 0;var s=Number(n);return isNaN(s)&&dl(),s},pl=function(){return{x:window.pageXOffset,y:window.pageYOffset}},qt=function(t,n){var r=t.borderBox,s=t.border,o=t.margin,i=t.padding,a=fl(r,n);return zn({borderBox:a,border:s,margin:o,padding:i})},Ht=function(t,n){return n===void 0&&(n=pl()),qt(t,n)},Zs=function(t,n){var r={top:oe(n.marginTop),right:oe(n.marginRight),bottom:oe(n.marginBottom),left:oe(n.marginLeft)},s={top:oe(n.paddingTop),right:oe(n.paddingRight),bottom:oe(n.paddingBottom),left:oe(n.paddingLeft)},o={top:oe(n.borderTopWidth),right:oe(n.borderRightWidth),bottom:oe(n.borderBottomWidth),left:oe(n.borderLeftWidth)};return zn({borderBox:t,margin:r,padding:s,border:o})},eo=function(t){var n=t.getBoundingClientRect(),r=window.getComputedStyle(t);return Zs(n,r)},Qr=Number.isNaN||function(t){return typeof t=="number"&&t!==t};function hl(e,t){return!!(e===t||Qr(e)&&Qr(t))}function gl(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(!hl(e[n],t[n]))return!1;return!0}function q(e,t){t===void 0&&(t=gl);var n=null;function r(){for(var s=[],o=0;o<arguments.length;o++)s[o]=arguments[o];if(n&&n.lastThis===this&&t(s,n.lastArgs))return n.lastResult;var i=e.apply(this,s);return n={lastResult:i,lastArgs:s,lastThis:this},i}return r.clear=function(){n=null},r}var mt=function(t){var n=[],r=null,s=function(){for(var i=arguments.length,a=new Array(i),c=0;c<i;c++)a[c]=arguments[c];n=a,!r&&(r=requestAnimationFrame(function(){r=null,t.apply(void 0,n)}))};return s.cancel=function(){r&&(cancelAnimationFrame(r),r=null)},s};function Ut(){return Ut=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ut.apply(null,arguments)}function to(e,t){}to.bind(null,"warn");to.bind(null,"error");function Ie(){}function ml(e,t){return{...e,...t}}function ae(e,t,n){const r=t.map(s=>{const o=ml(n,s.options);return e.addEventListener(s.eventName,s.fn,o),function(){e.removeEventListener(s.eventName,s.fn,o)}});return function(){r.forEach(o=>{o()})}}const bl="Invariant failed";class Vt extends Error{}Vt.prototype.toString=function(){return this.message};function D(e,t){throw new Vt(bl)}class yl extends j.Component{constructor(...t){super(...t),this.callbacks=null,this.unbind=Ie,this.onWindowError=n=>{const r=this.getCallbacks();r.isDragging()&&r.tryAbort(),n.error instanceof Vt&&n.preventDefault()},this.getCallbacks=()=>{if(!this.callbacks)throw new Error("Unable to find AppCallbacks in <ErrorBoundary/>");return this.callbacks},this.setCallbacks=n=>{this.callbacks=n}}componentDidMount(){this.unbind=ae(window,[{eventName:"error",fn:this.onWindowError}])}componentDidCatch(t){if(t instanceof Vt){this.setState({});return}throw t}componentWillUnmount(){this.unbind()}render(){return this.props.children(this.setCallbacks)}}const xl=`
  Press space bar to start a drag.
  When dragging you can use the arrow keys to move the item around and escape to cancel.
  Some screen readers may require you to be in focus mode or to use your pass through key
`,Yt=e=>e+1,vl=e=>`
  You have lifted an item in position ${Yt(e.source.index)}
`,no=(e,t)=>{const n=e.droppableId===t.droppableId,r=Yt(e.index),s=Yt(t.index);return n?`
      You have moved the item from position ${r}
      to position ${s}
    `:`
    You have moved the item from position ${r}
    in list ${e.droppableId}
    to list ${t.droppableId}
    in position ${s}
  `},ro=(e,t,n)=>t.droppableId===n.droppableId?`
      The item ${e}
      has been combined with ${n.draggableId}`:`
      The item ${e}
      in list ${t.droppableId}
      has been combined with ${n.draggableId}
      in list ${n.droppableId}
    `,wl=e=>{const t=e.destination;if(t)return no(e.source,t);const n=e.combine;return n?ro(e.draggableId,e.source,n):"You are over an area that cannot be dropped on"},zr=e=>`
  The item has returned to its starting position
  of ${Yt(e.index)}
`,Dl=e=>{if(e.reason==="CANCEL")return`
      Movement cancelled.
      ${zr(e.source)}
    `;const t=e.destination,n=e.combine;return t?`
      You have dropped the item.
      ${no(e.source,t)}
    `:n?`
      You have dropped the item.
      ${ro(e.draggableId,e.source,n)}
    `:`
    The item has been dropped while not over a drop area.
    ${zr(e.source)}
  `},Ft={dragHandleUsageInstructions:xl,onDragStart:vl,onDragUpdate:wl,onDragEnd:Dl},H={x:0,y:0},U=(e,t)=>({x:e.x+t.x,y:e.y+t.y}),te=(e,t)=>({x:e.x-t.x,y:e.y-t.y}),Oe=(e,t)=>e.x===t.x&&e.y===t.y,tt=e=>({x:e.x!==0?-e.x:0,y:e.y!==0?-e.y:0}),_e=(e,t,n=0)=>e==="x"?{x:t,y:n}:{x:n,y:t},bt=(e,t)=>Math.sqrt((t.x-e.x)**2+(t.y-e.y)**2),Kr=(e,t)=>Math.min(...t.map(n=>bt(e,n))),so=e=>t=>({x:e(t.x),y:e(t.y)});var Sl=(e,t)=>{const n=pe({top:Math.max(t.top,e.top),right:Math.min(t.right,e.right),bottom:Math.min(t.bottom,e.bottom),left:Math.max(t.left,e.left)});return n.width<=0||n.height<=0?null:n};const Et=(e,t)=>({top:e.top+t.y,left:e.left+t.x,bottom:e.bottom+t.y,right:e.right+t.x}),Xr=e=>[{x:e.left,y:e.top},{x:e.right,y:e.top},{x:e.left,y:e.bottom},{x:e.right,y:e.bottom}],Cl={top:0,right:0,bottom:0,left:0},El=(e,t)=>t?Et(e,t.scroll.diff.displacement):e,Pl=(e,t,n)=>n&&n.increasedBy?{...e,[t.end]:e[t.end]+n.increasedBy[t.line]}:e,Il=(e,t)=>t&&t.shouldClipSubject?Sl(t.pageMarginBox,e):pe(e);var Je=({page:e,withPlaceholder:t,axis:n,frame:r})=>{const s=El(e.marginBox,r),o=Pl(s,n,t),i=Il(o,r);return{page:e,withPlaceholder:t,active:i}},Kn=(e,t)=>{e.frame||D();const n=e.frame,r=te(t,n.scroll.initial),s=tt(r),o={...n,scroll:{initial:n.scroll.initial,current:t,diff:{value:r,displacement:s},max:n.scroll.max}},i=Je({page:e.subject.page,withPlaceholder:e.subject.withPlaceholder,axis:e.axis,frame:o});return{...e,frame:o,subject:i}};const oo=q(e=>e.reduce((t,n)=>(t[n.descriptor.id]=n,t),{})),io=q(e=>e.reduce((t,n)=>(t[n.descriptor.id]=n,t),{})),tn=q(e=>Object.values(e)),Ol=q(e=>Object.values(e));var nt=q((e,t)=>Ol(t).filter(r=>e===r.descriptor.droppableId).sort((r,s)=>r.descriptor.index-s.descriptor.index));function Xn(e){return e.at&&e.at.type==="REORDER"?e.at.destination:null}function nn(e){return e.at&&e.at.type==="COMBINE"?e.at.combine:null}var rn=q((e,t)=>t.filter(n=>n.descriptor.id!==e.descriptor.id)),Nl=({isMovingForward:e,draggable:t,destination:n,insideDestination:r,previousImpact:s})=>{if(!n.isCombineEnabled||!Xn(s))return null;function i(p){const g={type:"COMBINE",combine:{draggableId:p,droppableId:n.descriptor.id}};return{...s,at:g}}const a=s.displaced.all,c=a.length?a[0]:null;if(e)return c?i(c):null;const u=rn(t,r);if(!c){if(!u.length)return null;const p=u[u.length-1];return i(p.descriptor.id)}const f=u.findIndex(p=>p.descriptor.id===c);f===-1&&D();const l=f-1;if(l<0)return null;const d=u[l];return i(d.descriptor.id)},rt=(e,t)=>e.descriptor.droppableId===t.descriptor.id;const ao={point:H,value:0},yt={invisible:{},visible:{},all:[]},Al={displaced:yt,displacedBy:ao,at:null};var ce=(e,t)=>n=>e<=n&&n<=t,co=e=>{const t=ce(e.top,e.bottom),n=ce(e.left,e.right);return r=>{if(t(r.top)&&t(r.bottom)&&n(r.left)&&n(r.right))return!0;const o=t(r.top)||t(r.bottom),i=n(r.left)||n(r.right);if(o&&i)return!0;const c=r.top<e.top&&r.bottom>e.bottom,u=r.left<e.left&&r.right>e.right;return c&&u?!0:c&&i||u&&o}},Rl=e=>{const t=ce(e.top,e.bottom),n=ce(e.left,e.right);return r=>t(r.top)&&t(r.bottom)&&n(r.left)&&n(r.right)};const Jn={direction:"vertical",line:"y",crossAxisLine:"x",start:"top",end:"bottom",size:"height",crossAxisStart:"left",crossAxisEnd:"right",crossAxisSize:"width"},lo={direction:"horizontal",line:"x",crossAxisLine:"y",start:"left",end:"right",size:"width",crossAxisStart:"top",crossAxisEnd:"bottom",crossAxisSize:"height"};var Tl=e=>t=>{const n=ce(t.top,t.bottom),r=ce(t.left,t.right);return s=>e===Jn?n(s.top)&&n(s.bottom):r(s.left)&&r(s.right)};const Ml=(e,t)=>{const n=t.frame?t.frame.scroll.diff.displacement:H;return Et(e,n)},kl=(e,t,n)=>t.subject.active?n(t.subject.active)(e):!1,Bl=(e,t,n)=>n(t)(e),Zn=({target:e,destination:t,viewport:n,withDroppableDisplacement:r,isVisibleThroughFrameFn:s})=>{const o=r?Ml(e,t):e;return kl(o,t,s)&&Bl(o,n,s)},jl=e=>Zn({...e,isVisibleThroughFrameFn:co}),uo=e=>Zn({...e,isVisibleThroughFrameFn:Rl}),Fl=e=>Zn({...e,isVisibleThroughFrameFn:Tl(e.destination.axis)}),Ll=(e,t,n)=>{if(typeof n=="boolean")return n;if(!t)return!0;const{invisible:r,visible:s}=t;if(r[e])return!1;const o=s[e];return o?o.shouldAnimate:!0};function Wl(e,t){const n=e.page.marginBox,r={top:t.point.y,right:0,bottom:0,left:t.point.x};return pe(Qn(n,r))}function xt({afterDragging:e,destination:t,displacedBy:n,viewport:r,forceShouldAnimate:s,last:o}){return e.reduce(function(a,c){const u=Wl(c,n),f=c.descriptor.id;if(a.all.push(f),!jl({target:u,destination:t,viewport:r,withDroppableDisplacement:!0}))return a.invisible[c.descriptor.id]=!0,a;const d=Ll(f,o,s),p={draggableId:f,shouldAnimate:d};return a.visible[f]=p,a},{all:[],visible:{},invisible:{}})}function Gl(e,t){if(!e.length)return 0;const n=e[e.length-1].descriptor.index;return t.inHomeList?n:n+1}function Jr({insideDestination:e,inHomeList:t,displacedBy:n,destination:r}){const s=Gl(e,{inHomeList:t});return{displaced:yt,displacedBy:n,at:{type:"REORDER",destination:{droppableId:r.descriptor.id,index:s}}}}function Qt({draggable:e,insideDestination:t,destination:n,viewport:r,displacedBy:s,last:o,index:i,forceShouldAnimate:a}){const c=rt(e,n);if(i==null)return Jr({insideDestination:t,inHomeList:c,displacedBy:s,destination:n});const u=t.find(g=>g.descriptor.index===i);if(!u)return Jr({insideDestination:t,inHomeList:c,displacedBy:s,destination:n});const f=rn(e,t),l=t.indexOf(u),d=f.slice(l);return{displaced:xt({afterDragging:d,destination:n,displacedBy:s,last:o,viewport:r.frame,forceShouldAnimate:a}),displacedBy:s,at:{type:"REORDER",destination:{droppableId:n.descriptor.id,index:i}}}}function Ae(e,t){return!!t.effected[e]}var _l=({isMovingForward:e,destination:t,draggables:n,combine:r,afterCritical:s})=>{if(!t.isCombineEnabled)return null;const o=r.draggableId,a=n[o].descriptor.index;return Ae(o,s)?e?a:a-1:e?a+1:a},$l=({isMovingForward:e,isInHomeList:t,insideDestination:n,location:r})=>{if(!n.length)return null;const s=r.index,o=e?s+1:s-1,i=n[0].descriptor.index,a=n[n.length-1].descriptor.index,c=t?a:a+1;return o<i||o>c?null:o},ql=({isMovingForward:e,isInHomeList:t,draggable:n,draggables:r,destination:s,insideDestination:o,previousImpact:i,viewport:a,afterCritical:c})=>{const u=i.at;if(u||D(),u.type==="REORDER"){const l=$l({isMovingForward:e,isInHomeList:t,location:u.destination,insideDestination:o});return l==null?null:Qt({draggable:n,insideDestination:o,destination:s,viewport:a,last:i.displaced,displacedBy:i.displacedBy,index:l})}const f=_l({isMovingForward:e,destination:s,displaced:i.displaced,draggables:r,combine:u.combine,afterCritical:c});return f==null?null:Qt({draggable:n,insideDestination:o,destination:s,viewport:a,last:i.displaced,displacedBy:i.displacedBy,index:f})},Hl=({displaced:e,afterCritical:t,combineWith:n,displacedBy:r})=>{const s=!!(e.visible[n]||e.invisible[n]);return Ae(n,t)?s?H:tt(r.point):s?r.point:H},Ul=({afterCritical:e,impact:t,draggables:n})=>{const r=nn(t);r||D();const s=r.draggableId,o=n[s].page.borderBox.center,i=Hl({displaced:t.displaced,afterCritical:e,combineWith:s,displacedBy:t.displacedBy});return U(o,i)};const fo=(e,t)=>t.margin[e.start]+t.borderBox[e.size]/2,Vl=(e,t)=>t.margin[e.end]+t.borderBox[e.size]/2,er=(e,t,n)=>t[e.crossAxisStart]+n.margin[e.crossAxisStart]+n.borderBox[e.crossAxisSize]/2,Zr=({axis:e,moveRelativeTo:t,isMoving:n})=>_e(e.line,t.marginBox[e.end]+fo(e,n),er(e,t.marginBox,n)),es=({axis:e,moveRelativeTo:t,isMoving:n})=>_e(e.line,t.marginBox[e.start]-Vl(e,n),er(e,t.marginBox,n)),Yl=({axis:e,moveInto:t,isMoving:n})=>_e(e.line,t.contentBox[e.start]+fo(e,n),er(e,t.contentBox,n));var Ql=({impact:e,draggable:t,draggables:n,droppable:r,afterCritical:s})=>{const o=nt(r.descriptor.id,n),i=t.page,a=r.axis;if(!o.length)return Yl({axis:a,moveInto:r.page,isMoving:i});const{displaced:c,displacedBy:u}=e,f=c.all[0];if(f){const d=n[f];if(Ae(f,s))return es({axis:a,moveRelativeTo:d.page,isMoving:i});const p=qt(d.page,u.point);return es({axis:a,moveRelativeTo:p,isMoving:i})}const l=o[o.length-1];if(l.descriptor.id===t.descriptor.id)return i.borderBox.center;if(Ae(l.descriptor.id,s)){const d=qt(l.page,tt(s.displacedBy.point));return Zr({axis:a,moveRelativeTo:d,isMoving:i})}return Zr({axis:a,moveRelativeTo:l.page,isMoving:i})},jn=(e,t)=>{const n=e.frame;return n?U(t,n.scroll.diff.displacement):t};const zl=({impact:e,draggable:t,droppable:n,draggables:r,afterCritical:s})=>{const o=t.page.borderBox.center,i=e.at;return!n||!i?o:i.type==="REORDER"?Ql({impact:e,draggable:t,draggables:r,droppable:n,afterCritical:s}):Ul({impact:e,draggables:r,afterCritical:s})};var sn=e=>{const t=zl(e),n=e.droppable;return n?jn(n,t):t},po=(e,t)=>{const n=te(t,e.scroll.initial),r=tt(n);return{frame:pe({top:t.y,bottom:t.y+e.frame.height,left:t.x,right:t.x+e.frame.width}),scroll:{initial:e.scroll.initial,max:e.scroll.max,current:t,diff:{value:n,displacement:r}}}};function ts(e,t){return e.map(n=>t[n])}function Kl(e,t){for(let n=0;n<t.length;n++){const r=t[n].visible[e];if(r)return r}return null}var Xl=({impact:e,viewport:t,destination:n,draggables:r,maxScrollChange:s})=>{const o=po(t,U(t.scroll.current,s)),i=n.frame?Kn(n,U(n.frame.scroll.current,s)):n,a=e.displaced,c=xt({afterDragging:ts(a.all,r),destination:n,displacedBy:e.displacedBy,viewport:o.frame,last:a,forceShouldAnimate:!1}),u=xt({afterDragging:ts(a.all,r),destination:i,displacedBy:e.displacedBy,viewport:t.frame,last:a,forceShouldAnimate:!1}),f={},l={},d=[a,c,u];return a.all.forEach(g=>{const m=Kl(g,d);if(m){l[g]=m;return}f[g]=!0}),{...e,displaced:{all:a.all,invisible:f,visible:l}}},Jl=(e,t)=>U(e.scroll.diff.displacement,t),tr=({pageBorderBoxCenter:e,draggable:t,viewport:n})=>{const r=Jl(n,e),s=te(r,t.page.borderBox.center);return U(t.client.borderBox.center,s)},ho=({draggable:e,destination:t,newPageBorderBoxCenter:n,viewport:r,withDroppableDisplacement:s,onlyOnMainAxis:o=!1})=>{const i=te(n,e.page.borderBox.center),c={target:Et(e.page.borderBox,i),destination:t,withDroppableDisplacement:s,viewport:r};return o?Fl(c):uo(c)},Zl=({isMovingForward:e,draggable:t,destination:n,draggables:r,previousImpact:s,viewport:o,previousPageBorderBoxCenter:i,previousClientSelection:a,afterCritical:c})=>{if(!n.isEnabled)return null;const u=nt(n.descriptor.id,r),f=rt(t,n),l=Nl({isMovingForward:e,draggable:t,destination:n,insideDestination:u,previousImpact:s})||ql({isMovingForward:e,isInHomeList:f,draggable:t,draggables:r,destination:n,insideDestination:u,previousImpact:s,viewport:o,afterCritical:c});if(!l)return null;const d=sn({impact:l,draggable:t,droppable:n,draggables:r,afterCritical:c});if(ho({draggable:t,destination:n,newPageBorderBoxCenter:d,viewport:o.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0}))return{clientSelection:tr({pageBorderBoxCenter:d,draggable:t,viewport:o}),impact:l,scrollJumpRequest:null};const g=te(d,i),m=Xl({impact:l,viewport:o,destination:n,draggables:r,maxScrollChange:g});return{clientSelection:a,impact:m,scrollJumpRequest:g}};const Q=e=>{const t=e.subject.active;return t||D(),t};var eu=({isMovingForward:e,pageBorderBoxCenter:t,source:n,droppables:r,viewport:s})=>{const o=n.subject.active;if(!o)return null;const i=n.axis,a=ce(o[i.start],o[i.end]),c=tn(r).filter(f=>f!==n).filter(f=>f.isEnabled).filter(f=>!!f.subject.active).filter(f=>co(s.frame)(Q(f))).filter(f=>{const l=Q(f);return e?o[i.crossAxisEnd]<l[i.crossAxisEnd]:l[i.crossAxisStart]<o[i.crossAxisStart]}).filter(f=>{const l=Q(f),d=ce(l[i.start],l[i.end]);return a(l[i.start])||a(l[i.end])||d(o[i.start])||d(o[i.end])}).sort((f,l)=>{const d=Q(f)[i.crossAxisStart],p=Q(l)[i.crossAxisStart];return e?d-p:p-d}).filter((f,l,d)=>Q(f)[i.crossAxisStart]===Q(d[0])[i.crossAxisStart]);if(!c.length)return null;if(c.length===1)return c[0];const u=c.filter(f=>ce(Q(f)[i.start],Q(f)[i.end])(t[i.line]));return u.length===1?u[0]:u.length>1?u.sort((f,l)=>Q(f)[i.start]-Q(l)[i.start])[0]:c.sort((f,l)=>{const d=Kr(t,Xr(Q(f))),p=Kr(t,Xr(Q(l)));return d!==p?d-p:Q(f)[i.start]-Q(l)[i.start]})[0]};const ns=(e,t)=>{const n=e.page.borderBox.center;return Ae(e.descriptor.id,t)?te(n,t.displacedBy.point):n},tu=(e,t)=>{const n=e.page.borderBox;return Ae(e.descriptor.id,t)?Et(n,tt(t.displacedBy.point)):n};var nu=({pageBorderBoxCenter:e,viewport:t,destination:n,insideDestination:r,afterCritical:s})=>r.filter(i=>uo({target:tu(i,s),destination:n,viewport:t.frame,withDroppableDisplacement:!0})).sort((i,a)=>{const c=bt(e,jn(n,ns(i,s))),u=bt(e,jn(n,ns(a,s)));return c<u?-1:u<c?1:i.descriptor.index-a.descriptor.index})[0]||null,Pt=q(function(t,n){const r=n[t.line];return{value:r,point:_e(t.line,r)}});const ru=(e,t,n)=>{const r=e.axis;if(e.descriptor.mode==="virtual")return _e(r.line,t[r.line]);const s=e.subject.page.contentBox[r.size],c=nt(e.descriptor.id,n).reduce((u,f)=>u+f.client.marginBox[r.size],0)+t[r.line]-s;return c<=0?null:_e(r.line,c)},go=(e,t)=>({...e,scroll:{...e.scroll,max:t}}),mo=(e,t,n)=>{const r=e.frame;rt(t,e)&&D(),e.subject.withPlaceholder&&D();const s=Pt(e.axis,t.displaceBy).point,o=ru(e,s,n),i={placeholderSize:s,increasedBy:o,oldFrameMaxScroll:e.frame?e.frame.scroll.max:null};if(!r){const f=Je({page:e.subject.page,withPlaceholder:i,axis:e.axis,frame:e.frame});return{...e,subject:f}}const a=o?U(r.scroll.max,o):r.scroll.max,c=go(r,a),u=Je({page:e.subject.page,withPlaceholder:i,axis:e.axis,frame:c});return{...e,subject:u,frame:c}},su=e=>{const t=e.subject.withPlaceholder;t||D();const n=e.frame;if(!n){const i=Je({page:e.subject.page,axis:e.axis,frame:null,withPlaceholder:null});return{...e,subject:i}}const r=t.oldFrameMaxScroll;r||D();const s=go(n,r),o=Je({page:e.subject.page,axis:e.axis,frame:s,withPlaceholder:null});return{...e,subject:o,frame:s}};var ou=({previousPageBorderBoxCenter:e,moveRelativeTo:t,insideDestination:n,draggable:r,draggables:s,destination:o,viewport:i,afterCritical:a})=>{if(!t){if(n.length)return null;const l={displaced:yt,displacedBy:ao,at:{type:"REORDER",destination:{droppableId:o.descriptor.id,index:0}}},d=sn({impact:l,draggable:r,droppable:o,draggables:s,afterCritical:a}),p=rt(r,o)?o:mo(o,r,s);return ho({draggable:r,destination:p,newPageBorderBoxCenter:d,viewport:i.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0})?l:null}const c=e[o.axis.line]<=t.page.borderBox.center[o.axis.line],u=(()=>{const l=t.descriptor.index;return t.descriptor.id===r.descriptor.id||c?l:l+1})(),f=Pt(o.axis,r.displaceBy);return Qt({draggable:r,insideDestination:n,destination:o,viewport:i,displacedBy:f,last:yt,index:u})},iu=({isMovingForward:e,previousPageBorderBoxCenter:t,draggable:n,isOver:r,draggables:s,droppables:o,viewport:i,afterCritical:a})=>{const c=eu({isMovingForward:e,pageBorderBoxCenter:t,source:r,droppables:o,viewport:i});if(!c)return null;const u=nt(c.descriptor.id,s),f=nu({pageBorderBoxCenter:t,viewport:i,destination:c,insideDestination:u,afterCritical:a}),l=ou({previousPageBorderBoxCenter:t,destination:c,draggable:n,draggables:s,moveRelativeTo:f,insideDestination:u,viewport:i,afterCritical:a});if(!l)return null;const d=sn({impact:l,draggable:n,droppable:c,draggables:s,afterCritical:a});return{clientSelection:tr({pageBorderBoxCenter:d,draggable:n,viewport:i}),impact:l,scrollJumpRequest:null}},ne=e=>{const t=e.at;return t?t.type==="REORDER"?t.destination.droppableId:t.combine.droppableId:null};const au=(e,t)=>{const n=ne(e);return n?t[n]:null};var cu=({state:e,type:t})=>{const n=au(e.impact,e.dimensions.droppables),r=!!n,s=e.dimensions.droppables[e.critical.droppable.id],o=n||s,i=o.axis.direction,a=i==="vertical"&&(t==="MOVE_UP"||t==="MOVE_DOWN")||i==="horizontal"&&(t==="MOVE_LEFT"||t==="MOVE_RIGHT");if(a&&!r)return null;const c=t==="MOVE_DOWN"||t==="MOVE_RIGHT",u=e.dimensions.draggables[e.critical.draggable.id],f=e.current.page.borderBoxCenter,{draggables:l,droppables:d}=e.dimensions;return a?Zl({isMovingForward:c,previousPageBorderBoxCenter:f,draggable:u,destination:o,draggables:l,viewport:e.viewport,previousClientSelection:e.current.client.selection,previousImpact:e.impact,afterCritical:e.afterCritical}):iu({isMovingForward:c,previousPageBorderBoxCenter:f,draggable:u,isOver:o,draggables:l,droppables:d,viewport:e.viewport,afterCritical:e.afterCritical})};function Be(e){return e.phase==="DRAGGING"||e.phase==="COLLECTING"}function bo(e){const t=ce(e.top,e.bottom),n=ce(e.left,e.right);return function(s){return t(s.y)&&n(s.x)}}function lu(e,t){return e.left<t.right&&e.right>t.left&&e.top<t.bottom&&e.bottom>t.top}function uu({pageBorderBox:e,draggable:t,candidates:n}){const r=t.page.borderBox.center,s=n.map(o=>{const i=o.axis,a=_e(o.axis.line,e.center[i.line],o.page.borderBox.center[i.crossAxisLine]);return{id:o.descriptor.id,distance:bt(r,a)}}).sort((o,i)=>i.distance-o.distance);return s[0]?s[0].id:null}function du({pageBorderBox:e,draggable:t,droppables:n}){const r=tn(n).filter(s=>{if(!s.isEnabled)return!1;const o=s.subject.active;if(!o||!lu(e,o))return!1;if(bo(o)(e.center))return!0;const i=s.axis,a=o.center[i.crossAxisLine],c=e[i.crossAxisStart],u=e[i.crossAxisEnd],f=ce(o[i.crossAxisStart],o[i.crossAxisEnd]),l=f(c),d=f(u);return!l&&!d?!0:l?c<a:u>a});return r.length?r.length===1?r[0].descriptor.id:uu({pageBorderBox:e,draggable:t,candidates:r}):null}const yo=(e,t)=>pe(Et(e,t));var fu=(e,t)=>{const n=e.frame;return n?yo(t,n.scroll.diff.value):t};function xo({displaced:e,id:t}){return!!(e.visible[t]||e.invisible[t])}function pu({draggable:e,closest:t,inHomeList:n}){return t?n&&t.descriptor.index>e.descriptor.index?t.descriptor.index-1:t.descriptor.index:null}var hu=({pageBorderBoxWithDroppableScroll:e,draggable:t,destination:n,insideDestination:r,last:s,viewport:o,afterCritical:i})=>{const a=n.axis,c=Pt(n.axis,t.displaceBy),u=c.value,f=e[a.start],l=e[a.end],p=rn(t,r).find(m=>{const b=m.descriptor.id,w=m.page.borderBox.center[a.line],x=Ae(b,i),C=xo({displaced:s,id:b});return x?C?l<=w:f<w-u:C?l<=w+u:f<w})||null,g=pu({draggable:t,closest:p,inHomeList:rt(t,n)});return Qt({draggable:t,insideDestination:r,destination:n,viewport:o,last:s,displacedBy:c,index:g})};const gu=4;var mu=({draggable:e,pageBorderBoxWithDroppableScroll:t,previousImpact:n,destination:r,insideDestination:s,afterCritical:o})=>{if(!r.isCombineEnabled)return null;const i=r.axis,a=Pt(r.axis,e.displaceBy),c=a.value,u=t[i.start],f=t[i.end],d=rn(e,s).find(g=>{const m=g.descriptor.id,b=g.page.borderBox,x=b[i.size]/gu,C=Ae(m,o),S=xo({displaced:n.displaced,id:m});return C?S?f>b[i.start]+x&&f<b[i.end]-x:u>b[i.start]-c+x&&u<b[i.end]-c-x:S?f>b[i.start]+c+x&&f<b[i.end]+c-x:u>b[i.start]+x&&u<b[i.end]-x});return d?{displacedBy:a,displaced:n.displaced,at:{type:"COMBINE",combine:{draggableId:d.descriptor.id,droppableId:r.descriptor.id}}}:null},vo=({pageOffset:e,draggable:t,draggables:n,droppables:r,previousImpact:s,viewport:o,afterCritical:i})=>{const a=yo(t.page.borderBox,e),c=du({pageBorderBox:a,draggable:t,droppables:r});if(!c)return Al;const u=r[c],f=nt(u.descriptor.id,n),l=fu(u,a);return mu({pageBorderBoxWithDroppableScroll:l,draggable:t,previousImpact:s,destination:u,insideDestination:f,afterCritical:i})||hu({pageBorderBoxWithDroppableScroll:l,draggable:t,destination:u,insideDestination:f,last:s.displaced,viewport:o,afterCritical:i})},nr=(e,t)=>({...e,[t.descriptor.id]:t});const bu=({previousImpact:e,impact:t,droppables:n})=>{const r=ne(e),s=ne(t);if(!r||r===s)return n;const o=n[r];if(!o.subject.withPlaceholder)return n;const i=su(o);return nr(n,i)};var yu=({draggable:e,draggables:t,droppables:n,previousImpact:r,impact:s})=>{const o=bu({previousImpact:r,impact:s,droppables:n}),i=ne(s);if(!i)return o;const a=n[i];if(rt(e,a)||a.subject.withPlaceholder)return o;const c=mo(a,e,t);return nr(o,c)},dt=({state:e,clientSelection:t,dimensions:n,viewport:r,impact:s,scrollJumpRequest:o})=>{const i=r||e.viewport,a=n||e.dimensions,c=t||e.current.client.selection,u=te(c,e.initial.client.selection),f={offset:u,selection:c,borderBoxCenter:U(e.initial.client.borderBoxCenter,u)},l={selection:U(f.selection,i.scroll.current),borderBoxCenter:U(f.borderBoxCenter,i.scroll.current),offset:U(f.offset,i.scroll.diff.value)},d={client:f,page:l};if(e.phase==="COLLECTING")return{...e,dimensions:a,viewport:i,current:d};const p=a.draggables[e.critical.draggable.id],g=s||vo({pageOffset:l.offset,draggable:p,draggables:a.draggables,droppables:a.droppables,previousImpact:e.impact,viewport:i,afterCritical:e.afterCritical}),m=yu({draggable:p,impact:g,previousImpact:e.impact,draggables:a.draggables,droppables:a.droppables});return{...e,current:d,dimensions:{draggables:a.draggables,droppables:m},impact:g,viewport:i,scrollJumpRequest:o||null,forceShouldAnimate:o?!1:null}};function xu(e,t){return e.map(n=>t[n])}var wo=({impact:e,viewport:t,draggables:n,destination:r,forceShouldAnimate:s})=>{const o=e.displaced,i=xu(o.all,n),a=xt({afterDragging:i,destination:r,displacedBy:e.displacedBy,viewport:t.frame,forceShouldAnimate:s,last:o});return{...e,displaced:a}},Do=({impact:e,draggable:t,droppable:n,draggables:r,viewport:s,afterCritical:o})=>{const i=sn({impact:e,draggable:t,draggables:r,droppable:n,afterCritical:o});return tr({pageBorderBoxCenter:i,draggable:t,viewport:s})},So=({state:e,dimensions:t,viewport:n})=>{e.movementMode!=="SNAP"&&D();const r=e.impact,s=n||e.viewport,o=t||e.dimensions,{draggables:i,droppables:a}=o,c=i[e.critical.draggable.id],u=ne(r);u||D();const f=a[u],l=wo({impact:r,viewport:s,destination:f,draggables:i}),d=Do({impact:l,draggable:c,droppable:f,draggables:i,viewport:s,afterCritical:e.afterCritical});return dt({impact:l,clientSelection:d,state:e,dimensions:o,viewport:s})},vu=e=>({index:e.index,droppableId:e.droppableId}),Co=({draggable:e,home:t,draggables:n,viewport:r})=>{const s=Pt(t.axis,e.displaceBy),o=nt(t.descriptor.id,n),i=o.indexOf(e);i===-1&&D();const a=o.slice(i+1),c=a.reduce((d,p)=>(d[p.descriptor.id]=!0,d),{}),u={inVirtualList:t.descriptor.mode==="virtual",displacedBy:s,effected:c};return{impact:{displaced:xt({afterDragging:a,destination:t,displacedBy:s,last:null,viewport:r.frame,forceShouldAnimate:!1}),displacedBy:s,at:{type:"REORDER",destination:vu(e.descriptor)}},afterCritical:u}},wu=(e,t)=>({draggables:e.draggables,droppables:nr(e.droppables,t)}),Du=({draggable:e,offset:t,initialWindowScroll:n})=>{const r=qt(e.client,t),s=Ht(r,n);return{...e,placeholder:{...e.placeholder,client:r},client:r,page:s}},Su=e=>{const t=e.frame;return t||D(),t},Cu=({additions:e,updatedDroppables:t,viewport:n})=>{const r=n.scroll.diff.value;return e.map(s=>{const o=s.descriptor.droppableId,i=t[o],c=Su(i).scroll.diff.value,u=U(r,c);return Du({draggable:s,offset:u,initialWindowScroll:n.scroll.initial})})},Eu=({state:e,published:t})=>{const n=t.modified.map(w=>{const x=e.dimensions.droppables[w.droppableId];return Kn(x,w.scroll)}),r={...e.dimensions.droppables,...oo(n)},s=io(Cu({additions:t.additions,updatedDroppables:r,viewport:e.viewport})),o={...e.dimensions.draggables,...s};t.removals.forEach(w=>{delete o[w]});const i={droppables:r,draggables:o},a=ne(e.impact),c=a?i.droppables[a]:null,u=i.draggables[e.critical.draggable.id],f=i.droppables[e.critical.droppable.id],{impact:l,afterCritical:d}=Co({draggable:u,home:f,draggables:o,viewport:e.viewport}),p=c&&c.isCombineEnabled?e.impact:l,g=vo({pageOffset:e.current.page.offset,draggable:i.draggables[e.critical.draggable.id],draggables:i.draggables,droppables:i.droppables,previousImpact:p,viewport:e.viewport,afterCritical:d}),m={...e,phase:"DRAGGING",impact:g,onLiftImpact:l,dimensions:i,afterCritical:d,forceShouldAnimate:!1};return e.phase==="COLLECTING"?m:{...m,phase:"DROP_PENDING",reason:e.reason,isWaiting:!1}};const Fn=e=>e.movementMode==="SNAP",Cn=(e,t,n)=>{const r=wu(e.dimensions,t);return!Fn(e)||n?dt({state:e,dimensions:r}):So({state:e,dimensions:r})};function En(e){return e.isDragging&&e.movementMode==="SNAP"?{...e,scrollJumpRequest:null}:e}const rs={phase:"IDLE",completed:null,shouldFlush:!1};var Pu=(e=rs,t)=>{if(t.type==="FLUSH")return{...rs,shouldFlush:!0};if(t.type==="INITIAL_PUBLISH"){e.phase!=="IDLE"&&D();const{critical:n,clientSelection:r,viewport:s,dimensions:o,movementMode:i}=t.payload,a=o.draggables[n.draggable.id],c=o.droppables[n.droppable.id],u={selection:r,borderBoxCenter:a.client.borderBox.center,offset:H},f={client:u,page:{selection:U(u.selection,s.scroll.initial),borderBoxCenter:U(u.selection,s.scroll.initial),offset:U(u.selection,s.scroll.diff.value)}},l=tn(o.droppables).every(m=>!m.isFixedOnPage),{impact:d,afterCritical:p}=Co({draggable:a,home:c,draggables:o.draggables,viewport:s});return{phase:"DRAGGING",isDragging:!0,critical:n,movementMode:i,dimensions:o,initial:f,current:f,isWindowScrollAllowed:l,impact:d,afterCritical:p,onLiftImpact:d,viewport:s,scrollJumpRequest:null,forceShouldAnimate:null}}if(t.type==="COLLECTION_STARTING")return e.phase==="COLLECTING"||e.phase==="DROP_PENDING"?e:(e.phase!=="DRAGGING"&&D(),{...e,phase:"COLLECTING"});if(t.type==="PUBLISH_WHILE_DRAGGING")return e.phase==="COLLECTING"||e.phase==="DROP_PENDING"||D(),Eu({state:e,published:t.payload});if(t.type==="MOVE"){if(e.phase==="DROP_PENDING")return e;Be(e)||D();const{client:n}=t.payload;return Oe(n,e.current.client.selection)?e:dt({state:e,clientSelection:n,impact:Fn(e)?e.impact:null})}if(t.type==="UPDATE_DROPPABLE_SCROLL"){if(e.phase==="DROP_PENDING"||e.phase==="COLLECTING")return En(e);Be(e)||D();const{id:n,newScroll:r}=t.payload,s=e.dimensions.droppables[n];if(!s)return e;const o=Kn(s,r);return Cn(e,o,!1)}if(t.type==="UPDATE_DROPPABLE_IS_ENABLED"){if(e.phase==="DROP_PENDING")return e;Be(e)||D();const{id:n,isEnabled:r}=t.payload,s=e.dimensions.droppables[n];s||D(),s.isEnabled===r&&D();const o={...s,isEnabled:r};return Cn(e,o,!0)}if(t.type==="UPDATE_DROPPABLE_IS_COMBINE_ENABLED"){if(e.phase==="DROP_PENDING")return e;Be(e)||D();const{id:n,isCombineEnabled:r}=t.payload,s=e.dimensions.droppables[n];s||D(),s.isCombineEnabled===r&&D();const o={...s,isCombineEnabled:r};return Cn(e,o,!0)}if(t.type==="MOVE_BY_WINDOW_SCROLL"){if(e.phase==="DROP_PENDING"||e.phase==="DROP_ANIMATING")return e;Be(e)||D(),e.isWindowScrollAllowed||D();const n=t.payload.newScroll;if(Oe(e.viewport.scroll.current,n))return En(e);const r=po(e.viewport,n);return Fn(e)?So({state:e,viewport:r}):dt({state:e,viewport:r})}if(t.type==="UPDATE_VIEWPORT_MAX_SCROLL"){if(!Be(e))return e;const n=t.payload.maxScroll;if(Oe(n,e.viewport.scroll.max))return e;const r={...e.viewport,scroll:{...e.viewport.scroll,max:n}};return{...e,viewport:r}}if(t.type==="MOVE_UP"||t.type==="MOVE_DOWN"||t.type==="MOVE_LEFT"||t.type==="MOVE_RIGHT"){if(e.phase==="COLLECTING"||e.phase==="DROP_PENDING")return e;e.phase!=="DRAGGING"&&D();const n=cu({state:e,type:t.type});return n?dt({state:e,impact:n.impact,clientSelection:n.clientSelection,scrollJumpRequest:n.scrollJumpRequest}):e}if(t.type==="DROP_PENDING"){const n=t.payload.reason;return e.phase!=="COLLECTING"&&D(),{...e,phase:"DROP_PENDING",isWaiting:!0,reason:n}}if(t.type==="DROP_ANIMATE"){const{completed:n,dropDuration:r,newHomeClientOffset:s}=t.payload;return e.phase==="DRAGGING"||e.phase==="DROP_PENDING"||D(),{phase:"DROP_ANIMATING",completed:n,dropDuration:r,newHomeClientOffset:s,dimensions:e.dimensions}}if(t.type==="DROP_COMPLETE"){const{completed:n}=t.payload;return{phase:"IDLE",completed:n,shouldFlush:!1}}return e};function k(e,t){return e instanceof Object&&"type"in e&&e.type===t}const Iu=e=>({type:"BEFORE_INITIAL_CAPTURE",payload:e}),Ou=e=>({type:"LIFT",payload:e}),Nu=e=>({type:"INITIAL_PUBLISH",payload:e}),Au=e=>({type:"PUBLISH_WHILE_DRAGGING",payload:e}),Ru=()=>({type:"COLLECTION_STARTING",payload:null}),Tu=e=>({type:"UPDATE_DROPPABLE_SCROLL",payload:e}),Mu=e=>({type:"UPDATE_DROPPABLE_IS_ENABLED",payload:e}),ku=e=>({type:"UPDATE_DROPPABLE_IS_COMBINE_ENABLED",payload:e}),Eo=e=>({type:"MOVE",payload:e}),Bu=e=>({type:"MOVE_BY_WINDOW_SCROLL",payload:e}),ju=e=>({type:"UPDATE_VIEWPORT_MAX_SCROLL",payload:e}),Fu=()=>({type:"MOVE_UP",payload:null}),Lu=()=>({type:"MOVE_DOWN",payload:null}),Wu=()=>({type:"MOVE_RIGHT",payload:null}),Gu=()=>({type:"MOVE_LEFT",payload:null}),rr=()=>({type:"FLUSH",payload:null}),_u=e=>({type:"DROP_ANIMATE",payload:e}),sr=e=>({type:"DROP_COMPLETE",payload:e}),Po=e=>({type:"DROP",payload:e}),$u=e=>({type:"DROP_PENDING",payload:e}),Io=()=>({type:"DROP_ANIMATION_FINISHED",payload:null});var qu=e=>({getState:t,dispatch:n})=>r=>s=>{if(!k(s,"LIFT")){r(s);return}const{id:o,clientSelection:i,movementMode:a}=s.payload,c=t();c.phase==="DROP_ANIMATING"&&n(sr({completed:c.completed})),t().phase!=="IDLE"&&D(),n(rr()),n(Iu({draggableId:o,movementMode:a}));const f={draggableId:o,scrollOptions:{shouldPublishImmediately:a==="SNAP"}},{critical:l,dimensions:d,viewport:p}=e.startPublishing(f);n(Nu({critical:l,dimensions:d,clientSelection:i,movementMode:a,viewport:p}))},Hu=e=>()=>t=>n=>{k(n,"INITIAL_PUBLISH")&&e.dragging(),k(n,"DROP_ANIMATE")&&e.dropping(n.payload.completed.result.reason),(k(n,"FLUSH")||k(n,"DROP_COMPLETE"))&&e.resting(),t(n)};const or={outOfTheWay:"cubic-bezier(0.2, 0, 0, 1)",drop:"cubic-bezier(.2,1,.1,1)"},vt={opacity:{drop:0,combining:.7},scale:{drop:.75}},Oo={outOfTheWay:.2,minDropTime:.33,maxDropTime:.55},Me=`${Oo.outOfTheWay}s ${or.outOfTheWay}`,ft={fluid:`opacity ${Me}`,snap:`transform ${Me}, opacity ${Me}`,drop:e=>{const t=`${e}s ${or.drop}`;return`transform ${t}, opacity ${t}`},outOfTheWay:`transform ${Me}`,placeholder:`height ${Me}, width ${Me}, margin ${Me}`},ss=e=>Oe(e,H)?void 0:`translate(${e.x}px, ${e.y}px)`,Ln={moveTo:ss,drop:(e,t)=>{const n=ss(e);if(n)return t?`${n} scale(${vt.scale.drop})`:n}},{minDropTime:Wn,maxDropTime:No}=Oo,Uu=No-Wn,os=1500,Vu=.6;var Yu=({current:e,destination:t,reason:n})=>{const r=bt(e,t);if(r<=0)return Wn;if(r>=os)return No;const s=r/os,o=Wn+Uu*s,i=n==="CANCEL"?o*Vu:o;return Number(i.toFixed(2))},Qu=({impact:e,draggable:t,dimensions:n,viewport:r,afterCritical:s})=>{const{draggables:o,droppables:i}=n,a=ne(e),c=a?i[a]:null,u=i[t.descriptor.droppableId],f=Do({impact:e,draggable:t,draggables:o,afterCritical:s,droppable:c||u,viewport:r});return te(f,t.client.borderBox.center)},zu=({draggables:e,reason:t,lastImpact:n,home:r,viewport:s,onLiftImpact:o})=>!n.at||t!=="DROP"?{impact:wo({draggables:e,impact:o,destination:r,viewport:s,forceShouldAnimate:!0}),didDropInsideDroppable:!1}:n.at.type==="REORDER"?{impact:n,didDropInsideDroppable:!0}:{impact:{...n,displaced:yt},didDropInsideDroppable:!0};const Ku=({getState:e,dispatch:t})=>n=>r=>{if(!k(r,"DROP")){n(r);return}const s=e(),o=r.payload.reason;if(s.phase==="COLLECTING"){t($u({reason:o}));return}if(s.phase==="IDLE")return;s.phase==="DROP_PENDING"&&s.isWaiting&&D(),s.phase==="DRAGGING"||s.phase==="DROP_PENDING"||D();const a=s.critical,c=s.dimensions,u=c.draggables[s.critical.draggable.id],{impact:f,didDropInsideDroppable:l}=zu({reason:o,lastImpact:s.impact,afterCritical:s.afterCritical,onLiftImpact:s.onLiftImpact,home:s.dimensions.droppables[s.critical.droppable.id],viewport:s.viewport,draggables:s.dimensions.draggables}),d=l?Xn(f):null,p=l?nn(f):null,g={index:a.draggable.index,droppableId:a.droppable.id},m={draggableId:u.descriptor.id,type:u.descriptor.type,source:g,reason:o,mode:s.movementMode,destination:d,combine:p},b=Qu({impact:f,draggable:u,dimensions:c,viewport:s.viewport,afterCritical:s.afterCritical}),w={critical:s.critical,afterCritical:s.afterCritical,result:m,impact:f};if(!(!Oe(s.current.client.offset,b)||!!m.combine)){t(sr({completed:w}));return}const C=Yu({current:s.current.client.offset,destination:b,reason:o});t(_u({newHomeClientOffset:b,dropDuration:C,completed:w}))};var Ao=()=>({x:window.pageXOffset,y:window.pageYOffset});function Xu(e){return{eventName:"scroll",options:{passive:!0,capture:!1},fn:t=>{t.target!==window&&t.target!==window.document||e()}}}function Ju({onWindowScroll:e}){function t(){e(Ao())}const n=mt(t),r=Xu(n);let s=Ie;function o(){return s!==Ie}function i(){o()&&D(),s=ae(window,[r])}function a(){o()||D(),n.cancel(),s(),s=Ie}return{start:i,stop:a,isActive:o}}const Zu=e=>k(e,"DROP_COMPLETE")||k(e,"DROP_ANIMATE")||k(e,"FLUSH"),ed=e=>{const t=Ju({onWindowScroll:n=>{e.dispatch(Bu({newScroll:n}))}});return n=>r=>{!t.isActive()&&k(r,"INITIAL_PUBLISH")&&t.start(),t.isActive()&&Zu(r)&&t.stop(),n(r)}};var td=e=>{let t=!1,n=!1;const r=setTimeout(()=>{n=!0}),s=o=>{t||n||(t=!0,e(o),clearTimeout(r))};return s.wasCalled=()=>t,s},nd=()=>{const e=[],t=s=>{const o=e.findIndex(a=>a.timerId===s);o===-1&&D();const[i]=e.splice(o,1);i.callback()};return{add:s=>{const o=setTimeout(()=>t(o)),i={timerId:o,callback:s};e.push(i)},flush:()=>{if(!e.length)return;const s=[...e];e.length=0,s.forEach(o=>{clearTimeout(o.timerId),o.callback()})}}};const rd=(e,t)=>e==null&&t==null?!0:e==null||t==null?!1:e.droppableId===t.droppableId&&e.index===t.index,sd=(e,t)=>e==null&&t==null?!0:e==null||t==null?!1:e.draggableId===t.draggableId&&e.droppableId===t.droppableId,od=(e,t)=>{if(e===t)return!0;const n=e.draggable.id===t.draggable.id&&e.draggable.droppableId===t.draggable.droppableId&&e.draggable.type===t.draggable.type&&e.draggable.index===t.draggable.index,r=e.droppable.id===t.droppable.id&&e.droppable.type===t.droppable.type;return n&&r},ct=(e,t)=>{t()},kt=(e,t)=>({draggableId:e.draggable.id,type:e.droppable.type,source:{droppableId:e.droppable.id,index:e.draggable.index},mode:t});function Pn(e,t,n,r){if(!e){n(r(t));return}const s=td(n);e(t,{announce:s}),s.wasCalled()||n(r(t))}var id=(e,t)=>{const n=nd();let r=null;const s=(l,d)=>{r&&D(),ct("onBeforeCapture",()=>{const p=e().onBeforeCapture;p&&p({draggableId:l,mode:d})})},o=(l,d)=>{r&&D(),ct("onBeforeDragStart",()=>{const p=e().onBeforeDragStart;p&&p(kt(l,d))})},i=(l,d)=>{r&&D();const p=kt(l,d);r={mode:d,lastCritical:l,lastLocation:p.source,lastCombine:null},n.add(()=>{ct("onDragStart",()=>Pn(e().onDragStart,p,t,Ft.onDragStart))})},a=(l,d)=>{const p=Xn(d),g=nn(d);r||D();const m=!od(l,r.lastCritical);m&&(r.lastCritical=l);const b=!rd(r.lastLocation,p);b&&(r.lastLocation=p);const w=!sd(r.lastCombine,g);if(w&&(r.lastCombine=g),!m&&!b&&!w)return;const x={...kt(l,r.mode),combine:g,destination:p};n.add(()=>{ct("onDragUpdate",()=>Pn(e().onDragUpdate,x,t,Ft.onDragUpdate))})},c=()=>{r||D(),n.flush()},u=l=>{r||D(),r=null,ct("onDragEnd",()=>Pn(e().onDragEnd,l,t,Ft.onDragEnd))};return{beforeCapture:s,beforeStart:o,start:i,update:a,flush:c,drop:u,abort:()=>{if(!r)return;const l={...kt(r.lastCritical,r.mode),combine:null,destination:null,reason:"CANCEL"};u(l)}}},ad=(e,t)=>{const n=id(e,t);return r=>s=>o=>{if(k(o,"BEFORE_INITIAL_CAPTURE")){n.beforeCapture(o.payload.draggableId,o.payload.movementMode);return}if(k(o,"INITIAL_PUBLISH")){const a=o.payload.critical;n.beforeStart(a,o.payload.movementMode),s(o),n.start(a,o.payload.movementMode);return}if(k(o,"DROP_COMPLETE")){const a=o.payload.completed.result;n.flush(),s(o),n.drop(a);return}if(s(o),k(o,"FLUSH")){n.abort();return}const i=r.getState();i.phase==="DRAGGING"&&n.update(i.critical,i.impact)}};const cd=e=>t=>n=>{if(!k(n,"DROP_ANIMATION_FINISHED")){t(n);return}const r=e.getState();r.phase!=="DROP_ANIMATING"&&D(),e.dispatch(sr({completed:r.completed}))},ld=e=>{let t=null,n=null;function r(){n&&(cancelAnimationFrame(n),n=null),t&&(t(),t=null)}return s=>o=>{if((k(o,"FLUSH")||k(o,"DROP_COMPLETE")||k(o,"DROP_ANIMATION_FINISHED"))&&r(),s(o),!k(o,"DROP_ANIMATE"))return;const i={eventName:"scroll",options:{capture:!0,passive:!1,once:!0},fn:function(){e.getState().phase==="DROP_ANIMATING"&&e.dispatch(Io())}};n=requestAnimationFrame(()=>{n=null,t=ae(window,[i])})}};var ud=e=>()=>t=>n=>{(k(n,"DROP_COMPLETE")||k(n,"FLUSH")||k(n,"DROP_ANIMATE"))&&e.stopPublishing(),t(n)},dd=e=>{let t=!1;return()=>n=>r=>{if(k(r,"INITIAL_PUBLISH")){t=!0,e.tryRecordFocus(r.payload.critical.draggable.id),n(r),e.tryRestoreFocusRecorded();return}if(n(r),!!t){if(k(r,"FLUSH")){t=!1,e.tryRestoreFocusRecorded();return}if(k(r,"DROP_COMPLETE")){t=!1;const s=r.payload.completed.result;s.combine&&e.tryShiftRecord(s.draggableId,s.combine.draggableId),e.tryRestoreFocusRecorded()}}}};const fd=e=>k(e,"DROP_COMPLETE")||k(e,"DROP_ANIMATE")||k(e,"FLUSH");var pd=e=>t=>n=>r=>{if(fd(r)){e.stop(),n(r);return}if(k(r,"INITIAL_PUBLISH")){n(r);const s=t.getState();s.phase!=="DRAGGING"&&D(),e.start(s);return}n(r),e.scroll(t.getState())};const hd=e=>t=>n=>{if(t(n),!k(n,"PUBLISH_WHILE_DRAGGING"))return;const r=e.getState();r.phase==="DROP_PENDING"&&(r.isWaiting||e.dispatch(Po({reason:r.reason})))},gd=Us;var md=({dimensionMarshal:e,focusMarshal:t,styleMarshal:n,getResponders:r,announce:s,autoScroller:o})=>Hs(Pu,gd(fc(Hu(n),ud(e),qu(e),Ku,cd,ld,hd,pd(o),ed,dd(t),ad(r,s))));const In=()=>({additions:{},removals:{},modified:{}});function bd({registry:e,callbacks:t}){let n=In(),r=null;const s=()=>{r||(t.collectionStarting(),r=requestAnimationFrame(()=>{r=null;const{additions:c,removals:u,modified:f}=n,l=Object.keys(c).map(g=>e.draggable.getById(g).getDimension(H)).sort((g,m)=>g.descriptor.index-m.descriptor.index),d=Object.keys(f).map(g=>{const b=e.droppable.getById(g).callbacks.getScrollWhileDragging();return{droppableId:g,scroll:b}}),p={additions:l,removals:Object.keys(u),modified:d};n=In(),t.publish(p)}))};return{add:c=>{const u=c.descriptor.id;n.additions[u]=c,n.modified[c.descriptor.droppableId]=!0,n.removals[u]&&delete n.removals[u],s()},remove:c=>{const u=c.descriptor;n.removals[u.id]=!0,n.modified[u.droppableId]=!0,n.additions[u.id]&&delete n.additions[u.id],s()},stop:()=>{r&&(cancelAnimationFrame(r),r=null,n=In())}}}var Ro=({scrollHeight:e,scrollWidth:t,height:n,width:r})=>{const s=te({x:t,y:e},{x:r,y:n});return{x:Math.max(0,s.x),y:Math.max(0,s.y)}},To=()=>{const e=document.documentElement;return e||D(),e},Mo=()=>{const e=To();return Ro({scrollHeight:e.scrollHeight,scrollWidth:e.scrollWidth,width:e.clientWidth,height:e.clientHeight})},yd=()=>{const e=Ao(),t=Mo(),n=e.y,r=e.x,s=To(),o=s.clientWidth,i=s.clientHeight,a=r+o,c=n+i;return{frame:pe({top:n,left:r,right:a,bottom:c}),scroll:{initial:e,current:e,max:t,diff:{value:H,displacement:H}}}},xd=({critical:e,scrollOptions:t,registry:n})=>{const r=yd(),s=r.scroll.current,o=e.droppable,i=n.droppable.getAllByType(o.type).map(f=>f.callbacks.getDimensionAndWatchScroll(s,t)),a=n.draggable.getAllByType(e.draggable.type).map(f=>f.getDimension(s));return{dimensions:{draggables:io(a),droppables:oo(i)},critical:e,viewport:r}};function is(e,t,n){return!(n.descriptor.id===t.id||n.descriptor.type!==t.type||e.droppable.getById(n.descriptor.droppableId).descriptor.mode!=="virtual")}var vd=(e,t)=>{let n=null;const r=bd({callbacks:{publish:t.publishWhileDragging,collectionStarting:t.collectionStarting},registry:e}),s=(d,p)=>{e.droppable.exists(d)||D(),n&&t.updateDroppableIsEnabled({id:d,isEnabled:p})},o=(d,p)=>{n&&(e.droppable.exists(d)||D(),t.updateDroppableIsCombineEnabled({id:d,isCombineEnabled:p}))},i=(d,p)=>{n&&(e.droppable.exists(d)||D(),t.updateDroppableScroll({id:d,newScroll:p}))},a=(d,p)=>{n&&e.droppable.getById(d).callbacks.scroll(p)},c=()=>{if(!n)return;r.stop();const d=n.critical.droppable;e.droppable.getAllByType(d.type).forEach(p=>p.callbacks.dragStopped()),n.unsubscribe(),n=null},u=d=>{n||D();const p=n.critical.draggable;d.type==="ADDITION"&&is(e,p,d.value)&&r.add(d.value),d.type==="REMOVAL"&&is(e,p,d.value)&&r.remove(d.value)};return{updateDroppableIsEnabled:s,updateDroppableIsCombineEnabled:o,scrollDroppable:a,updateDroppableScroll:i,startPublishing:d=>{n&&D();const p=e.draggable.getById(d.draggableId),g=e.droppable.getById(p.descriptor.droppableId),m={draggable:p.descriptor,droppable:g.descriptor},b=e.subscribe(u);return n={critical:m,unsubscribe:b},xd({critical:m,registry:e,scrollOptions:d.scrollOptions})},stopPublishing:c}},ko=(e,t)=>e.phase==="IDLE"?!0:e.phase!=="DROP_ANIMATING"||e.completed.result.draggableId===t?!1:e.completed.result.reason==="DROP",wd=e=>{window.scrollBy(e.x,e.y)};const Dd=q(e=>tn(e).filter(t=>!(!t.isEnabled||!t.frame))),Sd=(e,t)=>Dd(t).find(r=>(r.frame||D(),bo(r.frame.pageMarginBox)(e)))||null;var Cd=({center:e,destination:t,droppables:n})=>{if(t){const s=n[t];return s.frame?s:null}return Sd(e,n)};const wt={startFromPercentage:.25,maxScrollAtPercentage:.05,maxPixelScroll:28,ease:e=>e**2,durationDampening:{stopDampeningAt:1200,accelerateAt:360},disabled:!1};var Ed=(e,t,n=()=>wt)=>{const r=n(),s=e[t.size]*r.startFromPercentage,o=e[t.size]*r.maxScrollAtPercentage;return{startScrollingFrom:s,maxScrollValueAt:o}},Bo=({startOfRange:e,endOfRange:t,current:n})=>{const r=t-e;return r===0?0:(n-e)/r},ir=1,Pd=(e,t,n=()=>wt)=>{const r=n();if(e>t.startScrollingFrom)return 0;if(e<=t.maxScrollValueAt)return r.maxPixelScroll;if(e===t.startScrollingFrom)return ir;const o=1-Bo({startOfRange:t.maxScrollValueAt,endOfRange:t.startScrollingFrom,current:e}),i=r.maxPixelScroll*r.ease(o);return Math.ceil(i)},Id=(e,t,n)=>{const r=n(),s=r.durationDampening.accelerateAt,o=r.durationDampening.stopDampeningAt,i=t,a=o,u=Date.now()-i;if(u>=o)return e;if(u<s)return ir;const f=Bo({startOfRange:s,endOfRange:a,current:u}),l=e*r.ease(f);return Math.ceil(l)},as=({distanceToEdge:e,thresholds:t,dragStartTime:n,shouldUseTimeDampening:r,getAutoScrollerOptions:s})=>{const o=Pd(e,t,s);return o===0?0:r?Math.max(Id(o,n,s),ir):o},cs=({container:e,distanceToEdges:t,dragStartTime:n,axis:r,shouldUseTimeDampening:s,getAutoScrollerOptions:o})=>{const i=Ed(e,r,o);return t[r.end]<t[r.start]?as({distanceToEdge:t[r.end],thresholds:i,dragStartTime:n,shouldUseTimeDampening:s,getAutoScrollerOptions:o}):-1*as({distanceToEdge:t[r.start],thresholds:i,dragStartTime:n,shouldUseTimeDampening:s,getAutoScrollerOptions:o})},Od=({container:e,subject:t,proposedScroll:n})=>{const r=t.height>e.height,s=t.width>e.width;return!s&&!r?n:s&&r?null:{x:s?0:n.x,y:r?0:n.y}};const Nd=so(e=>e===0?0:e);var jo=({dragStartTime:e,container:t,subject:n,center:r,shouldUseTimeDampening:s,getAutoScrollerOptions:o})=>{const i={top:r.y-t.top,right:t.right-r.x,bottom:t.bottom-r.y,left:r.x-t.left},a=cs({container:t,distanceToEdges:i,dragStartTime:e,axis:Jn,shouldUseTimeDampening:s,getAutoScrollerOptions:o}),c=cs({container:t,distanceToEdges:i,dragStartTime:e,axis:lo,shouldUseTimeDampening:s,getAutoScrollerOptions:o}),u=Nd({x:c,y:a});if(Oe(u,H))return null;const f=Od({container:t,subject:n,proposedScroll:u});return f?Oe(f,H)?null:f:null};const Ad=so(e=>e===0?0:e>0?1:-1),ar=(()=>{const e=(t,n)=>t<0?t:t>n?t-n:0;return({current:t,max:n,change:r})=>{const s=U(t,r),o={x:e(s.x,n.x),y:e(s.y,n.y)};return Oe(o,H)?null:o}})(),Fo=({max:e,current:t,change:n})=>{const r={x:Math.max(t.x,e.x),y:Math.max(t.y,e.y)},s=Ad(n),o=ar({max:r,current:t,change:s});return!o||s.x!==0&&o.x===0||s.y!==0&&o.y===0},cr=(e,t)=>Fo({current:e.scroll.current,max:e.scroll.max,change:t}),Rd=(e,t)=>{if(!cr(e,t))return null;const n=e.scroll.max,r=e.scroll.current;return ar({current:r,max:n,change:t})},lr=(e,t)=>{const n=e.frame;return n?Fo({current:n.scroll.current,max:n.scroll.max,change:t}):!1},Td=(e,t)=>{const n=e.frame;return!n||!lr(e,t)?null:ar({current:n.scroll.current,max:n.scroll.max,change:t})};var Md=({viewport:e,subject:t,center:n,dragStartTime:r,shouldUseTimeDampening:s,getAutoScrollerOptions:o})=>{const i=jo({dragStartTime:r,container:e.frame,subject:t,center:n,shouldUseTimeDampening:s,getAutoScrollerOptions:o});return i&&cr(e,i)?i:null},kd=({droppable:e,subject:t,center:n,dragStartTime:r,shouldUseTimeDampening:s,getAutoScrollerOptions:o})=>{const i=e.frame;if(!i)return null;const a=jo({dragStartTime:r,container:i.pageMarginBox,subject:t,center:n,shouldUseTimeDampening:s,getAutoScrollerOptions:o});return a&&lr(e,a)?a:null},ls=({state:e,dragStartTime:t,shouldUseTimeDampening:n,scrollWindow:r,scrollDroppable:s,getAutoScrollerOptions:o})=>{const i=e.current.page.borderBoxCenter,c=e.dimensions.draggables[e.critical.draggable.id].page.marginBox;if(e.isWindowScrollAllowed){const l=e.viewport,d=Md({dragStartTime:t,viewport:l,subject:c,center:i,shouldUseTimeDampening:n,getAutoScrollerOptions:o});if(d){r(d);return}}const u=Cd({center:i,destination:ne(e.impact),droppables:e.dimensions.droppables});if(!u)return;const f=kd({dragStartTime:t,droppable:u,subject:c,center:i,shouldUseTimeDampening:n,getAutoScrollerOptions:o});f&&s(u.descriptor.id,f)},Bd=({scrollWindow:e,scrollDroppable:t,getAutoScrollerOptions:n=()=>wt})=>{const r=mt(e),s=mt(t);let o=null;const i=u=>{o||D();const{shouldUseTimeDampening:f,dragStartTime:l}=o;ls({state:u,scrollWindow:r,scrollDroppable:s,dragStartTime:l,shouldUseTimeDampening:f,getAutoScrollerOptions:n})};return{start:u=>{o&&D();const f=Date.now();let l=!1;const d=()=>{l=!0};ls({state:u,dragStartTime:0,shouldUseTimeDampening:!1,scrollWindow:d,scrollDroppable:d,getAutoScrollerOptions:n}),o={dragStartTime:f,shouldUseTimeDampening:l},l&&i(u)},stop:()=>{o&&(r.cancel(),s.cancel(),o=null)},scroll:i}},jd=({move:e,scrollDroppable:t,scrollWindow:n})=>{const r=(a,c)=>{const u=U(a.current.client.selection,c);e({client:u})},s=(a,c)=>{if(!lr(a,c))return c;const u=Td(a,c);if(!u)return t(a.descriptor.id,c),null;const f=te(c,u);return t(a.descriptor.id,f),te(c,f)},o=(a,c,u)=>{if(!a||!cr(c,u))return u;const f=Rd(c,u);if(!f)return n(u),null;const l=te(u,f);return n(l),te(u,l)};return a=>{const c=a.scrollJumpRequest;if(!c)return;const u=ne(a.impact);u||D();const f=s(a.dimensions.droppables[u],c);if(!f)return;const l=a.viewport,d=o(a.isWindowScrollAllowed,l,f);d&&r(a,d)}},Fd=({scrollDroppable:e,scrollWindow:t,move:n,getAutoScrollerOptions:r})=>{const s=Bd({scrollWindow:t,scrollDroppable:e,getAutoScrollerOptions:r}),o=jd({move:n,scrollWindow:t,scrollDroppable:e});return{scroll:c=>{if(!(r().disabled||c.phase!=="DRAGGING")){if(c.movementMode==="FLUID"){s.scroll(c);return}c.scrollJumpRequest&&o(c)}},start:s.start,stop:s.stop}};const Ze="data-rfd",et=(()=>{const e=`${Ze}-drag-handle`;return{base:e,draggableId:`${e}-draggable-id`,contextId:`${e}-context-id`}})(),Gn=(()=>{const e=`${Ze}-draggable`;return{base:e,contextId:`${e}-context-id`,id:`${e}-id`}})(),Ld=(()=>{const e=`${Ze}-droppable`;return{base:e,contextId:`${e}-context-id`,id:`${e}-id`}})(),us={contextId:`${Ze}-scroll-container-context-id`},Wd=e=>t=>`[${t}="${e}"]`,lt=(e,t)=>e.map(n=>{const r=n.styles[t];return r?`${n.selector} { ${r} }`:""}).join(" "),Gd="pointer-events: none;";var _d=e=>{const t=Wd(e),n=(()=>{const a=`
      cursor: -webkit-grab;
      cursor: grab;
    `;return{selector:t(et.contextId),styles:{always:`
          -webkit-touch-callout: none;
          -webkit-tap-highlight-color: rgba(0,0,0,0);
          touch-action: manipulation;
        `,resting:a,dragging:Gd,dropAnimating:a}}})(),r=(()=>{const a=`
      transition: ${ft.outOfTheWay};
    `;return{selector:t(Gn.contextId),styles:{dragging:a,dropAnimating:a,userCancel:a}}})(),s={selector:t(Ld.contextId),styles:{always:"overflow-anchor: none;"}},i=[r,n,s,{selector:"body",styles:{dragging:`
        cursor: grabbing;
        cursor: -webkit-grabbing;
        user-select: none;
        -webkit-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        overflow-anchor: none;
      `}}];return{always:lt(i,"always"),resting:lt(i,"resting"),dragging:lt(i,"dragging"),dropAnimating:lt(i,"dropAnimating"),userCancel:lt(i,"userCancel")}};const re=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?v.useLayoutEffect:v.useEffect,On=()=>{const e=document.querySelector("head");return e||D(),e},ds=e=>{const t=document.createElement("style");return e&&t.setAttribute("nonce",e),t.type="text/css",t};function $d(e,t){const n=T(()=>_d(e),[e]),r=v.useRef(null),s=v.useRef(null),o=I(q(l=>{const d=s.current;d||D(),d.textContent=l}),[]),i=I(l=>{const d=r.current;d||D(),d.textContent=l},[]);re(()=>{!r.current&&!s.current||D();const l=ds(t),d=ds(t);return r.current=l,s.current=d,l.setAttribute(`${Ze}-always`,e),d.setAttribute(`${Ze}-dynamic`,e),On().appendChild(l),On().appendChild(d),i(n.always),o(n.resting),()=>{const p=g=>{const m=g.current;m||D(),On().removeChild(m),g.current=null};p(r),p(s)}},[t,i,o,n.always,n.resting,e]);const a=I(()=>o(n.dragging),[o,n.dragging]),c=I(l=>{if(l==="DROP"){o(n.dropAnimating);return}o(n.userCancel)},[o,n.dropAnimating,n.userCancel]),u=I(()=>{s.current&&o(n.resting)},[o,n.resting]);return T(()=>({dragging:a,dropping:c,resting:u}),[a,c,u])}function Lo(e,t){return Array.from(e.querySelectorAll(t))}var Wo=e=>e&&e.ownerDocument&&e.ownerDocument.defaultView?e.ownerDocument.defaultView:window;function on(e){return e instanceof Wo(e).HTMLElement}function qd(e,t){const n=`[${et.contextId}="${e}"]`,r=Lo(document,n);if(!r.length)return null;const s=r.find(o=>o.getAttribute(et.draggableId)===t);return!s||!on(s)?null:s}function Hd(e){const t=v.useRef({}),n=v.useRef(null),r=v.useRef(null),s=v.useRef(!1),o=I(function(d,p){const g={id:d,focus:p};return t.current[d]=g,function(){const b=t.current;b[d]!==g&&delete b[d]}},[]),i=I(function(d){const p=qd(e,d);p&&p!==document.activeElement&&p.focus()},[e]),a=I(function(d,p){n.current===d&&(n.current=p)},[]),c=I(function(){r.current||s.current&&(r.current=requestAnimationFrame(()=>{r.current=null;const d=n.current;d&&i(d)}))},[i]),u=I(function(d){n.current=null;const p=document.activeElement;p&&p.getAttribute(et.draggableId)===d&&(n.current=d)},[]);return re(()=>(s.current=!0,function(){s.current=!1;const d=r.current;d&&cancelAnimationFrame(d)}),[]),T(()=>({register:o,tryRecordFocus:u,tryRestoreFocusRecorded:c,tryShiftRecord:a}),[o,u,c,a])}function Ud(){const e={draggables:{},droppables:{}},t=[];function n(l){return t.push(l),function(){const p=t.indexOf(l);p!==-1&&t.splice(p,1)}}function r(l){t.length&&t.forEach(d=>d(l))}function s(l){return e.draggables[l]||null}function o(l){const d=s(l);return d||D(),d}const i={register:l=>{e.draggables[l.descriptor.id]=l,r({type:"ADDITION",value:l})},update:(l,d)=>{const p=e.draggables[d.descriptor.id];p&&p.uniqueId===l.uniqueId&&(delete e.draggables[d.descriptor.id],e.draggables[l.descriptor.id]=l)},unregister:l=>{const d=l.descriptor.id,p=s(d);p&&l.uniqueId===p.uniqueId&&(delete e.draggables[d],e.droppables[l.descriptor.droppableId]&&r({type:"REMOVAL",value:l}))},getById:o,findById:s,exists:l=>!!s(l),getAllByType:l=>Object.values(e.draggables).filter(d=>d.descriptor.type===l)};function a(l){return e.droppables[l]||null}function c(l){const d=a(l);return d||D(),d}const u={register:l=>{e.droppables[l.descriptor.id]=l},unregister:l=>{const d=a(l.descriptor.id);d&&l.uniqueId===d.uniqueId&&delete e.droppables[l.descriptor.id]},getById:c,findById:a,exists:l=>!!a(l),getAllByType:l=>Object.values(e.droppables).filter(d=>d.descriptor.type===l)};function f(){e.draggables={},e.droppables={},t.length=0}return{draggable:i,droppable:u,subscribe:n,clean:f}}function Vd(){const e=T(Ud,[]);return v.useEffect(()=>function(){e.clean()},[e]),e}var ur=j.createContext(null),zt=()=>{const e=document.body;return e||D(),e};const Yd={position:"absolute",width:"1px",height:"1px",margin:"-1px",border:"0",padding:"0",overflow:"hidden",clip:"rect(0 0 0 0)","clip-path":"inset(100%)"},Qd=e=>`rfd-announcement-${e}`;function zd(e){const t=T(()=>Qd(e),[e]),n=v.useRef(null);return v.useEffect(function(){const o=document.createElement("div");return n.current=o,o.id=t,o.setAttribute("aria-live","assertive"),o.setAttribute("aria-atomic","true"),Ut(o.style,Yd),zt().appendChild(o),function(){setTimeout(function(){const c=zt();c.contains(o)&&c.removeChild(o),o===n.current&&(n.current=null)})}},[t]),I(s=>{const o=n.current;if(o){o.textContent=s;return}},[])}const Kd={separator:"::"};function dr(e,t=Kd){const n=j.useId();return T(()=>`${e}${t.separator}${n}`,[t.separator,e,n])}function Xd({contextId:e,uniqueId:t}){return`rfd-hidden-text-${e}-${t}`}function Jd({contextId:e,text:t}){const n=dr("hidden-text",{separator:"-"}),r=T(()=>Xd({contextId:e,uniqueId:n}),[n,e]);return v.useEffect(function(){const o=document.createElement("div");return o.id=r,o.textContent=t,o.style.display="none",zt().appendChild(o),function(){const a=zt();a.contains(o)&&a.removeChild(o)}},[r,t]),r}var an=j.createContext(null);function Go(e){const t=v.useRef(e);return v.useEffect(()=>{t.current=e}),t}function Zd(){let e=null;function t(){return!!e}function n(i){return i===e}function r(i){e&&D();const a={abandon:i};return e=a,a}function s(){e||D(),e=null}function o(){e&&(e.abandon(),s())}return{isClaimed:t,isActive:n,claim:r,release:s,tryAbandon:o}}function Dt(e){return e.phase==="IDLE"||e.phase==="DROP_ANIMATING"?!1:e.isDragging}const ef=9,tf=13,fr=27,_o=32,nf=33,rf=34,sf=35,of=36,af=37,cf=38,lf=39,uf=40,df={[tf]:!0,[ef]:!0};var $o=e=>{df[e.keyCode]&&e.preventDefault()};const cn=(()=>{const e="visibilitychange";return typeof document>"u"?e:[e,`ms${e}`,`webkit${e}`,`moz${e}`,`o${e}`].find(r=>`on${r}`in document)||e})(),qo=0,fs=5;function ff(e,t){return Math.abs(t.x-e.x)>=fs||Math.abs(t.y-e.y)>=fs}const ps={type:"IDLE"};function pf({cancel:e,completed:t,getPhase:n,setPhase:r}){return[{eventName:"mousemove",fn:s=>{const{button:o,clientX:i,clientY:a}=s;if(o!==qo)return;const c={x:i,y:a},u=n();if(u.type==="DRAGGING"){s.preventDefault(),u.actions.move(c);return}u.type!=="PENDING"&&D();const f=u.point;if(!ff(f,c))return;s.preventDefault();const l=u.actions.fluidLift(c);r({type:"DRAGGING",actions:l})}},{eventName:"mouseup",fn:s=>{const o=n();if(o.type!=="DRAGGING"){e();return}s.preventDefault(),o.actions.drop({shouldBlockNextClick:!0}),t()}},{eventName:"mousedown",fn:s=>{n().type==="DRAGGING"&&s.preventDefault(),e()}},{eventName:"keydown",fn:s=>{if(n().type==="PENDING"){e();return}if(s.keyCode===fr){s.preventDefault(),e();return}$o(s)}},{eventName:"resize",fn:e},{eventName:"scroll",options:{passive:!0,capture:!1},fn:()=>{n().type==="PENDING"&&e()}},{eventName:"webkitmouseforcedown",fn:s=>{const o=n();if(o.type==="IDLE"&&D(),o.actions.shouldRespectForcePress()){e();return}s.preventDefault()}},{eventName:cn,fn:e}]}function hf(e){const t=v.useRef(ps),n=v.useRef(Ie),r=T(()=>({eventName:"mousedown",fn:function(l){if(l.defaultPrevented||l.button!==qo||l.ctrlKey||l.metaKey||l.shiftKey||l.altKey)return;const d=e.findClosestDraggableId(l);if(!d)return;const p=e.tryGetLock(d,i,{sourceEvent:l});if(!p)return;l.preventDefault();const g={x:l.clientX,y:l.clientY};n.current(),u(p,g)}}),[e]),s=T(()=>({eventName:"webkitmouseforcewillbegin",fn:f=>{if(f.defaultPrevented)return;const l=e.findClosestDraggableId(f);if(!l)return;const d=e.findOptionsForDraggable(l);d&&(d.shouldRespectForcePress||e.canGetLock(l)&&f.preventDefault())}}),[e]),o=I(function(){const l={passive:!1,capture:!0};n.current=ae(window,[s,r],l)},[s,r]),i=I(()=>{t.current.type!=="IDLE"&&(t.current=ps,n.current(),o())},[o]),a=I(()=>{const f=t.current;i(),f.type==="DRAGGING"&&f.actions.cancel({shouldBlockNextClick:!0}),f.type==="PENDING"&&f.actions.abort()},[i]),c=I(function(){const l={capture:!0,passive:!1},d=pf({cancel:a,completed:i,getPhase:()=>t.current,setPhase:p=>{t.current=p}});n.current=ae(window,d,l)},[a,i]),u=I(function(l,d){t.current.type!=="IDLE"&&D(),t.current={type:"PENDING",point:d,actions:l},c()},[c]);re(function(){return o(),function(){n.current()}},[o])}function gf(){}const mf={[rf]:!0,[nf]:!0,[of]:!0,[sf]:!0};function bf(e,t){function n(){t(),e.cancel()}function r(){t(),e.drop()}return[{eventName:"keydown",fn:s=>{if(s.keyCode===fr){s.preventDefault(),n();return}if(s.keyCode===_o){s.preventDefault(),r();return}if(s.keyCode===uf){s.preventDefault(),e.moveDown();return}if(s.keyCode===cf){s.preventDefault(),e.moveUp();return}if(s.keyCode===lf){s.preventDefault(),e.moveRight();return}if(s.keyCode===af){s.preventDefault(),e.moveLeft();return}if(mf[s.keyCode]){s.preventDefault();return}$o(s)}},{eventName:"mousedown",fn:n},{eventName:"mouseup",fn:n},{eventName:"click",fn:n},{eventName:"touchstart",fn:n},{eventName:"resize",fn:n},{eventName:"wheel",fn:n,options:{passive:!0}},{eventName:cn,fn:n}]}function yf(e){const t=v.useRef(gf),n=T(()=>({eventName:"keydown",fn:function(o){if(o.defaultPrevented||o.keyCode!==_o)return;const i=e.findClosestDraggableId(o);if(!i)return;const a=e.tryGetLock(i,f,{sourceEvent:o});if(!a)return;o.preventDefault();let c=!0;const u=a.snapLift();t.current();function f(){c||D(),c=!1,t.current(),r()}t.current=ae(window,bf(u,f),{capture:!0,passive:!1})}}),[e]),r=I(function(){const o={passive:!1,capture:!0};t.current=ae(window,[n],o)},[n]);re(function(){return r(),function(){t.current()}},[r])}const Nn={type:"IDLE"},xf=120,vf=.15;function wf({cancel:e,getPhase:t}){return[{eventName:"orientationchange",fn:e},{eventName:"resize",fn:e},{eventName:"contextmenu",fn:n=>{n.preventDefault()}},{eventName:"keydown",fn:n=>{if(t().type!=="DRAGGING"){e();return}n.keyCode===fr&&n.preventDefault(),e()}},{eventName:cn,fn:e}]}function Df({cancel:e,completed:t,getPhase:n}){return[{eventName:"touchmove",options:{capture:!1},fn:r=>{const s=n();if(s.type!=="DRAGGING"){e();return}s.hasMoved=!0;const{clientX:o,clientY:i}=r.touches[0],a={x:o,y:i};r.preventDefault(),s.actions.move(a)}},{eventName:"touchend",fn:r=>{const s=n();if(s.type!=="DRAGGING"){e();return}r.preventDefault(),s.actions.drop({shouldBlockNextClick:!0}),t()}},{eventName:"touchcancel",fn:r=>{if(n().type!=="DRAGGING"){e();return}r.preventDefault(),e()}},{eventName:"touchforcechange",fn:r=>{const s=n();s.type==="IDLE"&&D();const o=r.touches[0];if(!o||!(o.force>=vf))return;const a=s.actions.shouldRespectForcePress();if(s.type==="PENDING"){a&&e();return}if(a){if(s.hasMoved){r.preventDefault();return}e();return}r.preventDefault()}},{eventName:cn,fn:e}]}function Sf(e){const t=v.useRef(Nn),n=v.useRef(Ie),r=I(function(){return t.current},[]),s=I(function(p){t.current=p},[]),o=T(()=>({eventName:"touchstart",fn:function(p){if(p.defaultPrevented)return;const g=e.findClosestDraggableId(p);if(!g)return;const m=e.tryGetLock(g,a,{sourceEvent:p});if(!m)return;const b=p.touches[0],{clientX:w,clientY:x}=b,C={x:w,y:x};n.current(),l(m,C)}}),[e]),i=I(function(){const p={capture:!0,passive:!1};n.current=ae(window,[o],p)},[o]),a=I(()=>{const d=t.current;d.type!=="IDLE"&&(d.type==="PENDING"&&clearTimeout(d.longPressTimerId),s(Nn),n.current(),i())},[i,s]),c=I(()=>{const d=t.current;a(),d.type==="DRAGGING"&&d.actions.cancel({shouldBlockNextClick:!0}),d.type==="PENDING"&&d.actions.abort()},[a]),u=I(function(){const p={capture:!0,passive:!1},g={cancel:c,completed:a,getPhase:r},m=ae(window,Df(g),p),b=ae(window,wf(g),p);n.current=function(){m(),b()}},[c,r,a]),f=I(function(){const p=r();p.type!=="PENDING"&&D();const g=p.actions.fluidLift(p.point);s({type:"DRAGGING",actions:g,hasMoved:!1})},[r,s]),l=I(function(p,g){r().type!=="IDLE"&&D();const m=setTimeout(f,xf);s({type:"PENDING",point:g,actions:p,longPressTimerId:m}),u()},[u,r,s,f]);re(function(){return i(),function(){n.current();const g=r();g.type==="PENDING"&&(clearTimeout(g.longPressTimerId),s(Nn))}},[r,i,s]),re(function(){return ae(window,[{eventName:"touchmove",fn:()=>{},options:{capture:!1,passive:!1}}])},[])}const Cf=["input","button","textarea","select","option","optgroup","video","audio"];function Ho(e,t){if(t==null)return!1;if(Cf.includes(t.tagName.toLowerCase()))return!0;const r=t.getAttribute("contenteditable");return r==="true"||r===""?!0:t===e?!1:Ho(e,t.parentElement)}function Ef(e,t){const n=t.target;return on(n)?Ho(e,n):!1}var Pf=e=>pe(e.getBoundingClientRect()).center;function If(e){return e instanceof Wo(e).Element}const Of=(()=>{const e="matches";return typeof document>"u"?e:[e,"msMatchesSelector","webkitMatchesSelector"].find(r=>r in Element.prototype)||e})();function Uo(e,t){return e==null?null:e[Of](t)?e:Uo(e.parentElement,t)}function Nf(e,t){return e.closest?e.closest(t):Uo(e,t)}function Af(e){return`[${et.contextId}="${e}"]`}function Rf(e,t){const n=t.target;if(!If(n))return null;const r=Af(e),s=Nf(n,r);return!s||!on(s)?null:s}function Tf(e,t){const n=Rf(e,t);return n?n.getAttribute(et.draggableId):null}function Mf(e,t){const n=`[${Gn.contextId}="${e}"]`,s=Lo(document,n).find(o=>o.getAttribute(Gn.id)===t);return!s||!on(s)?null:s}function kf(e){e.preventDefault()}function Bt({expected:e,phase:t,isLockActive:n,shouldWarn:r}){return!(!n()||e!==t)}function Vo({lockAPI:e,store:t,registry:n,draggableId:r}){if(e.isClaimed())return!1;const s=n.draggable.findById(r);return!(!s||!s.options.isEnabled||!ko(t.getState(),r))}function Bf({lockAPI:e,contextId:t,store:n,registry:r,draggableId:s,forceSensorStop:o,sourceEvent:i}){if(!Vo({lockAPI:e,store:n,registry:r,draggableId:s}))return null;const c=r.draggable.getById(s),u=Mf(t,c.descriptor.id);if(!u||i&&!c.options.canDragInteractiveElements&&Ef(u,i))return null;const f=e.claim(o||Ie);let l="PRE_DRAG";function d(){return c.options.shouldRespectForcePress}function p(){return e.isActive(f)}function g(P,E){Bt({expected:P,phase:l,isLockActive:p,shouldWarn:!0})&&n.dispatch(E())}const m=g.bind(null,"DRAGGING");function b(P){function E(){e.release(),l="COMPLETED"}l!=="PRE_DRAG"&&(E(),D()),n.dispatch(Ou(P.liftActionArgs)),l="DRAGGING";function R(N,G={shouldBlockNextClick:!1}){if(P.cleanup(),G.shouldBlockNextClick){const F=ae(window,[{eventName:"click",fn:kf,options:{once:!0,passive:!1,capture:!0}}]);setTimeout(F)}E(),n.dispatch(Po({reason:N}))}return{isActive:()=>Bt({expected:"DRAGGING",phase:l,isLockActive:p,shouldWarn:!1}),shouldRespectForcePress:d,drop:N=>R("DROP",N),cancel:N=>R("CANCEL",N),...P.actions}}function w(P){const E=mt(N=>{m(()=>Eo({client:N}))});return{...b({liftActionArgs:{id:s,clientSelection:P,movementMode:"FLUID"},cleanup:()=>E.cancel(),actions:{move:E}}),move:E}}function x(){const P={moveUp:()=>m(Fu),moveRight:()=>m(Wu),moveDown:()=>m(Lu),moveLeft:()=>m(Gu)};return b({liftActionArgs:{id:s,clientSelection:Pf(u),movementMode:"SNAP"},cleanup:Ie,actions:P})}function C(){Bt({expected:"PRE_DRAG",phase:l,isLockActive:p,shouldWarn:!0})&&e.release()}return{isActive:()=>Bt({expected:"PRE_DRAG",phase:l,isLockActive:p,shouldWarn:!1}),shouldRespectForcePress:d,fluidLift:w,snapLift:x,abort:C}}const jf=[hf,yf,Sf];function Ff({contextId:e,store:t,registry:n,customSensors:r,enableDefaultSensors:s}){const o=[...s?jf:[],...r||[]],i=v.useState(()=>Zd())[0],a=I(function(b,w){Dt(b)&&!Dt(w)&&i.tryAbandon()},[i]);re(function(){let b=t.getState();return t.subscribe(()=>{const x=t.getState();a(b,x),b=x})},[i,t,a]),re(()=>i.tryAbandon,[i.tryAbandon]);const c=I(m=>Vo({lockAPI:i,registry:n,store:t,draggableId:m}),[i,n,t]),u=I((m,b,w)=>Bf({lockAPI:i,registry:n,contextId:e,store:t,draggableId:m,forceSensorStop:b||null,sourceEvent:w&&w.sourceEvent?w.sourceEvent:null}),[e,i,n,t]),f=I(m=>Tf(e,m),[e]),l=I(m=>{const b=n.draggable.findById(m);return b?b.options:null},[n.draggable]),d=I(function(){i.isClaimed()&&(i.tryAbandon(),t.getState().phase!=="IDLE"&&t.dispatch(rr()))},[i,t]),p=I(()=>i.isClaimed(),[i]),g=T(()=>({canGetLock:c,tryGetLock:u,findClosestDraggableId:f,findOptionsForDraggable:l,tryReleaseLock:d,isLockClaimed:p}),[c,u,f,l,d,p]);for(let m=0;m<o.length;m++)o[m](g)}const Lf=e=>({onBeforeCapture:t=>{const n=()=>{e.onBeforeCapture&&e.onBeforeCapture(t)};Hn.flushSync(n)},onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragEnd:e.onDragEnd,onDragUpdate:e.onDragUpdate}),Wf=e=>({...wt,...e.autoScrollerOptions,durationDampening:{...wt.durationDampening,...e.autoScrollerOptions}});function ut(e){return e.current||D(),e.current}function Gf(e){const{contextId:t,setCallbacks:n,sensors:r,nonce:s,dragHandleUsageInstructions:o}=e,i=v.useRef(null),a=Go(e),c=I(()=>Lf(a.current),[a]),u=I(()=>Wf(a.current),[a]),f=zd(t),l=Jd({contextId:t,text:o}),d=$d(t,s),p=I(F=>{ut(i).dispatch(F)},[]),g=T(()=>Lr({publishWhileDragging:Au,updateDroppableScroll:Tu,updateDroppableIsEnabled:Mu,updateDroppableIsCombineEnabled:ku,collectionStarting:Ru},p),[p]),m=Vd(),b=T(()=>vd(m,g),[m,g]),w=T(()=>Fd({scrollWindow:wd,scrollDroppable:b.scrollDroppable,getAutoScrollerOptions:u,...Lr({move:Eo},p)}),[b.scrollDroppable,p,u]),x=Hd(t),C=T(()=>md({announce:f,autoScroller:w,dimensionMarshal:b,focusMarshal:x,getResponders:c,styleMarshal:d}),[f,w,b,x,c,d]);i.current=C;const S=I(()=>{const F=ut(i);F.getState().phase!=="IDLE"&&F.dispatch(rr())},[]),P=I(()=>{const F=ut(i).getState();return F.phase==="DROP_ANIMATING"?!0:F.phase==="IDLE"?!1:F.isDragging},[]),E=T(()=>({isDragging:P,tryAbort:S}),[P,S]);n(E);const R=I(F=>ko(ut(i).getState(),F),[]),N=I(()=>Be(ut(i).getState()),[]),G=T(()=>({marshal:b,focus:x,contextId:t,canLift:R,isMovementAllowed:N,dragHandleUsageInstructionsId:l,registry:m}),[t,b,l,x,R,N,m]);return Ff({contextId:t,store:C,registry:m,customSensors:r||null,enableDefaultSensors:e.enableDefaultSensors!==!1}),v.useEffect(()=>S,[S]),j.createElement(an.Provider,{value:G},j.createElement(al,{context:ur,store:C},e.children))}function _f(){return j.useId()}function $f(e){const t=_f(),n=e.dragHandleUsageInstructions||Ft.dragHandleUsageInstructions;return j.createElement(yl,null,r=>j.createElement(Gf,{nonce:e.nonce,contextId:t,setCallbacks:r,dragHandleUsageInstructions:n,enableDefaultSensors:e.enableDefaultSensors,sensors:e.sensors,onBeforeCapture:e.onBeforeCapture,onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragUpdate:e.onDragUpdate,onDragEnd:e.onDragEnd,autoScrollerOptions:e.autoScrollerOptions},e.children))}const hs={dragging:5e3,dropAnimating:4500},qf=(e,t)=>t?ft.drop(t.duration):e?ft.snap:ft.fluid,Hf=(e,t)=>{if(e)return t?vt.opacity.drop:vt.opacity.combining},Uf=e=>e.forceShouldAnimate!=null?e.forceShouldAnimate:e.mode==="SNAP";function Vf(e){const n=e.dimension.client,{offset:r,combineWith:s,dropping:o}=e,i=!!s,a=Uf(e),c=!!o,u=c?Ln.drop(r,i):Ln.moveTo(r);return{position:"fixed",top:n.marginBox.top,left:n.marginBox.left,boxSizing:"border-box",width:n.borderBox.width,height:n.borderBox.height,transition:qf(a,o),transform:u,opacity:Hf(i,c),zIndex:c?hs.dropAnimating:hs.dragging,pointerEvents:"none"}}function Yf(e){return{transform:Ln.moveTo(e.offset),transition:e.shouldAnimateDisplacement?void 0:"none"}}function Qf(e){return e.type==="DRAGGING"?Vf(e):Yf(e)}function zf(e,t,n=H){const r=window.getComputedStyle(t),s=t.getBoundingClientRect(),o=Zs(s,r),i=Ht(o,n),a={client:o,tagName:t.tagName.toLowerCase(),display:r.display},c={x:o.marginBox.width,y:o.marginBox.height};return{descriptor:e,placeholder:a,displaceBy:c,client:o,page:i}}function Kf(e){const t=dr("draggable"),{descriptor:n,registry:r,getDraggableRef:s,canDragInteractiveElements:o,shouldRespectForcePress:i,isEnabled:a}=e,c=T(()=>({canDragInteractiveElements:o,shouldRespectForcePress:i,isEnabled:a}),[o,a,i]),u=I(p=>{const g=s();return g||D(),zf(n,g,p)},[n,s]),f=T(()=>({uniqueId:t,descriptor:n,options:c,getDimension:u}),[n,u,c,t]),l=v.useRef(f),d=v.useRef(!0);re(()=>(r.draggable.register(l.current),()=>r.draggable.unregister(l.current)),[r.draggable]),re(()=>{if(d.current){d.current=!1;return}const p=l.current;l.current=f,r.draggable.update(f,p)},[f,r.draggable])}var pr=j.createContext(null);function Kt(e){const t=v.useContext(e);return t||D(),t}function Xf(e){e.preventDefault()}const Jf=e=>{const t=v.useRef(null),n=I((E=null)=>{t.current=E},[]),r=I(()=>t.current,[]),{contextId:s,dragHandleUsageInstructionsId:o,registry:i}=Kt(an),{type:a,droppableId:c}=Kt(pr),u=T(()=>({id:e.draggableId,index:e.index,type:a,droppableId:c}),[e.draggableId,e.index,a,c]),{children:f,draggableId:l,isEnabled:d,shouldRespectForcePress:p,canDragInteractiveElements:g,isClone:m,mapped:b,dropAnimationFinished:w}=e;if(!m){const E=T(()=>({descriptor:u,registry:i,getDraggableRef:r,canDragInteractiveElements:g,shouldRespectForcePress:p,isEnabled:d}),[u,i,r,g,p,d]);Kf(E)}const x=T(()=>d?{tabIndex:0,role:"button","aria-describedby":o,"data-rfd-drag-handle-draggable-id":l,"data-rfd-drag-handle-context-id":s,draggable:!1,onDragStart:Xf}:null,[s,o,l,d]),C=I(E=>{b.type==="DRAGGING"&&b.dropping&&E.propertyName==="transform"&&Hn.flushSync(w)},[w,b]),S=T(()=>{const E=Qf(b),R=b.type==="DRAGGING"&&b.dropping?C:void 0;return{innerRef:n,draggableProps:{"data-rfd-draggable-context-id":s,"data-rfd-draggable-id":l,style:E,onTransitionEnd:R},dragHandleProps:x}},[s,x,l,b,C,n]),P=T(()=>({draggableId:u.id,type:u.type,source:{index:u.index,droppableId:u.droppableId}}),[u.droppableId,u.id,u.index,u.type]);return j.createElement(j.Fragment,null,f(S,b.snapshot,P))};var Yo=(e,t)=>e===t,Qo=e=>{const{combine:t,destination:n}=e;return n?n.droppableId:t?t.droppableId:null};const Zf=e=>e.combine?e.combine.draggableId:null,ep=e=>e.at&&e.at.type==="COMBINE"?e.at.combine.draggableId:null;function tp(){const e=q((s,o)=>({x:s,y:o})),t=q((s,o,i=null,a=null,c=null)=>({isDragging:!0,isClone:o,isDropAnimating:!!c,dropAnimation:c,mode:s,draggingOver:i,combineWith:a,combineTargetFor:null})),n=q((s,o,i,a,c=null,u=null,f=null)=>({mapped:{type:"DRAGGING",dropping:null,draggingOver:c,combineWith:u,mode:o,offset:s,dimension:i,forceShouldAnimate:f,snapshot:t(o,a,c,u,null)}}));return(s,o)=>{if(Dt(s)){if(s.critical.draggable.id!==o.draggableId)return null;const i=s.current.client.offset,a=s.dimensions.draggables[o.draggableId],c=ne(s.impact),u=ep(s.impact),f=s.forceShouldAnimate;return n(e(i.x,i.y),s.movementMode,a,o.isClone,c,u,f)}if(s.phase==="DROP_ANIMATING"){const i=s.completed;if(i.result.draggableId!==o.draggableId)return null;const a=o.isClone,c=s.dimensions.draggables[o.draggableId],u=i.result,f=u.mode,l=Qo(u),d=Zf(u),g={duration:s.dropDuration,curve:or.drop,moveTo:s.newHomeClientOffset,opacity:d?vt.opacity.drop:null,scale:d?vt.scale.drop:null};return{mapped:{type:"DRAGGING",offset:s.newHomeClientOffset,dimension:c,dropping:g,draggingOver:l,combineWith:d,mode:f,forceShouldAnimate:null,snapshot:t(f,a,l,d,g)}}}return null}}function zo(e=null){return{isDragging:!1,isDropAnimating:!1,isClone:!1,dropAnimation:null,mode:null,draggingOver:null,combineTargetFor:e,combineWith:null}}const np={mapped:{type:"SECONDARY",offset:H,combineTargetFor:null,shouldAnimateDisplacement:!0,snapshot:zo(null)}};function rp(){const e=q((i,a)=>({x:i,y:a})),t=q(zo),n=q((i,a=null,c)=>({mapped:{type:"SECONDARY",offset:i,combineTargetFor:a,shouldAnimateDisplacement:c,snapshot:t(a)}})),r=i=>i?n(H,i,!0):null,s=(i,a,c,u)=>{const f=c.displaced.visible[i],l=!!(u.inVirtualList&&u.effected[i]),d=nn(c),p=d&&d.draggableId===i?a:null;if(!f){if(!l)return r(p);if(c.displaced.invisible[i])return null;const b=tt(u.displacedBy.point),w=e(b.x,b.y);return n(w,p,!0)}if(l)return r(p);const g=c.displacedBy.point,m=e(g.x,g.y);return n(m,p,f.shouldAnimate)};return(i,a)=>{if(Dt(i))return i.critical.draggable.id===a.draggableId?null:s(a.draggableId,i.critical.draggable.id,i.impact,i.afterCritical);if(i.phase==="DROP_ANIMATING"){const c=i.completed;return c.result.draggableId===a.draggableId?null:s(a.draggableId,c.result.draggableId,c.impact,c.afterCritical)}return null}}const sp=()=>{const e=tp(),t=rp();return(r,s)=>e(r,s)||t(r,s)||np},op={dropAnimationFinished:Io},ip=Xs(sp,op,null,{context:ur,areStatePropsEqual:Yo})(Jf);function Ko(e){return Kt(pr).isUsingCloneFor===e.draggableId&&!e.isClone?null:j.createElement(ip,e)}function ap(e){const t=typeof e.isDragDisabled=="boolean"?!e.isDragDisabled:!0,n=!!e.disableInteractiveElementBlocking,r=!!e.shouldRespectForcePress;return j.createElement(Ko,Ut({},e,{isClone:!1,isEnabled:t,canDragInteractiveElements:n,shouldRespectForcePress:r}))}const Xo=e=>t=>e===t,cp=Xo("scroll"),lp=Xo("auto"),gs=(e,t)=>t(e.overflowX)||t(e.overflowY),up=e=>{const t=window.getComputedStyle(e),n={overflowX:t.overflowX,overflowY:t.overflowY};return gs(n,cp)||gs(n,lp)},dp=()=>!1,Jo=e=>e==null?null:e===document.body?dp()?e:null:e===document.documentElement?null:up(e)?e:Jo(e.parentElement);var _n=e=>({x:e.scrollLeft,y:e.scrollTop});const Zo=e=>e?window.getComputedStyle(e).position==="fixed"?!0:Zo(e.parentElement):!1;var fp=e=>{const t=Jo(e),n=Zo(e);return{closestScrollable:t,isFixedOnPage:n}},pp=({descriptor:e,isEnabled:t,isCombineEnabled:n,isFixedOnPage:r,direction:s,client:o,page:i,closest:a})=>{const c=(()=>{if(!a)return null;const{scrollSize:d,client:p}=a,g=Ro({scrollHeight:d.scrollHeight,scrollWidth:d.scrollWidth,height:p.paddingBox.height,width:p.paddingBox.width});return{pageMarginBox:a.page.marginBox,frameClient:p,scrollSize:d,shouldClipSubject:a.shouldClipSubject,scroll:{initial:a.scroll,current:a.scroll,max:g,diff:{value:H,displacement:H}}}})(),u=s==="vertical"?Jn:lo,f=Je({page:i,withPlaceholder:null,axis:u,frame:c});return{descriptor:e,isCombineEnabled:n,isFixedOnPage:r,axis:u,isEnabled:t,client:o,page:i,frame:c,subject:f}};const hp=(e,t)=>{const n=eo(e);if(!t||e!==t)return n;const r=n.paddingBox.top-t.scrollTop,s=n.paddingBox.left-t.scrollLeft,o=r+t.scrollHeight,i=s+t.scrollWidth,c=Qn({top:r,right:i,bottom:o,left:s},n.border);return zn({borderBox:c,margin:n.margin,border:n.border,padding:n.padding})};var gp=({ref:e,descriptor:t,env:n,windowScroll:r,direction:s,isDropDisabled:o,isCombineEnabled:i,shouldClipSubject:a})=>{const c=n.closestScrollable,u=hp(e,c),f=Ht(u,r),l=(()=>{if(!c)return null;const p=eo(c),g={scrollHeight:c.scrollHeight,scrollWidth:c.scrollWidth};return{client:p,page:Ht(p,r),scroll:_n(c),scrollSize:g,shouldClipSubject:a}})();return pp({descriptor:t,isEnabled:!o,isCombineEnabled:i,isFixedOnPage:n.isFixedOnPage,direction:s,client:u,page:f,closest:l})};const mp={passive:!1},bp={passive:!0};var ms=e=>e.shouldPublishImmediately?mp:bp;const jt=e=>e&&e.env.closestScrollable||null;function yp(e){const t=v.useRef(null),n=Kt(an),r=dr("droppable"),{registry:s,marshal:o}=n,i=Go(e),a=T(()=>({id:e.droppableId,type:e.type,mode:e.mode}),[e.droppableId,e.mode,e.type]),c=v.useRef(a),u=T(()=>q((S,P)=>{t.current||D();const E={x:S,y:P};o.updateDroppableScroll(a.id,E)}),[a.id,o]),f=I(()=>{const S=t.current;return!S||!S.env.closestScrollable?H:_n(S.env.closestScrollable)},[]),l=I(()=>{const S=f();u(S.x,S.y)},[f,u]),d=T(()=>mt(l),[l]),p=I(()=>{const S=t.current,P=jt(S);if(S&&P||D(),S.scrollOptions.shouldPublishImmediately){l();return}d()},[d,l]),g=I((S,P)=>{t.current&&D();const E=i.current,R=E.getDroppableRef();R||D();const N=fp(R),G={ref:R,descriptor:a,env:N,scrollOptions:P};t.current=G;const F=gp({ref:R,descriptor:a,env:N,windowScroll:S,direction:E.direction,isDropDisabled:E.isDropDisabled,isCombineEnabled:E.isCombineEnabled,shouldClipSubject:!E.ignoreContainerClipping}),W=N.closestScrollable;return W&&(W.setAttribute(us.contextId,n.contextId),W.addEventListener("scroll",p,ms(G.scrollOptions))),F},[n.contextId,a,p,i]),m=I(()=>{const S=t.current,P=jt(S);return S&&P||D(),_n(P)},[]),b=I(()=>{const S=t.current;S||D();const P=jt(S);t.current=null,P&&(d.cancel(),P.removeAttribute(us.contextId),P.removeEventListener("scroll",p,ms(S.scrollOptions)))},[p,d]),w=I(S=>{const P=t.current;P||D();const E=jt(P);E||D(),E.scrollTop+=S.y,E.scrollLeft+=S.x},[]),x=T(()=>({getDimensionAndWatchScroll:g,getScrollWhileDragging:m,dragStopped:b,scroll:w}),[b,g,m,w]),C=T(()=>({uniqueId:r,descriptor:a,callbacks:x}),[x,a,r]);re(()=>(c.current=C.descriptor,s.droppable.register(C),()=>{t.current&&b(),s.droppable.unregister(C)}),[x,a,b,C,o,s.droppable]),re(()=>{t.current&&o.updateDroppableIsEnabled(c.current.id,!e.isDropDisabled)},[e.isDropDisabled,o]),re(()=>{t.current&&o.updateDroppableIsCombineEnabled(c.current.id,e.isCombineEnabled)},[e.isCombineEnabled,o])}function An(){}const bs={width:0,height:0,margin:Cl},xp=({isAnimatingOpenOnMount:e,placeholder:t,animate:n})=>e||n==="close"?bs:{height:t.client.borderBox.height,width:t.client.borderBox.width,margin:t.client.margin},vp=({isAnimatingOpenOnMount:e,placeholder:t,animate:n})=>{const r=xp({isAnimatingOpenOnMount:e,placeholder:t,animate:n});return{display:t.display,boxSizing:"border-box",width:r.width,height:r.height,marginTop:r.margin.top,marginRight:r.margin.right,marginBottom:r.margin.bottom,marginLeft:r.margin.left,flexShrink:"0",flexGrow:"0",pointerEvents:"none",transition:n!=="none"?ft.placeholder:null}},wp=e=>{const t=v.useRef(null),n=I(()=>{t.current&&(clearTimeout(t.current),t.current=null)},[]),{animate:r,onTransitionEnd:s,onClose:o,contextId:i}=e,[a,c]=v.useState(e.animate==="open");v.useEffect(()=>a?r!=="open"?(n(),c(!1),An):t.current?An:(t.current=setTimeout(()=>{t.current=null,c(!1)}),n):An,[r,a,n]);const u=I(l=>{l.propertyName==="height"&&(s(),r==="close"&&o())},[r,o,s]),f=vp({isAnimatingOpenOnMount:a,animate:e.animate,placeholder:e.placeholder});return j.createElement(e.placeholder.tagName,{style:f,"data-rfd-placeholder-context-id":i,onTransitionEnd:u,ref:e.innerRef})};var Dp=j.memo(wp);class Sp extends j.PureComponent{constructor(...t){super(...t),this.state={isVisible:!!this.props.on,data:this.props.on,animate:this.props.shouldAnimate&&this.props.on?"open":"none"},this.onClose=()=>{this.state.animate==="close"&&this.setState({isVisible:!1})}}static getDerivedStateFromProps(t,n){return t.shouldAnimate?t.on?{isVisible:!0,data:t.on,animate:"open"}:n.isVisible?{isVisible:!0,data:n.data,animate:"close"}:{isVisible:!1,animate:"close",data:null}:{isVisible:!!t.on,data:t.on,animate:"none"}}render(){if(!this.state.isVisible)return null;const t={onClose:this.onClose,data:this.state.data,animate:this.state.animate};return this.props.children(t)}}const Cp=e=>{const t=v.useContext(an);t||D();const{contextId:n,isMovementAllowed:r}=t,s=v.useRef(null),o=v.useRef(null),{children:i,droppableId:a,type:c,mode:u,direction:f,ignoreContainerClipping:l,isDropDisabled:d,isCombineEnabled:p,snapshot:g,useClone:m,updateViewportMaxScroll:b,getContainerForClone:w}=e,x=I(()=>s.current,[]),C=I((W=null)=>{s.current=W},[]);I(()=>o.current,[]);const S=I((W=null)=>{o.current=W},[]),P=I(()=>{r()&&b({maxScroll:Mo()})},[r,b]);yp({droppableId:a,type:c,mode:u,direction:f,isDropDisabled:d,isCombineEnabled:p,ignoreContainerClipping:l,getDroppableRef:x});const E=T(()=>j.createElement(Sp,{on:e.placeholder,shouldAnimate:e.shouldAnimatePlaceholder},({onClose:W,data:_,animate:J})=>j.createElement(Dp,{placeholder:_,onClose:W,innerRef:S,animate:J,contextId:n,onTransitionEnd:P})),[n,P,e.placeholder,e.shouldAnimatePlaceholder,S]),R=T(()=>({innerRef:C,placeholder:E,droppableProps:{"data-rfd-droppable-id":a,"data-rfd-droppable-context-id":n}}),[n,a,E,C]),N=m?m.dragging.draggableId:null,G=T(()=>({droppableId:a,type:c,isUsingCloneFor:N}),[a,N,c]);function F(){if(!m)return null;const{dragging:W,render:_}=m,J=j.createElement(Ko,{draggableId:W.draggableId,index:W.source.index,isClone:!0,isEnabled:!0,shouldRespectForcePress:!1,canDragInteractiveElements:!0},(Re,Z)=>_(Re,Z,W));return qi.createPortal(J,w())}return j.createElement(pr.Provider,{value:G},i(R,g),F())};function Ep(){return document.body||D(),document.body}const ys={mode:"standard",type:"DEFAULT",direction:"vertical",isDropDisabled:!1,isCombineEnabled:!1,ignoreContainerClipping:!1,renderClone:null,getContainerForClone:Ep},ei=e=>{let t={...e},n;for(n in ys)e[n]===void 0&&(t={...t,[n]:ys[n]});return t},Rn=(e,t)=>e===t.droppable.type,xs=(e,t)=>t.draggables[e.draggable.id],Pp=()=>{const e={placeholder:null,shouldAnimatePlaceholder:!0,snapshot:{isDraggingOver:!1,draggingOverWith:null,draggingFromThisWith:null,isUsingPlaceholder:!1},useClone:null},t={...e,shouldAnimatePlaceholder:!1},n=q(o=>({draggableId:o.id,type:o.type,source:{index:o.index,droppableId:o.droppableId}})),r=q((o,i,a,c,u,f)=>{const l=u.descriptor.id;if(u.descriptor.droppableId===o){const g=f?{render:f,dragging:n(u.descriptor)}:null,m={isDraggingOver:a,draggingOverWith:a?l:null,draggingFromThisWith:l,isUsingPlaceholder:!0};return{placeholder:u.placeholder,shouldAnimatePlaceholder:!1,snapshot:m,useClone:g}}if(!i)return t;if(!c)return e;const p={isDraggingOver:a,draggingOverWith:l,draggingFromThisWith:null,isUsingPlaceholder:!0};return{placeholder:u.placeholder,shouldAnimatePlaceholder:!0,snapshot:p,useClone:null}});return(o,i)=>{const a=ei(i),c=a.droppableId,u=a.type,f=!a.isDropDisabled,l=a.renderClone;if(Dt(o)){const d=o.critical;if(!Rn(u,d))return t;const p=xs(d,o.dimensions),g=ne(o.impact)===c;return r(c,f,g,g,p,l)}if(o.phase==="DROP_ANIMATING"){const d=o.completed;if(!Rn(u,d.critical))return t;const p=xs(d.critical,o.dimensions);return r(c,f,Qo(d.result)===c,ne(d.impact)===c,p,l)}if(o.phase==="IDLE"&&o.completed&&!o.shouldFlush){const d=o.completed;if(!Rn(u,d.critical))return t;const p=ne(d.impact)===c,g=!!(d.impact.at&&d.impact.at.type==="COMBINE"),m=d.critical.droppable.id===c;return p?g?e:t:m?e:t}return t}},Ip={updateViewportMaxScroll:ju},Op=Xs(Pp,Ip,(e,t,n)=>({...ei(n),...e,...t}),{context:ur,areStatePropsEqual:Yo})(Cp);var Np=Op;const Ap=({tasks:e,onTaskMove:t,onTaskEdit:n,onTaskDelete:r})=>{const s=["Todo","In-Progress","Completed"],o=Un(a=>a.searchQuery),i=a=>e.filter(c=>c.status===a).filter(c=>{var u;return o?c.title.toLowerCase().includes(o.toLowerCase())||(((u=c.description)==null?void 0:u.toLowerCase())||"").includes(o.toLowerCase()):!0});return h.jsx($f,{onDragEnd:t,children:h.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:s.map(a=>h.jsx(Np,{droppableId:a,children:(c,u)=>h.jsxs("div",{ref:c.innerRef,...c.droppableProps,className:`bg-white rounded-lg shadow p-4 ${u.isDraggingOver?"bg-gray-50":""}`,children:[h.jsxs("h3",{className:`text-lg font-semibold mb-4 ${a==="Todo"?"text-purple-600":a==="In-Progress"?"text-blue-600":"text-green-600"}`,children:[a," (",i(a).length,")"]}),h.jsxs("div",{className:"space-y-3",children:[i(a).map((f,l)=>h.jsx(ap,{draggableId:f.id,index:l,children:(d,p)=>h.jsx("div",{ref:d.innerRef,...d.draggableProps,...d.dragHandleProps,className:`bg-white rounded-md shadow p-4 ${p.isDragging?"shadow-lg":""}`,children:h.jsxs("div",{className:"flex flex-col",children:[h.jsxs("div",{className:"flex justify-between items-start mb-2",children:[h.jsx("h4",{className:"font-medium text-gray-900",children:f.title}),h.jsxs("div",{className:"flex space-x-2",children:[h.jsx("button",{onClick:()=>n(f.id),className:"text-blue-600 hover:text-blue-800 text-sm px-2 py-1 rounded",children:"Edit"}),h.jsx("button",{onClick:()=>r(f.id),className:"text-red-600 hover:text-red-800 text-sm px-2 py-1 rounded",children:"Delete"})]})]}),h.jsxs("div",{className:"text-sm text-gray-500",children:[h.jsxs("p",{children:["Due: ",Ge(new Date(f.dueDate),"MMM dd, yyyy")]}),h.jsxs("p",{children:["Category: ",f.category]})]})]})})},f.id)),c.placeholder]})]})},a))})})},Rp=({task:e,onSave:t,onClose:n})=>{var w;const[r,s]=v.useState(e.title),[o,i]=v.useState(e.category),[a,c]=v.useState(e.status),[u,f]=v.useState(""),[l,d]=v.useState(e.description||""),[p,g]=v.useState(null);v.useEffect(()=>{try{const x=new Date(e.dueDate);f(Ge(x,"yyyy-MM-dd"))}catch(x){console.error("Error parsing date:",x),f("")}},[e.dueDate]);const m=async x=>{x.preventDefault(),await t(e.id,{title:r,category:o,status:a,description:l,dueDate:Ge(new Date(u),"dd MMM, yyyy"),attachments:p?[p.name]:void 0}),n()},b=x=>{x.target.files&&x.target.files[0]&&g(x.target.files[0])};return h.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4 overflow-y-auto",children:h.jsxs("div",{className:"bg-white rounded-lg w-full max-w-3xl",children:[h.jsxs("div",{className:"flex justify-between items-center p-4 border-b",children:[h.jsx("h2",{className:"text-xl font-semibold",children:"View/Edit Task"}),h.jsx("button",{onClick:n,className:"text-gray-500 hover:text-gray-700",children:h.jsx(Zi,{className:"w-5 h-5"})})]}),h.jsxs("form",{onSubmit:m,className:"p-6",children:[h.jsxs("div",{className:"grid grid-cols-1 gap-6",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Task Name"}),h.jsx("input",{type:"text",value:r,onChange:x=>s(x.target.value),className:"w-full border rounded-md px-3 py-2 focus:ring-purple-500 focus:border-purple-500",required:!0})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),h.jsxs("div",{className:"border rounded-md",children:[h.jsxs("div",{className:"border-b p-2 flex gap-2",children:[h.jsx("button",{type:"button",className:"p-1 hover:bg-gray-100 rounded",children:"B"}),h.jsx("button",{type:"button",className:"p-1 hover:bg-gray-100 rounded italic",children:"I"}),h.jsx("button",{type:"button",className:"p-1 hover:bg-gray-100 rounded",children:"S"}),h.jsx("button",{type:"button",className:"p-1 hover:bg-gray-100 rounded",children:"•"}),h.jsx("button",{type:"button",className:"p-1 hover:bg-gray-100 rounded",children:"1."})]}),h.jsx("textarea",{value:l,onChange:x=>{x.target.value.length<=300&&d(x.target.value)},maxLength:300,className:"w-full px-3 py-2 focus:ring-purple-500 focus:border-purple-500 border-none",rows:4,placeholder:"Enter task description"}),h.jsxs("div",{className:"p-2 text-sm text-gray-500 text-right",children:[l.length,"/300 characters"]})]})]}),h.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Task Category"}),h.jsxs("div",{className:"flex gap-2",children:[h.jsx("button",{type:"button",onClick:()=>i("Work"),className:`flex-1 py-2 px-4 rounded ${o==="Work"?"bg-purple-600 text-white":"bg-gray-100 text-gray-700"}`,children:"Work"}),h.jsx("button",{type:"button",onClick:()=>i("Personal"),className:`flex-1 py-2 px-4 rounded ${o==="Personal"?"bg-purple-600 text-white":"bg-gray-100 text-gray-700"}`,children:"Personal"})]})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Due Date"}),h.jsx("input",{type:"date",value:u,onChange:x=>f(x.target.value),className:"w-full border rounded-md px-3 py-2 focus:ring-purple-500 focus:border-purple-500",required:!0})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Task Status"}),h.jsxs("select",{value:a,onChange:x=>c(x.target.value),className:"w-full border rounded-md px-3 py-2 focus:ring-purple-500 focus:border-purple-500",required:!0,children:[h.jsx("option",{value:"Todo",children:"Todo"}),h.jsx("option",{value:"In-Progress",children:"In Progress"}),h.jsx("option",{value:"Completed",children:"Completed"})]})]})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Attachment"}),h.jsxs("div",{className:"border-2 border-dashed rounded-md p-4",children:[h.jsx("input",{type:"file",onChange:b,className:"w-full"}),h.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Drop your files here to Upload"})]})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Activity"}),h.jsx("div",{className:"space-y-2",children:(w=e.activities)==null?void 0:w.map((x,C)=>h.jsxs("div",{className:"text-sm text-gray-600",children:[x.action," - ",Ge(new Date(x.timestamp),"MMM dd, yyyy HH:mm")]},C))})]})]}),h.jsxs("div",{className:"flex justify-end space-x-2 mt-6",children:[h.jsx("button",{type:"button",onClick:n,className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-md hover:bg-gray-200",children:"Cancel"}),h.jsx("button",{type:"submit",className:"px-4 py-2 bg-purple-600 text-white rounded-md hover:bg-purple-700",children:"Update"})]})]})]})})},Tn=v.memo(({tasks:e,onEdit:t,onDelete:n,selectedTasks:r,onTaskSelect:s,onSelectAll:o,sectionType:i})=>{const a=e.length>0&&e.every(f=>r.has(f.id)),c=f=>{switch(f){case"Todo":return"bg-blue-50";case"In-Progress":return"bg-yellow-50";case"Completed":return"bg-green-50";default:return"bg-white"}},u=f=>{switch(f){case"Low":return"bg-green-100";case"Medium":return"bg-yellow-100";case"High":return"bg-red-100";default:return"bg-gray-100"}};return h.jsx("div",{className:"task-table-container",children:h.jsx("div",{className:"min-w-full inline-block align-middle",children:h.jsx("div",{className:"overflow-hidden",children:h.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[h.jsx("thead",{className:`${c(i)}`,children:h.jsxs("tr",{children:[h.jsx("th",{scope:"col",className:"task-cell",children:h.jsx("input",{type:"checkbox",checked:a,onChange:f=>o(f.target.checked),className:"rounded border-gray-300 text-purple-600 focus:ring-purple-500"})}),h.jsx("th",{scope:"col",className:"task-cell text-left font-medium text-gray-500",children:"Title"}),h.jsx("th",{scope:"col",className:"task-cell text-left font-medium text-gray-500",children:"Priority"}),h.jsx("th",{scope:"col",className:"task-cell text-left font-medium text-gray-500",children:"Due Date"}),h.jsx("th",{scope:"col",className:"task-cell text-left font-medium text-gray-500",children:"Category"}),h.jsx("th",{scope:"col",className:"task-cell text-right font-medium text-gray-500",children:"Actions"})]})}),h.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e.map(f=>h.jsxs("tr",{className:"task-row",children:[h.jsx("td",{className:"task-cell",children:h.jsx("input",{type:"checkbox",checked:r.has(f.id),onChange:l=>s(f.id,l.target.checked),className:"rounded border-gray-300 text-purple-600 focus:ring-purple-500"})}),h.jsx("td",{className:"task-cell",children:h.jsx("div",{className:"text-truncate max-w-xs",children:f.title})}),h.jsx("td",{className:"task-cell",children:h.jsx("span",{className:`status-badge ${u(f.priority)}`,children:f.priority})}),h.jsx("td",{className:"task-cell text-gray-500",children:Ge(new Date(f.dueDate),"MMM d, yyyy")}),h.jsx("td",{className:"task-cell",children:h.jsx("span",{className:"status-badge bg-gray-100 text-gray-800",children:f.category})}),h.jsx("td",{className:"task-cell text-right",children:h.jsxs("div",{className:"flex justify-end space-x-2",children:[h.jsx("button",{onClick:()=>t(f),className:"text-indigo-600 hover:text-indigo-900",children:"Edit"}),h.jsx("button",{onClick:()=>n(f.id),className:"text-red-600 hover:text-red-900",children:"Delete"})]})})]},f.id))})]})})})})}),Tp=()=>{const[e,t]=v.useState("list"),[n,r]=v.useState(""),[s,o]=v.useState({Todo:!0,"In-Progress":!0,Completed:!0}),[i,a]=v.useState(null),c=Xt(O=>O.user),[u,f]=v.useState(!1),[l,d]=v.useState({title:"",description:"",dueDate:Ge(new Date,"yyyy-MM-dd"),category:"Work",status:"Todo",priority:"Medium",activities:[],createdBy:(c==null?void 0:c.uid)||"",userId:(c==null?void 0:c.uid)||"",attachment:null});v.useEffect(()=>{c&&(console.log("Current user UID:",c.uid),d(O=>({...O,userId:c.uid,createdBy:c.uid})))},[c]);const{tasks:p,error:g,fetchTasks:m,addTask:b,updateTask:w,deleteTask:x,cleanup:C}=Un(),S=p.filter(O=>{var L;return n?O.title.toLowerCase().includes(n.toLowerCase())||(((L=O.description)==null?void 0:L.toLowerCase().includes(n.toLowerCase()))??!1):!0});v.useEffect(()=>(c!=null&&c.uid&&m(c.uid),()=>C()),[c==null?void 0:c.uid,m,C]);const P=v.useCallback(async O=>{if(O.preventDefault(),!!c)try{await b({...l,userId:c.uid,createdBy:c.uid}),f(!1),d({title:"",description:"",dueDate:Ge(new Date,"yyyy-MM-dd"),category:"Work",status:"Todo",priority:"Medium",activities:[],createdBy:c.uid,userId:c.uid,attachment:null})}catch(L){console.error("Error adding task:",L)}},[l,c,b]),E=v.useCallback(O=>{x(O)},[x]),R=v.useCallback(O=>{if(!O.destination)return;const L=O.draggableId,le=O.destination.droppableId,ee=p.find(Nt=>Nt.id===L);ee&&w(ee.id,{...ee,status:le})},[p,w]),N=O=>{a(O)},G=async(O,L)=>{try{await w(O,L),a(null)}catch(le){console.error("Error updating task:",le)}},F=()=>{a(null)},W=v.useCallback(O=>{o(L=>({...L,[O]:!L[O]}))},[]),[_,J]=v.useState(new Set),Re=(O,L)=>{J(le=>{const ee=new Set(le);return L?ee.add(O):ee.delete(O),ee})},Z=O=>{J(O?new Set(S.map(L=>L.id)):new Set)},It=async()=>{const O=Array.from(_);for(const L of O)await E(L);J(new Set)};if(g)return h.jsx("div",{className:"text-red-600 p-4",children:g});const st=S.filter(O=>O.status==="Todo"),Te=S.filter(O=>O.status==="In-Progress"),Ot=S.filter(O=>O.status==="Completed");return h.jsxs("div",{className:"max-w-full overflow-x-auto",children:[h.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-4 p-4",children:[h.jsxs("div",{className:"flex items-center space-x-4 flex-wrap gap-2",children:[h.jsx("button",{onClick:()=>f(!0),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors duration-200 text-sm sm:text-base",children:"Add Task"}),h.jsxs("div",{className:"flex items-center space-x-2",children:[h.jsx("button",{onClick:()=>t("list"),className:`px-3 py-1.5 rounded-lg text-sm sm:text-base ${e==="list"?"bg-gray-200 text-gray-800":"text-gray-600 hover:bg-gray-100"}`,children:"List View"}),h.jsx("button",{onClick:()=>t("board"),className:`px-3 py-1.5 rounded-lg text-sm sm:text-base ${e==="board"?"bg-gray-200 text-gray-800":"text-gray-600 hover:bg-gray-100"}`,children:"Board View"})]})]}),h.jsx("div",{className:"w-full sm:w-auto",children:h.jsx("input",{type:"text",placeholder:"Search tasks...",value:n,onChange:O=>r(O.target.value),className:"w-full sm:w-64 px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})})]}),u&&h.jsxs("form",{onSubmit:P,className:"mt-4 bg-white p-4 rounded-lg shadow mb-6",children:[h.jsxs("div",{className:"mb-4",children:[h.jsx("label",{className:"block text-gray-700 text-sm font-bold mb-2",children:"Task Name"}),h.jsx("input",{type:"text",value:l.title,onChange:O=>d({...l,title:O.target.value}),className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",required:!0})]}),h.jsxs("div",{className:"mb-4",children:[h.jsx("label",{className:"block text-gray-700 text-sm font-bold mb-2",children:"Description"}),h.jsx("textarea",{value:l.description,onChange:O=>{O.target.value.length<=300&&d({...l,description:O.target.value})},maxLength:300,rows:4,className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",placeholder:"Enter task description (max 300 characters)"}),h.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:[l.description.length,"/300 characters"]})]}),h.jsxs("div",{className:"mb-4",children:[h.jsx("label",{className:"block text-gray-700 text-sm font-bold mb-2",children:"Due Date"}),h.jsx("input",{type:"date",value:l.dueDate,onChange:O=>d({...l,dueDate:O.target.value}),className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",required:!0})]}),h.jsxs("div",{className:"mb-4",children:[h.jsx("label",{className:"block text-gray-700 text-sm font-bold mb-2",children:"Task Status"}),h.jsxs("select",{value:l.status,onChange:O=>d({...l,status:O.target.value}),className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",required:!0,children:[h.jsx("option",{value:"Todo",children:"Todo"}),h.jsx("option",{value:"In-Progress",children:"In Progress"}),h.jsx("option",{value:"Completed",children:"Completed"})]})]}),h.jsxs("div",{className:"mb-4",children:[h.jsx("label",{className:"block text-gray-700 text-sm font-bold mb-2",children:"Task Category"}),h.jsxs("select",{value:l.category,onChange:O=>d({...l,category:O.target.value}),className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",required:!0,children:[h.jsx("option",{value:"Work",children:"Work"}),h.jsx("option",{value:"Personal",children:"Personal"})]})]}),h.jsxs("div",{className:"mb-4",children:[h.jsx("label",{className:"block text-gray-700 text-sm font-bold mb-2",children:"Attachment"}),h.jsx("input",{type:"file",onChange:O=>{var L;return d({...l,attachment:((L=O.target.files)==null?void 0:L[0])||null})},className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline"})]}),h.jsxs("div",{className:"flex justify-end space-x-2",children:[h.jsx("button",{type:"button",onClick:()=>f(!1),className:"mr-2 bg-gray-500 hover:bg-gray-700 text-white font-bold py-2 px-4 rounded",children:"Cancel"}),h.jsx("button",{type:"submit",className:"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded",children:"Add Task"})]})]}),i&&h.jsx(Rp,{task:i,onSave:G,onClose:F}),e==="list"?h.jsxs("div",{className:"space-y-6 p-2 sm:p-6 bg-gradient-to-br from-gray-100 to-gray-200 min-h-screen",children:[_.size>0&&h.jsxs("div",{className:"mb-4 p-3 bg-white rounded-lg shadow-md flex flex-col sm:flex-row items-center justify-between gap-2 border border-gray-200",children:[h.jsxs("span",{className:"text-gray-700 font-medium text-sm sm:text-base",children:[_.size," task",_.size!==1?"s":""," selected"]}),h.jsxs("button",{onClick:It,className:"w-full sm:w-auto px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700 transition-colors focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2 text-sm sm:text-base",children:["Delete Selected (",_.size,")"]})]}),h.jsxs("div",{className:"space-y-6",children:[h.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden border border-gray-200",children:[h.jsxs("div",{className:"p-4 flex justify-between items-center cursor-pointer bg-gradient-to-r from-blue-50 to-blue-100 hover:from-blue-100 hover:to-blue-150 transition-colors",onClick:()=>W("Todo"),children:[h.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:"Todo"}),s.Todo?h.jsx(gn,{className:"h-5 w-5 text-gray-600"}):h.jsx(hn,{className:"h-5 w-5 text-gray-600"})]}),s.Todo&&h.jsx("div",{className:"border-t border-gray-200",children:h.jsx(Tn,{tasks:st,onEdit:N,onDelete:E,selectedTasks:_,onTaskSelect:Re,onSelectAll:Z,sectionType:"Todo"})})]}),h.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden border border-gray-200",children:[h.jsxs("div",{className:"p-4 flex justify-between items-center cursor-pointer bg-gradient-to-r from-yellow-50 to-yellow-100 hover:from-yellow-100 hover:to-yellow-150 transition-colors",onClick:()=>W("In-Progress"),children:[h.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:"In Progress"}),s["In-Progress"]?h.jsx(gn,{className:"h-5 w-5 text-gray-600"}):h.jsx(hn,{className:"h-5 w-5 text-gray-600"})]}),s["In-Progress"]&&h.jsx("div",{className:"border-t border-gray-200",children:h.jsx(Tn,{tasks:Te,onEdit:N,onDelete:E,selectedTasks:_,onTaskSelect:Re,onSelectAll:Z,sectionType:"In-Progress"})})]}),h.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden border border-gray-200",children:[h.jsxs("div",{className:"p-4 flex justify-between items-center cursor-pointer bg-gradient-to-r from-green-50 to-green-100 hover:from-green-100 hover:to-green-150 transition-colors",onClick:()=>W("Completed"),children:[h.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:"Completed"}),s.Completed?h.jsx(gn,{className:"h-5 w-5 text-gray-600"}):h.jsx(hn,{className:"h-5 w-5 text-gray-600"})]}),s.Completed&&h.jsx("div",{className:"border-t border-gray-200",children:h.jsx(Tn,{tasks:Ot,onEdit:N,onDelete:E,selectedTasks:_,onTaskSelect:Re,onSelectAll:Z,sectionType:"Completed"})})]})]})]}):h.jsx(Ap,{tasks:S,onTaskMove:R,onTaskEdit:O=>{const L=S.find(le=>le.id===O);L&&N(L)},onTaskDelete:E})]})};function Mp(){const{setUser:e,setLoading:t}=Xt();return v.useEffect(()=>{const n=gi(Ns,r=>{e(r),t(!1)});return()=>n()},[e,t]),h.jsx(mi,{children:h.jsx("div",{className:"min-h-screen bg-gray-50",children:h.jsxs(bi,{children:[h.jsx(yr,{path:"/",element:h.jsx(Hi,{children:h.jsxs(h.Fragment,{children:[h.jsx(ea,{}),h.jsx(Tp,{})]})})}),h.jsx(yr,{path:"*",element:h.jsx(Os,{to:"/",replace:!0})})]})})})}const kp=new Gi;yi.createRoot(document.getElementById("root")).render(h.jsx(j.StrictMode,{children:h.jsx($i,{client:kp,children:h.jsx(Mp,{})})}));
