import{r as Lo,g as Fo,u as ct,j as g,N as hr,c as Wo,a as xn,d as Ue,q as Go,w as _o,o as $o,l as Ho,b as Vo,e as Uo,f as vn,h as qo,i as Yo,R as M,s as zo,k as br,m as y,n as Qo,p as Xo,B as Jo,t as Ko,v as wn,Q as Zo,x as es,y as ts}from"./authStore-OGlM9rnd.js";var Yt=Lo();const ns=Fo(Yt),rs=({children:e})=>{const{user:t,loading:n}=ct();return n?g.jsx("div",{className:"min-h-screen flex items-center justify-center",children:g.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-600"})}):t?g.jsx(g.Fragment,{children:e}):g.jsx(hr,{to:"/login"})},zt=Wo((e,t)=>({tasks:[],loading:!1,error:null,filter:"all",viewMode:"list",searchQuery:"",unsubscribe:null,setViewMode:n=>e({viewMode:n}),setFilter:n=>e({filter:n}),setSearchQuery:n=>e({searchQuery:n}),fetchTasks:async n=>{const{unsubscribe:r}=t();r&&r(),e({loading:!0,error:null}),console.log("Fetching tasks for user ID:",n);try{const o=xn(Ue,"tasks"),s=Go(o,_o("userId","==",n),$o("createdAt","desc"),Ho(100)),a=Vo(s,i=>{const c=i.docs.map(u=>({id:u.id,...u.data()}));e({tasks:c,loading:!1})},i=>{console.error("Error fetching tasks:",i),e({error:`Failed to fetch tasks: ${i instanceof Error?i.message:String(i)}`,loading:!1})});e({unsubscribe:a})}catch(o){console.error("Error setting up task listener:",o),e({error:`Failed to set up task listener: ${o instanceof Error?o.message:String(o)}`,loading:!1})}},addTask:async n=>{e({loading:!0,error:null});try{const r=new Date().toISOString(),o=xn(Ue,"tasks"),s={...n,createdAt:r,updatedAt:r,activities:[]};await Uo(o,s),e({loading:!1})}catch(r){console.error("Error adding task:",r),e({error:`Failed to add task: ${r instanceof Error?r.message:String(r)}`,loading:!1})}},updateTask:async(n,r)=>{e({loading:!0,error:null});try{const o=vn(Ue,"tasks",n),s={...r,updatedAt:new Date().toISOString()};await qo(o,s),e({loading:!1})}catch(o){console.error("Error updating task:",o),e({error:`Failed to update task: ${o instanceof Error?o.message:String(o)}`,loading:!1})}},deleteTask:async n=>{e({loading:!0,error:null});try{const r=vn(Ue,"tasks",n);await Yo(r),e({loading:!1})}catch(r){console.error("Error deleting task:",r),e({error:`Failed to delete task: ${r instanceof Error?r.message:String(r)}`,loading:!1})}},moveTask:async(n,r)=>{const{updateTask:o}=t();await o(n,{category:r})},cleanup:()=>{const{unsubscribe:n}=t();n&&(n(),e({unsubscribe:null}))}}));var yr={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Dn=M.createContext&&M.createContext(yr),os=["attr","size","title"];function ss(e,t){if(e==null)return{};var n=as(e,t),r,o;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(o=0;o<s.length;o++)r=s[o],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function as(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function Xe(){return Xe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Xe.apply(this,arguments)}function Sn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function Je(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Sn(Object(n),!0).forEach(function(r){is(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Sn(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function is(e,t,n){return t=cs(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function cs(e){var t=ls(e,"string");return typeof t=="symbol"?t:t+""}function ls(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function xr(e){return e&&e.map((t,n)=>M.createElement(t.tag,Je({key:n},t.attr),xr(t.child)))}function vr(e){return t=>M.createElement(us,Xe({attr:Je({},e.attr)},t),xr(e.child))}function us(e){var t=n=>{var{attr:r,size:o,title:s}=e,a=ss(e,os),i=o||n.size||"1em",c;return n.className&&(c=n.className),e.className&&(c=(c?c+" ":"")+e.className),M.createElement("svg",Xe({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,a,{className:c,style:Je(Je({color:e.color||n.color},n.style),e.style),height:i,width:i,xmlns:"http://www.w3.org/2000/svg"}),s&&M.createElement("title",null,s),e.children)};return Dn!==void 0?M.createElement(Dn.Consumer,null,n=>t(n)):t(yr)}function ds(e){return vr({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"},child:[]}]})(e)}function fs(e){return vr({tag:"svg",attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"},child:[]}]})(e)}const ps=()=>{const e=ct(a=>a.user),{viewMode:t,setViewMode:n,searchQuery:r,setSearchQuery:o}=zt(),s=async()=>{try{await zo(br)}catch(a){console.error("Error signing out:",a)}};return g.jsx("header",{className:"bg-white shadow-sm",children:g.jsx("div",{className:"header-container",children:g.jsxs("div",{className:"flex-between",children:[g.jsxs("div",{className:"flex items-center",children:[g.jsx("h1",{className:"text-purple-600",children:"TaskBuddy"}),g.jsxs("div",{className:"header-nav",children:[g.jsx("button",{onClick:()=>n("list"),className:`px-3 py-2 rounded-md text-sm font-medium ${t==="list"?"bg-purple-100 text-purple-700":"text-gray-600 hover:text-gray-900"}`,children:"List View"}),g.jsx("button",{onClick:()=>n("board"),className:`px-3 py-2 rounded-md text-sm font-medium ${t==="board"?"bg-purple-100 text-purple-700":"text-gray-600 hover:text-gray-900"}`,children:"Board View"})]})]}),g.jsxs("div",{className:"flex items-center space-x-4",children:[g.jsx("div",{className:"search-container",children:g.jsxs("div",{className:"relative",children:[g.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:g.jsx(ds,{className:"h-4 w-4 text-gray-400"})}),g.jsx("input",{type:"text",placeholder:"Search tasks...",value:r,onChange:a=>o(a.target.value),className:"search-input"})]})}),e&&g.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-4",children:[g.jsx("span",{className:"text-sm sm:text-base text-gray-700",children:e.email}),g.jsx("button",{onClick:s,className:"btn btn-secondary",children:"Sign Out"})]})]})]})})})};function gs({title:e,titleId:t,...n},r){return y.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?y.createElement("title",{id:t},e):null,y.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m19.5 8.25-7.5 7.5-7.5-7.5"}))}const vt=y.forwardRef(gs);function ms({title:e,titleId:t,...n},r){return y.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?y.createElement("title",{id:t},e):null,y.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m4.5 15.75 7.5-7.5 7.5 7.5"}))}const wt=y.forwardRef(ms),wr=6048e5,hs=864e5,Cn=Symbol.for("constructDateFrom");function ae(e,t){return typeof e=="function"?e(t):e&&typeof e=="object"&&Cn in e?e[Cn](t):e instanceof Date?new e.constructor(t):new Date(t)}function ne(e,t){return ae(t||e,e)}let bs={};function lt(){return bs}function Re(e,t){var i,c,u,f;const n=lt(),r=(t==null?void 0:t.weekStartsOn)??((c=(i=t==null?void 0:t.locale)==null?void 0:i.options)==null?void 0:c.weekStartsOn)??n.weekStartsOn??((f=(u=n.locale)==null?void 0:u.options)==null?void 0:f.weekStartsOn)??0,o=ne(e,t==null?void 0:t.in),s=o.getDay(),a=(s<r?7:0)+s-r;return o.setDate(o.getDate()-a),o.setHours(0,0,0,0),o}function Ke(e,t){return Re(e,{...t,weekStartsOn:1})}function Dr(e,t){const n=ne(e,t==null?void 0:t.in),r=n.getFullYear(),o=ae(n,0);o.setFullYear(r+1,0,4),o.setHours(0,0,0,0);const s=Ke(o),a=ae(n,0);a.setFullYear(r,0,4),a.setHours(0,0,0,0);const i=Ke(a);return n.getTime()>=s.getTime()?r+1:n.getTime()>=i.getTime()?r:r-1}function En(e){const t=ne(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+e-+n}function ys(e,...t){const n=ae.bind(null,t.find(r=>typeof r=="object"));return t.map(n)}function In(e,t){const n=ne(e,t==null?void 0:t.in);return n.setHours(0,0,0,0),n}function xs(e,t,n){const[r,o]=ys(n==null?void 0:n.in,e,t),s=In(r),a=In(o),i=+s-En(s),c=+a-En(a);return Math.round((i-c)/hs)}function vs(e,t){const n=Dr(e,t),r=ae(e,0);return r.setFullYear(n,0,4),r.setHours(0,0,0,0),Ke(r)}function ws(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function Ds(e){return!(!ws(e)&&typeof e!="number"||isNaN(+ne(e)))}function Ss(e,t){const n=ne(e,t==null?void 0:t.in);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}const Cs={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Es=(e,t,n)=>{let r;const o=Cs[e];return typeof o=="string"?r=o:t===1?r=o.one:r=o.other.replace("{{count}}",t.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function Dt(e){return(t={})=>{const n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const Is={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Ns={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Ps={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Os={date:Dt({formats:Is,defaultWidth:"full"}),time:Dt({formats:Ns,defaultWidth:"full"}),dateTime:Dt({formats:Ps,defaultWidth:"full"})},As={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Rs=(e,t,n,r)=>As[e];function Ce(e){return(t,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let o;if(r==="formatting"&&e.formattingValues){const a=e.defaultFormattingWidth||e.defaultWidth,i=n!=null&&n.width?String(n.width):a;o=e.formattingValues[i]||e.formattingValues[a]}else{const a=e.defaultWidth,i=n!=null&&n.width?String(n.width):e.defaultWidth;o=e.values[i]||e.values[a]}const s=e.argumentCallback?e.argumentCallback(t):t;return o[s]}}const Ts={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Ms={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Bs={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},ks={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},js={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Ls={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Fs=(e,t)=>{const n=Number(e),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},Ws={ordinalNumber:Fs,era:Ce({values:Ts,defaultWidth:"wide"}),quarter:Ce({values:Ms,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Ce({values:Bs,defaultWidth:"wide"}),day:Ce({values:ks,defaultWidth:"wide"}),dayPeriod:Ce({values:js,defaultWidth:"wide",formattingValues:Ls,defaultFormattingWidth:"wide"})};function Ee(e){return(t,n={})=>{const r=n.width,o=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],s=t.match(o);if(!s)return null;const a=s[0],i=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(i)?_s(i,l=>l.test(a)):Gs(i,l=>l.test(a));let u;u=e.valueCallback?e.valueCallback(c):c,u=n.valueCallback?n.valueCallback(u):u;const f=t.slice(a.length);return{value:u,rest:f}}}function Gs(e,t){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t(e[n]))return n}function _s(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return n}function $s(e){return(t,n={})=>{const r=t.match(e.matchPattern);if(!r)return null;const o=r[0],s=t.match(e.parsePattern);if(!s)return null;let a=e.valueCallback?e.valueCallback(s[0]):s[0];a=n.valueCallback?n.valueCallback(a):a;const i=t.slice(o.length);return{value:a,rest:i}}}const Hs=/^(\d+)(th|st|nd|rd)?/i,Vs=/\d+/i,Us={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},qs={any:[/^b/i,/^(a|c)/i]},Ys={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},zs={any:[/1/i,/2/i,/3/i,/4/i]},Qs={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Xs={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Js={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Ks={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Zs={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},ea={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},ta={ordinalNumber:$s({matchPattern:Hs,parsePattern:Vs,valueCallback:e=>parseInt(e,10)}),era:Ee({matchPatterns:Us,defaultMatchWidth:"wide",parsePatterns:qs,defaultParseWidth:"any"}),quarter:Ee({matchPatterns:Ys,defaultMatchWidth:"wide",parsePatterns:zs,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Ee({matchPatterns:Qs,defaultMatchWidth:"wide",parsePatterns:Xs,defaultParseWidth:"any"}),day:Ee({matchPatterns:Js,defaultMatchWidth:"wide",parsePatterns:Ks,defaultParseWidth:"any"}),dayPeriod:Ee({matchPatterns:Zs,defaultMatchWidth:"any",parsePatterns:ea,defaultParseWidth:"any"})},na={code:"en-US",formatDistance:Es,formatLong:Os,formatRelative:Rs,localize:Ws,match:ta,options:{weekStartsOn:0,firstWeekContainsDate:1}};function ra(e,t){const n=ne(e,t==null?void 0:t.in);return xs(n,Ss(n))+1}function oa(e,t){const n=ne(e,t==null?void 0:t.in),r=+Ke(n)-+vs(n);return Math.round(r/wr)+1}function Sr(e,t){var f,l,d,p;const n=ne(e,t==null?void 0:t.in),r=n.getFullYear(),o=lt(),s=(t==null?void 0:t.firstWeekContainsDate)??((l=(f=t==null?void 0:t.locale)==null?void 0:f.options)==null?void 0:l.firstWeekContainsDate)??o.firstWeekContainsDate??((p=(d=o.locale)==null?void 0:d.options)==null?void 0:p.firstWeekContainsDate)??1,a=ae((t==null?void 0:t.in)||e,0);a.setFullYear(r+1,0,s),a.setHours(0,0,0,0);const i=Re(a,t),c=ae((t==null?void 0:t.in)||e,0);c.setFullYear(r,0,s),c.setHours(0,0,0,0);const u=Re(c,t);return+n>=+i?r+1:+n>=+u?r:r-1}function sa(e,t){var i,c,u,f;const n=lt(),r=(t==null?void 0:t.firstWeekContainsDate)??((c=(i=t==null?void 0:t.locale)==null?void 0:i.options)==null?void 0:c.firstWeekContainsDate)??n.firstWeekContainsDate??((f=(u=n.locale)==null?void 0:u.options)==null?void 0:f.firstWeekContainsDate)??1,o=Sr(e,t),s=ae((t==null?void 0:t.in)||e,0);return s.setFullYear(o,0,r),s.setHours(0,0,0,0),Re(s,t)}function aa(e,t){const n=ne(e,t==null?void 0:t.in),r=+Re(n,t)-+sa(n,t);return Math.round(r/wr)+1}function T(e,t){const n=e<0?"-":"",r=Math.abs(e).toString().padStart(t,"0");return n+r}const re={y(e,t){const n=e.getFullYear(),r=n>0?n:1-n;return T(t==="yy"?r%100:r,t.length)},M(e,t){const n=e.getMonth();return t==="M"?String(n+1):T(n+1,2)},d(e,t){return T(e.getDate(),t.length)},a(e,t){const n=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(e,t){return T(e.getHours()%12||12,t.length)},H(e,t){return T(e.getHours(),t.length)},m(e,t){return T(e.getMinutes(),t.length)},s(e,t){return T(e.getSeconds(),t.length)},S(e,t){const n=t.length,r=e.getMilliseconds(),o=Math.trunc(r*Math.pow(10,n-3));return T(o,t.length)}},me={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Nn={G:function(e,t,n){const r=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(e,t,n){if(t==="yo"){const r=e.getFullYear(),o=r>0?r:1-r;return n.ordinalNumber(o,{unit:"year"})}return re.y(e,t)},Y:function(e,t,n,r){const o=Sr(e,r),s=o>0?o:1-o;if(t==="YY"){const a=s%100;return T(a,2)}return t==="Yo"?n.ordinalNumber(s,{unit:"year"}):T(s,t.length)},R:function(e,t){const n=Dr(e);return T(n,t.length)},u:function(e,t){const n=e.getFullYear();return T(n,t.length)},Q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(r);case"QQ":return T(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(r);case"qq":return T(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(e,t,n){const r=e.getMonth();switch(t){case"M":case"MM":return re.M(e,t);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(e,t,n){const r=e.getMonth();switch(t){case"L":return String(r+1);case"LL":return T(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(e,t,n,r){const o=aa(e,r);return t==="wo"?n.ordinalNumber(o,{unit:"week"}):T(o,t.length)},I:function(e,t,n){const r=oa(e);return t==="Io"?n.ordinalNumber(r,{unit:"week"}):T(r,t.length)},d:function(e,t,n){return t==="do"?n.ordinalNumber(e.getDate(),{unit:"date"}):re.d(e,t)},D:function(e,t,n){const r=ra(e);return t==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):T(r,t.length)},E:function(e,t,n){const r=e.getDay();switch(t){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(e,t,n,r){const o=e.getDay(),s=(o-r.weekStartsOn+8)%7||7;switch(t){case"e":return String(s);case"ee":return T(s,2);case"eo":return n.ordinalNumber(s,{unit:"day"});case"eee":return n.day(o,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(o,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(o,{width:"short",context:"formatting"});case"eeee":default:return n.day(o,{width:"wide",context:"formatting"})}},c:function(e,t,n,r){const o=e.getDay(),s=(o-r.weekStartsOn+8)%7||7;switch(t){case"c":return String(s);case"cc":return T(s,t.length);case"co":return n.ordinalNumber(s,{unit:"day"});case"ccc":return n.day(o,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(o,{width:"narrow",context:"standalone"});case"cccccc":return n.day(o,{width:"short",context:"standalone"});case"cccc":default:return n.day(o,{width:"wide",context:"standalone"})}},i:function(e,t,n){const r=e.getDay(),o=r===0?7:r;switch(t){case"i":return String(o);case"ii":return T(o,t.length);case"io":return n.ordinalNumber(o,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(e,t,n){const o=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(o,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(o,{width:"wide",context:"formatting"})}},b:function(e,t,n){const r=e.getHours();let o;switch(r===12?o=me.noon:r===0?o=me.midnight:o=r/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(o,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(o,{width:"wide",context:"formatting"})}},B:function(e,t,n){const r=e.getHours();let o;switch(r>=17?o=me.evening:r>=12?o=me.afternoon:r>=4?o=me.morning:o=me.night,t){case"B":case"BB":case"BBB":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(o,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(o,{width:"wide",context:"formatting"})}},h:function(e,t,n){if(t==="ho"){let r=e.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return re.h(e,t)},H:function(e,t,n){return t==="Ho"?n.ordinalNumber(e.getHours(),{unit:"hour"}):re.H(e,t)},K:function(e,t,n){const r=e.getHours()%12;return t==="Ko"?n.ordinalNumber(r,{unit:"hour"}):T(r,t.length)},k:function(e,t,n){let r=e.getHours();return r===0&&(r=24),t==="ko"?n.ordinalNumber(r,{unit:"hour"}):T(r,t.length)},m:function(e,t,n){return t==="mo"?n.ordinalNumber(e.getMinutes(),{unit:"minute"}):re.m(e,t)},s:function(e,t,n){return t==="so"?n.ordinalNumber(e.getSeconds(),{unit:"second"}):re.s(e,t)},S:function(e,t){return re.S(e,t)},X:function(e,t,n){const r=e.getTimezoneOffset();if(r===0)return"Z";switch(t){case"X":return On(r);case"XXXX":case"XX":return de(r);case"XXXXX":case"XXX":default:return de(r,":")}},x:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"x":return On(r);case"xxxx":case"xx":return de(r);case"xxxxx":case"xxx":default:return de(r,":")}},O:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+Pn(r,":");case"OOOO":default:return"GMT"+de(r,":")}},z:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+Pn(r,":");case"zzzz":default:return"GMT"+de(r,":")}},t:function(e,t,n){const r=Math.trunc(+e/1e3);return T(r,t.length)},T:function(e,t,n){return T(+e,t.length)}};function Pn(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),o=Math.trunc(r/60),s=r%60;return s===0?n+String(o):n+String(o)+t+T(s,2)}function On(e,t){return e%60===0?(e>0?"-":"+")+T(Math.abs(e)/60,2):de(e,t)}function de(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),o=T(Math.trunc(r/60),2),s=T(r%60,2);return n+o+t+s}const An=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},Cr=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},ia=(e,t)=>{const n=e.match(/(P+)(p+)?/)||[],r=n[1],o=n[2];if(!o)return An(e,t);let s;switch(r){case"P":s=t.dateTime({width:"short"});break;case"PP":s=t.dateTime({width:"medium"});break;case"PPP":s=t.dateTime({width:"long"});break;case"PPPP":default:s=t.dateTime({width:"full"});break}return s.replace("{{date}}",An(r,t)).replace("{{time}}",Cr(o,t))},ca={p:Cr,P:ia},la=/^D+$/,ua=/^Y+$/,da=["D","DD","YY","YYYY"];function fa(e){return la.test(e)}function pa(e){return ua.test(e)}function ga(e,t,n){const r=ma(e,t,n);if(console.warn(r),da.includes(e))throw new RangeError(r)}function ma(e,t,n){const r=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const ha=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,ba=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,ya=/^'([^]*?)'?$/,xa=/''/g,va=/[a-zA-Z]/;function pe(e,t,n){var f,l,d,p;const r=lt(),o=r.locale??na,s=r.firstWeekContainsDate??((l=(f=r.locale)==null?void 0:f.options)==null?void 0:l.firstWeekContainsDate)??1,a=r.weekStartsOn??((p=(d=r.locale)==null?void 0:d.options)==null?void 0:p.weekStartsOn)??0,i=ne(e,n==null?void 0:n.in);if(!Ds(i))throw new RangeError("Invalid time value");let c=t.match(ba).map(m=>{const b=m[0];if(b==="p"||b==="P"){const h=ca[b];return h(m,o.formatLong)}return m}).join("").match(ha).map(m=>{if(m==="''")return{isToken:!1,value:"'"};const b=m[0];if(b==="'")return{isToken:!1,value:wa(m)};if(Nn[b])return{isToken:!0,value:m};if(b.match(va))throw new RangeError("Format string contains an unescaped latin alphabet character `"+b+"`");return{isToken:!1,value:m}});o.localize.preprocessor&&(c=o.localize.preprocessor(i,c));const u={firstWeekContainsDate:s,weekStartsOn:a,locale:o};return c.map(m=>{if(!m.isToken)return m.value;const b=m.value;(pa(b)||fa(b))&&ga(b,t,String(e));const h=Nn[b[0]];return h(i,b,o.localize,u)}).join("")}function wa(e){const t=e.match(ya);return t?t[1].replace(xa,"'"):e}function $(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var Da=typeof Symbol=="function"&&Symbol.observable||"@@observable",Rn=Da,St=()=>Math.random().toString(36).substring(7).split("").join("."),Sa={INIT:`@@redux/INIT${St()}`,REPLACE:`@@redux/REPLACE${St()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${St()}`},Tn=Sa;function Ca(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function Er(e,t,n){if(typeof e!="function")throw new Error($(2));if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error($(0));if(typeof t=="function"&&typeof n>"u"&&(n=t,t=void 0),typeof n<"u"){if(typeof n!="function")throw new Error($(1));return n(Er)(e,t)}let r=e,o=t,s=new Map,a=s,i=0,c=!1;function u(){a===s&&(a=new Map,s.forEach((h,w)=>{a.set(w,h)}))}function f(){if(c)throw new Error($(3));return o}function l(h){if(typeof h!="function")throw new Error($(4));if(c)throw new Error($(5));let w=!0;u();const x=i++;return a.set(x,h),function(){if(w){if(c)throw new Error($(6));w=!1,u(),a.delete(x),s=null}}}function d(h){if(!Ca(h))throw new Error($(7));if(typeof h.type>"u")throw new Error($(8));if(typeof h.type!="string")throw new Error($(17));if(c)throw new Error($(9));try{c=!0,o=r(o,h)}finally{c=!1}return(s=a).forEach(x=>{x()}),h}function p(h){if(typeof h!="function")throw new Error($(10));r=h,d({type:Tn.REPLACE})}function m(){const h=l;return{subscribe(w){if(typeof w!="object"||w===null)throw new Error($(11));function x(){const D=w;D.next&&D.next(f())}return x(),{unsubscribe:h(x)}},[Rn](){return this}}}return d({type:Tn.INIT}),{dispatch:d,subscribe:l,getState:f,replaceReducer:p,[Rn]:m}}function Mn(e,t){return function(...n){return t(e.apply(this,n))}}function Bn(e,t){if(typeof e=="function")return Mn(e,t);if(typeof e!="object"||e===null)throw new Error($(16));const n={};for(const r in e){const o=e[r];typeof o=="function"&&(n[r]=Mn(o,t))}return n}function Ir(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,n)=>(...r)=>t(n(...r)))}function Ea(...e){return t=>(n,r)=>{const o=t(n,r);let s=()=>{throw new Error($(15))};const a={getState:o.getState,dispatch:(c,...u)=>s(c,...u)},i=e.map(c=>c(a));return s=Ir(...i)(o.dispatch),{...o,dispatch:s}}}var Ct={exports:{}},Et={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kn;function Ia(){if(kn)return Et;kn=1;var e=Qo();function t(c,u){return c===u&&(c!==0||1/c===1/u)||c!==c&&u!==u}var n=typeof Object.is=="function"?Object.is:t,r=e.useSyncExternalStore,o=e.useRef,s=e.useEffect,a=e.useMemo,i=e.useDebugValue;return Et.useSyncExternalStoreWithSelector=function(c,u,f,l,d){var p=o(null);if(p.current===null){var m={hasValue:!1,value:null};p.current=m}else m=p.current;p=a(function(){function h(N){if(!w){if(w=!0,x=N,N=l(N),d!==void 0&&m.hasValue){var E=m.value;if(d(E,N))return I=E}return I=N}if(E=I,n(x,N))return E;var R=l(N);return d!==void 0&&d(E,R)?(x=N,E):(x=N,I=R)}var w=!1,x,I,D=f===void 0?null:f;return[function(){return h(u())},D===null?void 0:function(){return h(D())}]},[u,f,l,d]);var b=r(c,p[0],p[1]);return s(function(){m.hasValue=!0,m.value=b},[b]),i(b),b},Et}var jn;function Na(){return jn||(jn=1,Ct.exports=Ia()),Ct.exports}Na();var Pa=y.version.startsWith("19"),Oa=Symbol.for(Pa?"react.transitional.element":"react.element"),Aa=Symbol.for("react.portal"),Ra=Symbol.for("react.fragment"),Ta=Symbol.for("react.strict_mode"),Ma=Symbol.for("react.profiler"),Ba=Symbol.for("react.consumer"),ka=Symbol.for("react.context"),Nr=Symbol.for("react.forward_ref"),ja=Symbol.for("react.suspense"),La=Symbol.for("react.suspense_list"),Qt=Symbol.for("react.memo"),Fa=Symbol.for("react.lazy"),Wa=Nr,Ga=Qt;function _a(e){if(typeof e=="object"&&e!==null){const{$$typeof:t}=e;switch(t){case Oa:switch(e=e.type,e){case Ra:case Ma:case Ta:case ja:case La:return e;default:switch(e=e&&e.$$typeof,e){case ka:case Nr:case Fa:case Qt:return e;case Ba:return e;default:return t}}case Aa:return t}}}function $a(e){return _a(e)===Qt}function Ha(e,t,n,r,{areStatesEqual:o,areOwnPropsEqual:s,areStatePropsEqual:a}){let i=!1,c,u,f,l,d;function p(x,I){return c=x,u=I,f=e(c,u),l=t(r,u),d=n(f,l,u),i=!0,d}function m(){return f=e(c,u),t.dependsOnOwnProps&&(l=t(r,u)),d=n(f,l,u),d}function b(){return e.dependsOnOwnProps&&(f=e(c,u)),t.dependsOnOwnProps&&(l=t(r,u)),d=n(f,l,u),d}function h(){const x=e(c,u),I=!a(x,f);return f=x,I&&(d=n(f,l,u)),d}function w(x,I){const D=!s(I,u),N=!o(x,c,I,u);return c=x,u=I,D&&N?m():D?b():N?h():d}return function(I,D){return i?w(I,D):p(I,D)}}function Va(e,{initMapStateToProps:t,initMapDispatchToProps:n,initMergeProps:r,...o}){const s=t(e,o),a=n(e,o),i=r(e,o);return Ha(s,a,i,e,o)}function Ua(e,t){const n={};for(const r in e){const o=e[r];typeof o=="function"&&(n[r]=(...s)=>t(o(...s)))}return n}function Wt(e){return function(n){const r=e(n);function o(){return r}return o.dependsOnOwnProps=!1,o}}function Ln(e){return e.dependsOnOwnProps?!!e.dependsOnOwnProps:e.length!==1}function Pr(e,t){return function(r,{displayName:o}){const s=function(i,c){return s.dependsOnOwnProps?s.mapToProps(i,c):s.mapToProps(i,void 0)};return s.dependsOnOwnProps=!0,s.mapToProps=function(i,c){s.mapToProps=e,s.dependsOnOwnProps=Ln(e);let u=s(i,c);return typeof u=="function"&&(s.mapToProps=u,s.dependsOnOwnProps=Ln(u),u=s(i,c)),u},s}}function Xt(e,t){return(n,r)=>{throw new Error(`Invalid value of type ${typeof e} for ${t} argument when connecting component ${r.wrappedComponentName}.`)}}function qa(e){return e&&typeof e=="object"?Wt(t=>Ua(e,t)):e?typeof e=="function"?Pr(e):Xt(e,"mapDispatchToProps"):Wt(t=>({dispatch:t}))}function Ya(e){return e?typeof e=="function"?Pr(e):Xt(e,"mapStateToProps"):Wt(()=>({}))}function za(e,t,n){return{...n,...e,...t}}function Qa(e){return function(n,{displayName:r,areMergedPropsEqual:o}){let s=!1,a;return function(c,u,f){const l=e(c,u,f);return s?o(l,a)||(a=l):(s=!0,a=l),a}}}function Xa(e){return e?typeof e=="function"?Qa(e):Xt(e,"mergeProps"):()=>za}function Ja(e){e()}function Ka(){let e=null,t=null;return{clear(){e=null,t=null},notify(){Ja(()=>{let n=e;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=e;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const o=t={callback:n,next:null,prev:t};return o.prev?o.prev.next=o:e=o,function(){!r||e===null||(r=!1,o.next?o.next.prev=o.prev:t=o.prev,o.prev?o.prev.next=o.next:e=o.next)}}}}var Fn={notify(){},get:()=>[]};function Or(e,t){let n,r=Fn,o=0,s=!1;function a(b){f();const h=r.subscribe(b);let w=!1;return()=>{w||(w=!0,h(),l())}}function i(){r.notify()}function c(){m.onStateChange&&m.onStateChange()}function u(){return s}function f(){o++,n||(n=t?t.addNestedSub(c):e.subscribe(c),r=Ka())}function l(){o--,n&&o===0&&(n(),n=void 0,r.clear(),r=Fn)}function d(){s||(s=!0,f())}function p(){s&&(s=!1,l())}const m={addNestedSub:a,notifyNestedSubs:i,handleChangeWrapper:c,isSubscribed:u,trySubscribe:d,tryUnsubscribe:p,getListeners:()=>r};return m}var Za=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",ei=Za(),ti=()=>typeof navigator<"u"&&navigator.product==="ReactNative",ni=ti(),ri=()=>ei||ni?y.useLayoutEffect:y.useEffect,Ze=ri();function Wn(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function It(e,t){if(Wn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(let o=0;o<n.length;o++)if(!Object.prototype.hasOwnProperty.call(t,n[o])||!Wn(e[n[o]],t[n[o]]))return!1;return!0}var oi={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},si={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},ai={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},Ar={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},ii={[Wa]:ai,[Ga]:Ar};function Gn(e){return $a(e)?Ar:ii[e.$$typeof]||oi}var ci=Object.defineProperty,li=Object.getOwnPropertyNames,_n=Object.getOwnPropertySymbols,ui=Object.getOwnPropertyDescriptor,di=Object.getPrototypeOf,$n=Object.prototype;function Gt(e,t){if(typeof t!="string"){if($n){const s=di(t);s&&s!==$n&&Gt(e,s)}let n=li(t);_n&&(n=n.concat(_n(t)));const r=Gn(e),o=Gn(t);for(let s=0;s<n.length;++s){const a=n[s];if(!si[a]&&!(o&&o[a])&&!(r&&r[a])){const i=ui(t,a);try{ci(e,a,i)}catch{}}}}return e}var Nt=Symbol.for("react-redux-context"),Pt=typeof globalThis<"u"?globalThis:{};function fi(){if(!y.createContext)return{};const e=Pt[Nt]??(Pt[Nt]=new Map);let t=e.get(y.createContext);return t||(t=y.createContext(null),e.set(y.createContext,t)),t}var Rr=fi(),pi=[null,null];function gi(e,t,n){Ze(()=>e(...t),n)}function mi(e,t,n,r,o,s){e.current=r,n.current=!1,o.current&&(o.current=null,s())}function hi(e,t,n,r,o,s,a,i,c,u,f){if(!e)return()=>{};let l=!1,d=null;const p=()=>{if(l||!i.current)return;const b=t.getState();let h,w;try{h=r(b,o.current)}catch(x){w=x,d=x}w||(d=null),h===s.current?a.current||u():(s.current=h,c.current=h,a.current=!0,f())};return n.onStateChange=p,n.trySubscribe(),p(),()=>{if(l=!0,n.tryUnsubscribe(),n.onStateChange=null,d)throw d}}function bi(e,t){return e===t}function yi(e,t,n,{pure:r,areStatesEqual:o=bi,areOwnPropsEqual:s=It,areStatePropsEqual:a=It,areMergedPropsEqual:i=It,forwardRef:c=!1,context:u=Rr}={}){const f=u,l=Ya(e),d=qa(t),p=Xa(n),m=!!e;return h=>{const w=h.displayName||h.name||"Component",x=`Connect(${w})`,I={shouldHandleStateChanges:m,displayName:x,wrappedComponentName:w,WrappedComponent:h,initMapStateToProps:l,initMapDispatchToProps:d,initMergeProps:p,areStatesEqual:o,areStatePropsEqual:a,areOwnPropsEqual:s,areMergedPropsEqual:i};function D(R){const[O,H,B]=y.useMemo(()=>{const{reactReduxForwardedRef:X,...Se}=R;return[R.context,X,Se]},[R]),j=y.useMemo(()=>{let X=f;return O!=null&&O.Consumer,X},[O,f]),L=y.useContext(j),V=!!R.store&&!!R.store.getState&&!!R.store.dispatch,ce=!!L&&!!L.store,U=V?R.store:L.store,_e=ce?L.getServerState:U.getState,De=y.useMemo(()=>Va(U.dispatch,I),[U]),[le,$e]=y.useMemo(()=>{if(!m)return pi;const X=Or(U,V?void 0:L.subscription),Se=X.notifyNestedSubs.bind(X);return[X,Se]},[U,V,L]),C=y.useMemo(()=>V?L:{...L,subscription:le},[V,L,le]),k=y.useRef(void 0),ee=y.useRef(B),q=y.useRef(void 0),He=y.useRef(!1),bt=y.useRef(!1),yt=y.useRef(void 0);Ze(()=>(bt.current=!0,()=>{bt.current=!1}),[]);const yn=y.useMemo(()=>()=>q.current&&B===ee.current?q.current:De(U.getState(),B),[U,B]),jo=y.useMemo(()=>Se=>le?hi(m,U,le,De,ee,k,He,bt,q,$e,Se):()=>{},[le]);gi(mi,[ee,k,He,B,q,$e]);let Ve;try{Ve=y.useSyncExternalStore(jo,yn,_e?()=>De(_e(),B):yn)}catch(X){throw yt.current&&(X.message+=`
The error may be correlated with this previous error:
${yt.current.stack}

`),X}Ze(()=>{yt.current=void 0,q.current=void 0,k.current=Ve});const xt=y.useMemo(()=>y.createElement(h,{...Ve,ref:H}),[H,h,Ve]);return y.useMemo(()=>m?y.createElement(j.Provider,{value:C},xt):xt,[j,xt,C])}const E=y.memo(D);if(E.WrappedComponent=h,E.displayName=D.displayName=x,c){const O=y.forwardRef(function(B,j){return y.createElement(E,{...B,reactReduxForwardedRef:j})});return O.displayName=x,O.WrappedComponent=h,Gt(O,h)}return Gt(E,h)}}var Tr=yi;function xi(e){const{children:t,context:n,serverState:r,store:o}=e,s=y.useMemo(()=>{const c=Or(o);return{store:o,subscription:c,getServerState:r?()=>r:void 0}},[o,r]),a=y.useMemo(()=>o.getState(),[o]);Ze(()=>{const{subscription:c}=s;return c.onStateChange=c.notifyNestedSubs,c.trySubscribe(),a!==o.getState()&&c.notifyNestedSubs(),()=>{c.tryUnsubscribe(),c.onStateChange=void 0}},[s,a]);const i=n||Rr;return y.createElement(i.Provider,{value:s},t)}var vi=xi;function wi(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function Mr(e,t){var n=y.useState(function(){return{inputs:t,result:e()}})[0],r=y.useRef(!0),o=y.useRef(n),s=r.current||!!(t&&o.current.inputs&&wi(t,o.current.inputs)),a=s?o.current:{inputs:t,result:e()};return y.useEffect(function(){r.current=!1,o.current=a},[a]),a.result}function Di(e,t){return Mr(function(){return e},t)}var P=Mr,S=Di,Si="Invariant failed";function Ci(e,t){throw new Error(Si)}var te=function(t){var n=t.top,r=t.right,o=t.bottom,s=t.left,a=r-s,i=o-n,c={top:n,right:r,bottom:o,left:s,width:a,height:i,x:s,y:n,center:{x:(r+s)/2,y:(o+n)/2}};return c},Jt=function(t,n){return{top:t.top-n.top,left:t.left-n.left,bottom:t.bottom+n.bottom,right:t.right+n.right}},Hn=function(t,n){return{top:t.top+n.top,left:t.left+n.left,bottom:t.bottom-n.bottom,right:t.right-n.right}},Ei=function(t,n){return{top:t.top+n.y,left:t.left+n.x,bottom:t.bottom+n.y,right:t.right+n.x}},Ot={top:0,right:0,bottom:0,left:0},Kt=function(t){var n=t.borderBox,r=t.margin,o=r===void 0?Ot:r,s=t.border,a=s===void 0?Ot:s,i=t.padding,c=i===void 0?Ot:i,u=te(Jt(n,o)),f=te(Hn(n,a)),l=te(Hn(f,c));return{marginBox:u,borderBox:te(n),paddingBox:f,contentBox:l,margin:o,border:a,padding:c}},J=function(t){var n=t.slice(0,-2),r=t.slice(-2);if(r!=="px")return 0;var o=Number(n);return isNaN(o)&&Ci(),o},Ii=function(){return{x:window.pageXOffset,y:window.pageYOffset}},et=function(t,n){var r=t.borderBox,o=t.border,s=t.margin,a=t.padding,i=Ei(r,n);return Kt({borderBox:i,border:o,margin:s,padding:a})},tt=function(t,n){return n===void 0&&(n=Ii()),et(t,n)},Br=function(t,n){var r={top:J(n.marginTop),right:J(n.marginRight),bottom:J(n.marginBottom),left:J(n.marginLeft)},o={top:J(n.paddingTop),right:J(n.paddingRight),bottom:J(n.paddingBottom),left:J(n.paddingLeft)},s={top:J(n.borderTopWidth),right:J(n.borderRightWidth),bottom:J(n.borderBottomWidth),left:J(n.borderLeftWidth)};return Kt({borderBox:t,margin:r,padding:o,border:s})},kr=function(t){var n=t.getBoundingClientRect(),r=window.getComputedStyle(t);return Br(n,r)},Vn=Number.isNaN||function(t){return typeof t=="number"&&t!==t};function Ni(e,t){return!!(e===t||Vn(e)&&Vn(t))}function Pi(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(!Ni(e[n],t[n]))return!1;return!0}function F(e,t){t===void 0&&(t=Pi);var n=null;function r(){for(var o=[],s=0;s<arguments.length;s++)o[s]=arguments[s];if(n&&n.lastThis===this&&t(o,n.lastArgs))return n.lastResult;var a=e.apply(this,o);return n={lastResult:a,lastArgs:o,lastThis:this},a}return r.clear=function(){n=null},r}var Te=function(t){var n=[],r=null,o=function(){for(var a=arguments.length,i=new Array(a),c=0;c<a;c++)i[c]=arguments[c];n=i,!r&&(r=requestAnimationFrame(function(){r=null,t.apply(void 0,n)}))};return o.cancel=function(){r&&(cancelAnimationFrame(r),r=null)},o};function nt(){return nt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},nt.apply(null,arguments)}function jr(e,t){}jr.bind(null,"warn");jr.bind(null,"error");function oe(){}function Oi(e,t){return{...e,...t}}function K(e,t,n){const r=t.map(o=>{const s=Oi(n,o.options);return e.addEventListener(o.eventName,o.fn,s),function(){e.removeEventListener(o.eventName,o.fn,s)}});return function(){r.forEach(s=>{s()})}}const Ai="Invariant failed";class rt extends Error{}rt.prototype.toString=function(){return this.message};function v(e,t){throw new rt(Ai)}class Ri extends M.Component{constructor(...t){super(...t),this.callbacks=null,this.unbind=oe,this.onWindowError=n=>{const r=this.getCallbacks();r.isDragging()&&r.tryAbort(),n.error instanceof rt&&n.preventDefault()},this.getCallbacks=()=>{if(!this.callbacks)throw new Error("Unable to find AppCallbacks in <ErrorBoundary/>");return this.callbacks},this.setCallbacks=n=>{this.callbacks=n}}componentDidMount(){this.unbind=K(window,[{eventName:"error",fn:this.onWindowError}])}componentDidCatch(t){if(t instanceof rt){this.setState({});return}throw t}componentWillUnmount(){this.unbind()}render(){return this.props.children(this.setCallbacks)}}const Ti=`
  Press space bar to start a drag.
  When dragging you can use the arrow keys to move the item around and escape to cancel.
  Some screen readers may require you to be in focus mode or to use your pass through key
`,ot=e=>e+1,Mi=e=>`
  You have lifted an item in position ${ot(e.source.index)}
`,Lr=(e,t)=>{const n=e.droppableId===t.droppableId,r=ot(e.index),o=ot(t.index);return n?`
      You have moved the item from position ${r}
      to position ${o}
    `:`
    You have moved the item from position ${r}
    in list ${e.droppableId}
    to list ${t.droppableId}
    in position ${o}
  `},Fr=(e,t,n)=>t.droppableId===n.droppableId?`
      The item ${e}
      has been combined with ${n.draggableId}`:`
      The item ${e}
      in list ${t.droppableId}
      has been combined with ${n.draggableId}
      in list ${n.droppableId}
    `,Bi=e=>{const t=e.destination;if(t)return Lr(e.source,t);const n=e.combine;return n?Fr(e.draggableId,e.source,n):"You are over an area that cannot be dropped on"},Un=e=>`
  The item has returned to its starting position
  of ${ot(e.index)}
`,ki=e=>{if(e.reason==="CANCEL")return`
      Movement cancelled.
      ${Un(e.source)}
    `;const t=e.destination,n=e.combine;return t?`
      You have dropped the item.
      ${Lr(e.source,t)}
    `:n?`
      You have dropped the item.
      ${Fr(e.draggableId,e.source,n)}
    `:`
    The item has been dropped while not over a drop area.
    ${Un(e.source)}
  `},Qe={dragHandleUsageInstructions:Ti,onDragStart:Mi,onDragUpdate:Bi,onDragEnd:ki},W={x:0,y:0},G=(e,t)=>({x:e.x+t.x,y:e.y+t.y}),Y=(e,t)=>({x:e.x-t.x,y:e.y-t.y}),se=(e,t)=>e.x===t.x&&e.y===t.y,xe=e=>({x:e.x!==0?-e.x:0,y:e.y!==0?-e.y:0}),ge=(e,t,n=0)=>e==="x"?{x:t,y:n}:{x:n,y:t},Me=(e,t)=>Math.sqrt((t.x-e.x)**2+(t.y-e.y)**2),qn=(e,t)=>Math.min(...t.map(n=>Me(e,n))),Wr=e=>t=>({x:e(t.x),y:e(t.y)});var ji=(e,t)=>{const n=te({top:Math.max(t.top,e.top),right:Math.min(t.right,e.right),bottom:Math.min(t.bottom,e.bottom),left:Math.max(t.left,e.left)});return n.width<=0||n.height<=0?null:n};const We=(e,t)=>({top:e.top+t.y,left:e.left+t.x,bottom:e.bottom+t.y,right:e.right+t.x}),Yn=e=>[{x:e.left,y:e.top},{x:e.right,y:e.top},{x:e.left,y:e.bottom},{x:e.right,y:e.bottom}],Li={top:0,right:0,bottom:0,left:0},Fi=(e,t)=>t?We(e,t.scroll.diff.displacement):e,Wi=(e,t,n)=>n&&n.increasedBy?{...e,[t.end]:e[t.end]+n.increasedBy[t.line]}:e,Gi=(e,t)=>t&&t.shouldClipSubject?ji(t.pageMarginBox,e):te(e);var he=({page:e,withPlaceholder:t,axis:n,frame:r})=>{const o=Fi(e.marginBox,r),s=Wi(o,n,t),a=Gi(s,r);return{page:e,withPlaceholder:t,active:a}},Zt=(e,t)=>{e.frame||v();const n=e.frame,r=Y(t,n.scroll.initial),o=xe(r),s={...n,scroll:{initial:n.scroll.initial,current:t,diff:{value:r,displacement:o},max:n.scroll.max}},a=he({page:e.subject.page,withPlaceholder:e.subject.withPlaceholder,axis:e.axis,frame:s});return{...e,frame:s,subject:a}};const Gr=F(e=>e.reduce((t,n)=>(t[n.descriptor.id]=n,t),{})),_r=F(e=>e.reduce((t,n)=>(t[n.descriptor.id]=n,t),{})),ut=F(e=>Object.values(e)),_i=F(e=>Object.values(e));var ve=F((e,t)=>_i(t).filter(r=>e===r.descriptor.droppableId).sort((r,o)=>r.descriptor.index-o.descriptor.index));function en(e){return e.at&&e.at.type==="REORDER"?e.at.destination:null}function dt(e){return e.at&&e.at.type==="COMBINE"?e.at.combine:null}var ft=F((e,t)=>t.filter(n=>n.descriptor.id!==e.descriptor.id)),$i=({isMovingForward:e,draggable:t,destination:n,insideDestination:r,previousImpact:o})=>{if(!n.isCombineEnabled||!en(o))return null;function a(p){const m={type:"COMBINE",combine:{draggableId:p,droppableId:n.descriptor.id}};return{...o,at:m}}const i=o.displaced.all,c=i.length?i[0]:null;if(e)return c?a(c):null;const u=ft(t,r);if(!c){if(!u.length)return null;const p=u[u.length-1];return a(p.descriptor.id)}const f=u.findIndex(p=>p.descriptor.id===c);f===-1&&v();const l=f-1;if(l<0)return null;const d=u[l];return a(d.descriptor.id)},we=(e,t)=>e.descriptor.droppableId===t.descriptor.id;const $r={point:W,value:0},Be={invisible:{},visible:{},all:[]},Hi={displaced:Be,displacedBy:$r,at:null};var Z=(e,t)=>n=>e<=n&&n<=t,Hr=e=>{const t=Z(e.top,e.bottom),n=Z(e.left,e.right);return r=>{if(t(r.top)&&t(r.bottom)&&n(r.left)&&n(r.right))return!0;const s=t(r.top)||t(r.bottom),a=n(r.left)||n(r.right);if(s&&a)return!0;const c=r.top<e.top&&r.bottom>e.bottom,u=r.left<e.left&&r.right>e.right;return c&&u?!0:c&&a||u&&s}},Vi=e=>{const t=Z(e.top,e.bottom),n=Z(e.left,e.right);return r=>t(r.top)&&t(r.bottom)&&n(r.left)&&n(r.right)};const tn={direction:"vertical",line:"y",crossAxisLine:"x",start:"top",end:"bottom",size:"height",crossAxisStart:"left",crossAxisEnd:"right",crossAxisSize:"width"},Vr={direction:"horizontal",line:"x",crossAxisLine:"y",start:"left",end:"right",size:"width",crossAxisStart:"top",crossAxisEnd:"bottom",crossAxisSize:"height"};var Ui=e=>t=>{const n=Z(t.top,t.bottom),r=Z(t.left,t.right);return o=>e===tn?n(o.top)&&n(o.bottom):r(o.left)&&r(o.right)};const qi=(e,t)=>{const n=t.frame?t.frame.scroll.diff.displacement:W;return We(e,n)},Yi=(e,t,n)=>t.subject.active?n(t.subject.active)(e):!1,zi=(e,t,n)=>n(t)(e),nn=({target:e,destination:t,viewport:n,withDroppableDisplacement:r,isVisibleThroughFrameFn:o})=>{const s=r?qi(e,t):e;return Yi(s,t,o)&&zi(s,n,o)},Qi=e=>nn({...e,isVisibleThroughFrameFn:Hr}),Ur=e=>nn({...e,isVisibleThroughFrameFn:Vi}),Xi=e=>nn({...e,isVisibleThroughFrameFn:Ui(e.destination.axis)}),Ji=(e,t,n)=>{if(typeof n=="boolean")return n;if(!t)return!0;const{invisible:r,visible:o}=t;if(r[e])return!1;const s=o[e];return s?s.shouldAnimate:!0};function Ki(e,t){const n=e.page.marginBox,r={top:t.point.y,right:0,bottom:0,left:t.point.x};return te(Jt(n,r))}function ke({afterDragging:e,destination:t,displacedBy:n,viewport:r,forceShouldAnimate:o,last:s}){return e.reduce(function(i,c){const u=Ki(c,n),f=c.descriptor.id;if(i.all.push(f),!Qi({target:u,destination:t,viewport:r,withDroppableDisplacement:!0}))return i.invisible[c.descriptor.id]=!0,i;const d=Ji(f,s,o),p={draggableId:f,shouldAnimate:d};return i.visible[f]=p,i},{all:[],visible:{},invisible:{}})}function Zi(e,t){if(!e.length)return 0;const n=e[e.length-1].descriptor.index;return t.inHomeList?n:n+1}function zn({insideDestination:e,inHomeList:t,displacedBy:n,destination:r}){const o=Zi(e,{inHomeList:t});return{displaced:Be,displacedBy:n,at:{type:"REORDER",destination:{droppableId:r.descriptor.id,index:o}}}}function st({draggable:e,insideDestination:t,destination:n,viewport:r,displacedBy:o,last:s,index:a,forceShouldAnimate:i}){const c=we(e,n);if(a==null)return zn({insideDestination:t,inHomeList:c,displacedBy:o,destination:n});const u=t.find(m=>m.descriptor.index===a);if(!u)return zn({insideDestination:t,inHomeList:c,displacedBy:o,destination:n});const f=ft(e,t),l=t.indexOf(u),d=f.slice(l);return{displaced:ke({afterDragging:d,destination:n,displacedBy:o,last:s,viewport:r.frame,forceShouldAnimate:i}),displacedBy:o,at:{type:"REORDER",destination:{droppableId:n.descriptor.id,index:a}}}}function ie(e,t){return!!t.effected[e]}var ec=({isMovingForward:e,destination:t,draggables:n,combine:r,afterCritical:o})=>{if(!t.isCombineEnabled)return null;const s=r.draggableId,i=n[s].descriptor.index;return ie(s,o)?e?i:i-1:e?i+1:i},tc=({isMovingForward:e,isInHomeList:t,insideDestination:n,location:r})=>{if(!n.length)return null;const o=r.index,s=e?o+1:o-1,a=n[0].descriptor.index,i=n[n.length-1].descriptor.index,c=t?i:i+1;return s<a||s>c?null:s},nc=({isMovingForward:e,isInHomeList:t,draggable:n,draggables:r,destination:o,insideDestination:s,previousImpact:a,viewport:i,afterCritical:c})=>{const u=a.at;if(u||v(),u.type==="REORDER"){const l=tc({isMovingForward:e,isInHomeList:t,location:u.destination,insideDestination:s});return l==null?null:st({draggable:n,insideDestination:s,destination:o,viewport:i,last:a.displaced,displacedBy:a.displacedBy,index:l})}const f=ec({isMovingForward:e,destination:o,displaced:a.displaced,draggables:r,combine:u.combine,afterCritical:c});return f==null?null:st({draggable:n,insideDestination:s,destination:o,viewport:i,last:a.displaced,displacedBy:a.displacedBy,index:f})},rc=({displaced:e,afterCritical:t,combineWith:n,displacedBy:r})=>{const o=!!(e.visible[n]||e.invisible[n]);return ie(n,t)?o?W:xe(r.point):o?r.point:W},oc=({afterCritical:e,impact:t,draggables:n})=>{const r=dt(t);r||v();const o=r.draggableId,s=n[o].page.borderBox.center,a=rc({displaced:t.displaced,afterCritical:e,combineWith:o,displacedBy:t.displacedBy});return G(s,a)};const qr=(e,t)=>t.margin[e.start]+t.borderBox[e.size]/2,sc=(e,t)=>t.margin[e.end]+t.borderBox[e.size]/2,rn=(e,t,n)=>t[e.crossAxisStart]+n.margin[e.crossAxisStart]+n.borderBox[e.crossAxisSize]/2,Qn=({axis:e,moveRelativeTo:t,isMoving:n})=>ge(e.line,t.marginBox[e.end]+qr(e,n),rn(e,t.marginBox,n)),Xn=({axis:e,moveRelativeTo:t,isMoving:n})=>ge(e.line,t.marginBox[e.start]-sc(e,n),rn(e,t.marginBox,n)),ac=({axis:e,moveInto:t,isMoving:n})=>ge(e.line,t.contentBox[e.start]+qr(e,n),rn(e,t.contentBox,n));var ic=({impact:e,draggable:t,draggables:n,droppable:r,afterCritical:o})=>{const s=ve(r.descriptor.id,n),a=t.page,i=r.axis;if(!s.length)return ac({axis:i,moveInto:r.page,isMoving:a});const{displaced:c,displacedBy:u}=e,f=c.all[0];if(f){const d=n[f];if(ie(f,o))return Xn({axis:i,moveRelativeTo:d.page,isMoving:a});const p=et(d.page,u.point);return Xn({axis:i,moveRelativeTo:p,isMoving:a})}const l=s[s.length-1];if(l.descriptor.id===t.descriptor.id)return a.borderBox.center;if(ie(l.descriptor.id,o)){const d=et(l.page,xe(o.displacedBy.point));return Qn({axis:i,moveRelativeTo:d,isMoving:a})}return Qn({axis:i,moveRelativeTo:l.page,isMoving:a})},_t=(e,t)=>{const n=e.frame;return n?G(t,n.scroll.diff.displacement):t};const cc=({impact:e,draggable:t,droppable:n,draggables:r,afterCritical:o})=>{const s=t.page.borderBox.center,a=e.at;return!n||!a?s:a.type==="REORDER"?ic({impact:e,draggable:t,draggables:r,droppable:n,afterCritical:o}):oc({impact:e,draggables:r,afterCritical:o})};var pt=e=>{const t=cc(e),n=e.droppable;return n?_t(n,t):t},Yr=(e,t)=>{const n=Y(t,e.scroll.initial),r=xe(n);return{frame:te({top:t.y,bottom:t.y+e.frame.height,left:t.x,right:t.x+e.frame.width}),scroll:{initial:e.scroll.initial,max:e.scroll.max,current:t,diff:{value:n,displacement:r}}}};function Jn(e,t){return e.map(n=>t[n])}function lc(e,t){for(let n=0;n<t.length;n++){const r=t[n].visible[e];if(r)return r}return null}var uc=({impact:e,viewport:t,destination:n,draggables:r,maxScrollChange:o})=>{const s=Yr(t,G(t.scroll.current,o)),a=n.frame?Zt(n,G(n.frame.scroll.current,o)):n,i=e.displaced,c=ke({afterDragging:Jn(i.all,r),destination:n,displacedBy:e.displacedBy,viewport:s.frame,last:i,forceShouldAnimate:!1}),u=ke({afterDragging:Jn(i.all,r),destination:a,displacedBy:e.displacedBy,viewport:t.frame,last:i,forceShouldAnimate:!1}),f={},l={},d=[i,c,u];return i.all.forEach(m=>{const b=lc(m,d);if(b){l[m]=b;return}f[m]=!0}),{...e,displaced:{all:i.all,invisible:f,visible:l}}},dc=(e,t)=>G(e.scroll.diff.displacement,t),on=({pageBorderBoxCenter:e,draggable:t,viewport:n})=>{const r=dc(n,e),o=Y(r,t.page.borderBox.center);return G(t.client.borderBox.center,o)},zr=({draggable:e,destination:t,newPageBorderBoxCenter:n,viewport:r,withDroppableDisplacement:o,onlyOnMainAxis:s=!1})=>{const a=Y(n,e.page.borderBox.center),c={target:We(e.page.borderBox,a),destination:t,withDroppableDisplacement:o,viewport:r};return s?Xi(c):Ur(c)},fc=({isMovingForward:e,draggable:t,destination:n,draggables:r,previousImpact:o,viewport:s,previousPageBorderBoxCenter:a,previousClientSelection:i,afterCritical:c})=>{if(!n.isEnabled)return null;const u=ve(n.descriptor.id,r),f=we(t,n),l=$i({isMovingForward:e,draggable:t,destination:n,insideDestination:u,previousImpact:o})||nc({isMovingForward:e,isInHomeList:f,draggable:t,draggables:r,destination:n,insideDestination:u,previousImpact:o,viewport:s,afterCritical:c});if(!l)return null;const d=pt({impact:l,draggable:t,droppable:n,draggables:r,afterCritical:c});if(zr({draggable:t,destination:n,newPageBorderBoxCenter:d,viewport:s.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0}))return{clientSelection:on({pageBorderBoxCenter:d,draggable:t,viewport:s}),impact:l,scrollJumpRequest:null};const m=Y(d,a),b=uc({impact:l,viewport:s,destination:n,draggables:r,maxScrollChange:m});return{clientSelection:i,impact:b,scrollJumpRequest:m}};const _=e=>{const t=e.subject.active;return t||v(),t};var pc=({isMovingForward:e,pageBorderBoxCenter:t,source:n,droppables:r,viewport:o})=>{const s=n.subject.active;if(!s)return null;const a=n.axis,i=Z(s[a.start],s[a.end]),c=ut(r).filter(f=>f!==n).filter(f=>f.isEnabled).filter(f=>!!f.subject.active).filter(f=>Hr(o.frame)(_(f))).filter(f=>{const l=_(f);return e?s[a.crossAxisEnd]<l[a.crossAxisEnd]:l[a.crossAxisStart]<s[a.crossAxisStart]}).filter(f=>{const l=_(f),d=Z(l[a.start],l[a.end]);return i(l[a.start])||i(l[a.end])||d(s[a.start])||d(s[a.end])}).sort((f,l)=>{const d=_(f)[a.crossAxisStart],p=_(l)[a.crossAxisStart];return e?d-p:p-d}).filter((f,l,d)=>_(f)[a.crossAxisStart]===_(d[0])[a.crossAxisStart]);if(!c.length)return null;if(c.length===1)return c[0];const u=c.filter(f=>Z(_(f)[a.start],_(f)[a.end])(t[a.line]));return u.length===1?u[0]:u.length>1?u.sort((f,l)=>_(f)[a.start]-_(l)[a.start])[0]:c.sort((f,l)=>{const d=qn(t,Yn(_(f))),p=qn(t,Yn(_(l)));return d!==p?d-p:_(f)[a.start]-_(l)[a.start]})[0]};const Kn=(e,t)=>{const n=e.page.borderBox.center;return ie(e.descriptor.id,t)?Y(n,t.displacedBy.point):n},gc=(e,t)=>{const n=e.page.borderBox;return ie(e.descriptor.id,t)?We(n,xe(t.displacedBy.point)):n};var mc=({pageBorderBoxCenter:e,viewport:t,destination:n,insideDestination:r,afterCritical:o})=>r.filter(a=>Ur({target:gc(a,o),destination:n,viewport:t.frame,withDroppableDisplacement:!0})).sort((a,i)=>{const c=Me(e,_t(n,Kn(a,o))),u=Me(e,_t(n,Kn(i,o)));return c<u?-1:u<c?1:a.descriptor.index-i.descriptor.index})[0]||null,Ge=F(function(t,n){const r=n[t.line];return{value:r,point:ge(t.line,r)}});const hc=(e,t,n)=>{const r=e.axis;if(e.descriptor.mode==="virtual")return ge(r.line,t[r.line]);const o=e.subject.page.contentBox[r.size],c=ve(e.descriptor.id,n).reduce((u,f)=>u+f.client.marginBox[r.size],0)+t[r.line]-o;return c<=0?null:ge(r.line,c)},Qr=(e,t)=>({...e,scroll:{...e.scroll,max:t}}),Xr=(e,t,n)=>{const r=e.frame;we(t,e)&&v(),e.subject.withPlaceholder&&v();const o=Ge(e.axis,t.displaceBy).point,s=hc(e,o,n),a={placeholderSize:o,increasedBy:s,oldFrameMaxScroll:e.frame?e.frame.scroll.max:null};if(!r){const f=he({page:e.subject.page,withPlaceholder:a,axis:e.axis,frame:e.frame});return{...e,subject:f}}const i=s?G(r.scroll.max,s):r.scroll.max,c=Qr(r,i),u=he({page:e.subject.page,withPlaceholder:a,axis:e.axis,frame:c});return{...e,subject:u,frame:c}},bc=e=>{const t=e.subject.withPlaceholder;t||v();const n=e.frame;if(!n){const a=he({page:e.subject.page,axis:e.axis,frame:null,withPlaceholder:null});return{...e,subject:a}}const r=t.oldFrameMaxScroll;r||v();const o=Qr(n,r),s=he({page:e.subject.page,axis:e.axis,frame:o,withPlaceholder:null});return{...e,subject:s,frame:o}};var yc=({previousPageBorderBoxCenter:e,moveRelativeTo:t,insideDestination:n,draggable:r,draggables:o,destination:s,viewport:a,afterCritical:i})=>{if(!t){if(n.length)return null;const l={displaced:Be,displacedBy:$r,at:{type:"REORDER",destination:{droppableId:s.descriptor.id,index:0}}},d=pt({impact:l,draggable:r,droppable:s,draggables:o,afterCritical:i}),p=we(r,s)?s:Xr(s,r,o);return zr({draggable:r,destination:p,newPageBorderBoxCenter:d,viewport:a.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0})?l:null}const c=e[s.axis.line]<=t.page.borderBox.center[s.axis.line],u=(()=>{const l=t.descriptor.index;return t.descriptor.id===r.descriptor.id||c?l:l+1})(),f=Ge(s.axis,r.displaceBy);return st({draggable:r,insideDestination:n,destination:s,viewport:a,displacedBy:f,last:Be,index:u})},xc=({isMovingForward:e,previousPageBorderBoxCenter:t,draggable:n,isOver:r,draggables:o,droppables:s,viewport:a,afterCritical:i})=>{const c=pc({isMovingForward:e,pageBorderBoxCenter:t,source:r,droppables:s,viewport:a});if(!c)return null;const u=ve(c.descriptor.id,o),f=mc({pageBorderBoxCenter:t,viewport:a,destination:c,insideDestination:u,afterCritical:i}),l=yc({previousPageBorderBoxCenter:t,destination:c,draggable:n,draggables:o,moveRelativeTo:f,insideDestination:u,viewport:a,afterCritical:i});if(!l)return null;const d=pt({impact:l,draggable:n,droppable:c,draggables:o,afterCritical:i});return{clientSelection:on({pageBorderBoxCenter:d,draggable:n,viewport:a}),impact:l,scrollJumpRequest:null}},z=e=>{const t=e.at;return t?t.type==="REORDER"?t.destination.droppableId:t.combine.droppableId:null};const vc=(e,t)=>{const n=z(e);return n?t[n]:null};var wc=({state:e,type:t})=>{const n=vc(e.impact,e.dimensions.droppables),r=!!n,o=e.dimensions.droppables[e.critical.droppable.id],s=n||o,a=s.axis.direction,i=a==="vertical"&&(t==="MOVE_UP"||t==="MOVE_DOWN")||a==="horizontal"&&(t==="MOVE_LEFT"||t==="MOVE_RIGHT");if(i&&!r)return null;const c=t==="MOVE_DOWN"||t==="MOVE_RIGHT",u=e.dimensions.draggables[e.critical.draggable.id],f=e.current.page.borderBoxCenter,{draggables:l,droppables:d}=e.dimensions;return i?fc({isMovingForward:c,previousPageBorderBoxCenter:f,draggable:u,destination:s,draggables:l,viewport:e.viewport,previousClientSelection:e.current.client.selection,previousImpact:e.impact,afterCritical:e.afterCritical}):xc({isMovingForward:c,previousPageBorderBoxCenter:f,draggable:u,isOver:s,draggables:l,droppables:d,viewport:e.viewport,afterCritical:e.afterCritical})};function fe(e){return e.phase==="DRAGGING"||e.phase==="COLLECTING"}function Jr(e){const t=Z(e.top,e.bottom),n=Z(e.left,e.right);return function(o){return t(o.y)&&n(o.x)}}function Dc(e,t){return e.left<t.right&&e.right>t.left&&e.top<t.bottom&&e.bottom>t.top}function Sc({pageBorderBox:e,draggable:t,candidates:n}){const r=t.page.borderBox.center,o=n.map(s=>{const a=s.axis,i=ge(s.axis.line,e.center[a.line],s.page.borderBox.center[a.crossAxisLine]);return{id:s.descriptor.id,distance:Me(r,i)}}).sort((s,a)=>a.distance-s.distance);return o[0]?o[0].id:null}function Cc({pageBorderBox:e,draggable:t,droppables:n}){const r=ut(n).filter(o=>{if(!o.isEnabled)return!1;const s=o.subject.active;if(!s||!Dc(e,s))return!1;if(Jr(s)(e.center))return!0;const a=o.axis,i=s.center[a.crossAxisLine],c=e[a.crossAxisStart],u=e[a.crossAxisEnd],f=Z(s[a.crossAxisStart],s[a.crossAxisEnd]),l=f(c),d=f(u);return!l&&!d?!0:l?c<i:u>i});return r.length?r.length===1?r[0].descriptor.id:Sc({pageBorderBox:e,draggable:t,candidates:r}):null}const Kr=(e,t)=>te(We(e,t));var Ec=(e,t)=>{const n=e.frame;return n?Kr(t,n.scroll.diff.value):t};function Zr({displaced:e,id:t}){return!!(e.visible[t]||e.invisible[t])}function Ic({draggable:e,closest:t,inHomeList:n}){return t?n&&t.descriptor.index>e.descriptor.index?t.descriptor.index-1:t.descriptor.index:null}var Nc=({pageBorderBoxWithDroppableScroll:e,draggable:t,destination:n,insideDestination:r,last:o,viewport:s,afterCritical:a})=>{const i=n.axis,c=Ge(n.axis,t.displaceBy),u=c.value,f=e[i.start],l=e[i.end],p=ft(t,r).find(b=>{const h=b.descriptor.id,w=b.page.borderBox.center[i.line],x=ie(h,a),I=Zr({displaced:o,id:h});return x?I?l<=w:f<w-u:I?l<=w+u:f<w})||null,m=Ic({draggable:t,closest:p,inHomeList:we(t,n)});return st({draggable:t,insideDestination:r,destination:n,viewport:s,last:o,displacedBy:c,index:m})};const Pc=4;var Oc=({draggable:e,pageBorderBoxWithDroppableScroll:t,previousImpact:n,destination:r,insideDestination:o,afterCritical:s})=>{if(!r.isCombineEnabled)return null;const a=r.axis,i=Ge(r.axis,e.displaceBy),c=i.value,u=t[a.start],f=t[a.end],d=ft(e,o).find(m=>{const b=m.descriptor.id,h=m.page.borderBox,x=h[a.size]/Pc,I=ie(b,s),D=Zr({displaced:n.displaced,id:b});return I?D?f>h[a.start]+x&&f<h[a.end]-x:u>h[a.start]-c+x&&u<h[a.end]-c-x:D?f>h[a.start]+c+x&&f<h[a.end]+c-x:u>h[a.start]+x&&u<h[a.end]-x});return d?{displacedBy:i,displaced:n.displaced,at:{type:"COMBINE",combine:{draggableId:d.descriptor.id,droppableId:r.descriptor.id}}}:null},eo=({pageOffset:e,draggable:t,draggables:n,droppables:r,previousImpact:o,viewport:s,afterCritical:a})=>{const i=Kr(t.page.borderBox,e),c=Cc({pageBorderBox:i,draggable:t,droppables:r});if(!c)return Hi;const u=r[c],f=ve(u.descriptor.id,n),l=Ec(u,i);return Oc({pageBorderBoxWithDroppableScroll:l,draggable:t,previousImpact:o,destination:u,insideDestination:f,afterCritical:a})||Nc({pageBorderBoxWithDroppableScroll:l,draggable:t,destination:u,insideDestination:f,last:o.displaced,viewport:s,afterCritical:a})},sn=(e,t)=>({...e,[t.descriptor.id]:t});const Ac=({previousImpact:e,impact:t,droppables:n})=>{const r=z(e),o=z(t);if(!r||r===o)return n;const s=n[r];if(!s.subject.withPlaceholder)return n;const a=bc(s);return sn(n,a)};var Rc=({draggable:e,draggables:t,droppables:n,previousImpact:r,impact:o})=>{const s=Ac({previousImpact:r,impact:o,droppables:n}),a=z(o);if(!a)return s;const i=n[a];if(we(e,i)||i.subject.withPlaceholder)return s;const c=Xr(i,e,t);return sn(s,c)},Oe=({state:e,clientSelection:t,dimensions:n,viewport:r,impact:o,scrollJumpRequest:s})=>{const a=r||e.viewport,i=n||e.dimensions,c=t||e.current.client.selection,u=Y(c,e.initial.client.selection),f={offset:u,selection:c,borderBoxCenter:G(e.initial.client.borderBoxCenter,u)},l={selection:G(f.selection,a.scroll.current),borderBoxCenter:G(f.borderBoxCenter,a.scroll.current),offset:G(f.offset,a.scroll.diff.value)},d={client:f,page:l};if(e.phase==="COLLECTING")return{...e,dimensions:i,viewport:a,current:d};const p=i.draggables[e.critical.draggable.id],m=o||eo({pageOffset:l.offset,draggable:p,draggables:i.draggables,droppables:i.droppables,previousImpact:e.impact,viewport:a,afterCritical:e.afterCritical}),b=Rc({draggable:p,impact:m,previousImpact:e.impact,draggables:i.draggables,droppables:i.droppables});return{...e,current:d,dimensions:{draggables:i.draggables,droppables:b},impact:m,viewport:a,scrollJumpRequest:s||null,forceShouldAnimate:s?!1:null}};function Tc(e,t){return e.map(n=>t[n])}var to=({impact:e,viewport:t,draggables:n,destination:r,forceShouldAnimate:o})=>{const s=e.displaced,a=Tc(s.all,n),i=ke({afterDragging:a,destination:r,displacedBy:e.displacedBy,viewport:t.frame,forceShouldAnimate:o,last:s});return{...e,displaced:i}},no=({impact:e,draggable:t,droppable:n,draggables:r,viewport:o,afterCritical:s})=>{const a=pt({impact:e,draggable:t,draggables:r,droppable:n,afterCritical:s});return on({pageBorderBoxCenter:a,draggable:t,viewport:o})},ro=({state:e,dimensions:t,viewport:n})=>{e.movementMode!=="SNAP"&&v();const r=e.impact,o=n||e.viewport,s=t||e.dimensions,{draggables:a,droppables:i}=s,c=a[e.critical.draggable.id],u=z(r);u||v();const f=i[u],l=to({impact:r,viewport:o,destination:f,draggables:a}),d=no({impact:l,draggable:c,droppable:f,draggables:a,viewport:o,afterCritical:e.afterCritical});return Oe({impact:l,clientSelection:d,state:e,dimensions:s,viewport:o})},Mc=e=>({index:e.index,droppableId:e.droppableId}),oo=({draggable:e,home:t,draggables:n,viewport:r})=>{const o=Ge(t.axis,e.displaceBy),s=ve(t.descriptor.id,n),a=s.indexOf(e);a===-1&&v();const i=s.slice(a+1),c=i.reduce((d,p)=>(d[p.descriptor.id]=!0,d),{}),u={inVirtualList:t.descriptor.mode==="virtual",displacedBy:o,effected:c};return{impact:{displaced:ke({afterDragging:i,destination:t,displacedBy:o,last:null,viewport:r.frame,forceShouldAnimate:!1}),displacedBy:o,at:{type:"REORDER",destination:Mc(e.descriptor)}},afterCritical:u}},Bc=(e,t)=>({draggables:e.draggables,droppables:sn(e.droppables,t)}),kc=({draggable:e,offset:t,initialWindowScroll:n})=>{const r=et(e.client,t),o=tt(r,n);return{...e,placeholder:{...e.placeholder,client:r},client:r,page:o}},jc=e=>{const t=e.frame;return t||v(),t},Lc=({additions:e,updatedDroppables:t,viewport:n})=>{const r=n.scroll.diff.value;return e.map(o=>{const s=o.descriptor.droppableId,a=t[s],c=jc(a).scroll.diff.value,u=G(r,c);return kc({draggable:o,offset:u,initialWindowScroll:n.scroll.initial})})},Fc=({state:e,published:t})=>{const n=t.modified.map(w=>{const x=e.dimensions.droppables[w.droppableId];return Zt(x,w.scroll)}),r={...e.dimensions.droppables,...Gr(n)},o=_r(Lc({additions:t.additions,updatedDroppables:r,viewport:e.viewport})),s={...e.dimensions.draggables,...o};t.removals.forEach(w=>{delete s[w]});const a={droppables:r,draggables:s},i=z(e.impact),c=i?a.droppables[i]:null,u=a.draggables[e.critical.draggable.id],f=a.droppables[e.critical.droppable.id],{impact:l,afterCritical:d}=oo({draggable:u,home:f,draggables:s,viewport:e.viewport}),p=c&&c.isCombineEnabled?e.impact:l,m=eo({pageOffset:e.current.page.offset,draggable:a.draggables[e.critical.draggable.id],draggables:a.draggables,droppables:a.droppables,previousImpact:p,viewport:e.viewport,afterCritical:d}),b={...e,phase:"DRAGGING",impact:m,onLiftImpact:l,dimensions:a,afterCritical:d,forceShouldAnimate:!1};return e.phase==="COLLECTING"?b:{...b,phase:"DROP_PENDING",reason:e.reason,isWaiting:!1}};const $t=e=>e.movementMode==="SNAP",At=(e,t,n)=>{const r=Bc(e.dimensions,t);return!$t(e)||n?Oe({state:e,dimensions:r}):ro({state:e,dimensions:r})};function Rt(e){return e.isDragging&&e.movementMode==="SNAP"?{...e,scrollJumpRequest:null}:e}const Zn={phase:"IDLE",completed:null,shouldFlush:!1};var Wc=(e=Zn,t)=>{if(t.type==="FLUSH")return{...Zn,shouldFlush:!0};if(t.type==="INITIAL_PUBLISH"){e.phase!=="IDLE"&&v();const{critical:n,clientSelection:r,viewport:o,dimensions:s,movementMode:a}=t.payload,i=s.draggables[n.draggable.id],c=s.droppables[n.droppable.id],u={selection:r,borderBoxCenter:i.client.borderBox.center,offset:W},f={client:u,page:{selection:G(u.selection,o.scroll.initial),borderBoxCenter:G(u.selection,o.scroll.initial),offset:G(u.selection,o.scroll.diff.value)}},l=ut(s.droppables).every(b=>!b.isFixedOnPage),{impact:d,afterCritical:p}=oo({draggable:i,home:c,draggables:s.draggables,viewport:o});return{phase:"DRAGGING",isDragging:!0,critical:n,movementMode:a,dimensions:s,initial:f,current:f,isWindowScrollAllowed:l,impact:d,afterCritical:p,onLiftImpact:d,viewport:o,scrollJumpRequest:null,forceShouldAnimate:null}}if(t.type==="COLLECTION_STARTING")return e.phase==="COLLECTING"||e.phase==="DROP_PENDING"?e:(e.phase!=="DRAGGING"&&v(),{...e,phase:"COLLECTING"});if(t.type==="PUBLISH_WHILE_DRAGGING")return e.phase==="COLLECTING"||e.phase==="DROP_PENDING"||v(),Fc({state:e,published:t.payload});if(t.type==="MOVE"){if(e.phase==="DROP_PENDING")return e;fe(e)||v();const{client:n}=t.payload;return se(n,e.current.client.selection)?e:Oe({state:e,clientSelection:n,impact:$t(e)?e.impact:null})}if(t.type==="UPDATE_DROPPABLE_SCROLL"){if(e.phase==="DROP_PENDING"||e.phase==="COLLECTING")return Rt(e);fe(e)||v();const{id:n,newScroll:r}=t.payload,o=e.dimensions.droppables[n];if(!o)return e;const s=Zt(o,r);return At(e,s,!1)}if(t.type==="UPDATE_DROPPABLE_IS_ENABLED"){if(e.phase==="DROP_PENDING")return e;fe(e)||v();const{id:n,isEnabled:r}=t.payload,o=e.dimensions.droppables[n];o||v(),o.isEnabled===r&&v();const s={...o,isEnabled:r};return At(e,s,!0)}if(t.type==="UPDATE_DROPPABLE_IS_COMBINE_ENABLED"){if(e.phase==="DROP_PENDING")return e;fe(e)||v();const{id:n,isCombineEnabled:r}=t.payload,o=e.dimensions.droppables[n];o||v(),o.isCombineEnabled===r&&v();const s={...o,isCombineEnabled:r};return At(e,s,!0)}if(t.type==="MOVE_BY_WINDOW_SCROLL"){if(e.phase==="DROP_PENDING"||e.phase==="DROP_ANIMATING")return e;fe(e)||v(),e.isWindowScrollAllowed||v();const n=t.payload.newScroll;if(se(e.viewport.scroll.current,n))return Rt(e);const r=Yr(e.viewport,n);return $t(e)?ro({state:e,viewport:r}):Oe({state:e,viewport:r})}if(t.type==="UPDATE_VIEWPORT_MAX_SCROLL"){if(!fe(e))return e;const n=t.payload.maxScroll;if(se(n,e.viewport.scroll.max))return e;const r={...e.viewport,scroll:{...e.viewport.scroll,max:n}};return{...e,viewport:r}}if(t.type==="MOVE_UP"||t.type==="MOVE_DOWN"||t.type==="MOVE_LEFT"||t.type==="MOVE_RIGHT"){if(e.phase==="COLLECTING"||e.phase==="DROP_PENDING")return e;e.phase!=="DRAGGING"&&v();const n=wc({state:e,type:t.type});return n?Oe({state:e,impact:n.impact,clientSelection:n.clientSelection,scrollJumpRequest:n.scrollJumpRequest}):e}if(t.type==="DROP_PENDING"){const n=t.payload.reason;return e.phase!=="COLLECTING"&&v(),{...e,phase:"DROP_PENDING",isWaiting:!0,reason:n}}if(t.type==="DROP_ANIMATE"){const{completed:n,dropDuration:r,newHomeClientOffset:o}=t.payload;return e.phase==="DRAGGING"||e.phase==="DROP_PENDING"||v(),{phase:"DROP_ANIMATING",completed:n,dropDuration:r,newHomeClientOffset:o,dimensions:e.dimensions}}if(t.type==="DROP_COMPLETE"){const{completed:n}=t.payload;return{phase:"IDLE",completed:n,shouldFlush:!1}}return e};function A(e,t){return e instanceof Object&&"type"in e&&e.type===t}const Gc=e=>({type:"BEFORE_INITIAL_CAPTURE",payload:e}),_c=e=>({type:"LIFT",payload:e}),$c=e=>({type:"INITIAL_PUBLISH",payload:e}),Hc=e=>({type:"PUBLISH_WHILE_DRAGGING",payload:e}),Vc=()=>({type:"COLLECTION_STARTING",payload:null}),Uc=e=>({type:"UPDATE_DROPPABLE_SCROLL",payload:e}),qc=e=>({type:"UPDATE_DROPPABLE_IS_ENABLED",payload:e}),Yc=e=>({type:"UPDATE_DROPPABLE_IS_COMBINE_ENABLED",payload:e}),so=e=>({type:"MOVE",payload:e}),zc=e=>({type:"MOVE_BY_WINDOW_SCROLL",payload:e}),Qc=e=>({type:"UPDATE_VIEWPORT_MAX_SCROLL",payload:e}),Xc=()=>({type:"MOVE_UP",payload:null}),Jc=()=>({type:"MOVE_DOWN",payload:null}),Kc=()=>({type:"MOVE_RIGHT",payload:null}),Zc=()=>({type:"MOVE_LEFT",payload:null}),an=()=>({type:"FLUSH",payload:null}),el=e=>({type:"DROP_ANIMATE",payload:e}),cn=e=>({type:"DROP_COMPLETE",payload:e}),ao=e=>({type:"DROP",payload:e}),tl=e=>({type:"DROP_PENDING",payload:e}),io=()=>({type:"DROP_ANIMATION_FINISHED",payload:null});var nl=e=>({getState:t,dispatch:n})=>r=>o=>{if(!A(o,"LIFT")){r(o);return}const{id:s,clientSelection:a,movementMode:i}=o.payload,c=t();c.phase==="DROP_ANIMATING"&&n(cn({completed:c.completed})),t().phase!=="IDLE"&&v(),n(an()),n(Gc({draggableId:s,movementMode:i}));const f={draggableId:s,scrollOptions:{shouldPublishImmediately:i==="SNAP"}},{critical:l,dimensions:d,viewport:p}=e.startPublishing(f);n($c({critical:l,dimensions:d,clientSelection:a,movementMode:i,viewport:p}))},rl=e=>()=>t=>n=>{A(n,"INITIAL_PUBLISH")&&e.dragging(),A(n,"DROP_ANIMATE")&&e.dropping(n.payload.completed.result.reason),(A(n,"FLUSH")||A(n,"DROP_COMPLETE"))&&e.resting(),t(n)};const ln={outOfTheWay:"cubic-bezier(0.2, 0, 0, 1)",drop:"cubic-bezier(.2,1,.1,1)"},je={opacity:{drop:0,combining:.7},scale:{drop:.75}},co={outOfTheWay:.2,minDropTime:.33,maxDropTime:.55},ue=`${co.outOfTheWay}s ${ln.outOfTheWay}`,Ae={fluid:`opacity ${ue}`,snap:`transform ${ue}, opacity ${ue}`,drop:e=>{const t=`${e}s ${ln.drop}`;return`transform ${t}, opacity ${t}`},outOfTheWay:`transform ${ue}`,placeholder:`height ${ue}, width ${ue}, margin ${ue}`},er=e=>se(e,W)?void 0:`translate(${e.x}px, ${e.y}px)`,Ht={moveTo:er,drop:(e,t)=>{const n=er(e);if(n)return t?`${n} scale(${je.scale.drop})`:n}},{minDropTime:Vt,maxDropTime:lo}=co,ol=lo-Vt,tr=1500,sl=.6;var al=({current:e,destination:t,reason:n})=>{const r=Me(e,t);if(r<=0)return Vt;if(r>=tr)return lo;const o=r/tr,s=Vt+ol*o,a=n==="CANCEL"?s*sl:s;return Number(a.toFixed(2))},il=({impact:e,draggable:t,dimensions:n,viewport:r,afterCritical:o})=>{const{draggables:s,droppables:a}=n,i=z(e),c=i?a[i]:null,u=a[t.descriptor.droppableId],f=no({impact:e,draggable:t,draggables:s,afterCritical:o,droppable:c||u,viewport:r});return Y(f,t.client.borderBox.center)},cl=({draggables:e,reason:t,lastImpact:n,home:r,viewport:o,onLiftImpact:s})=>!n.at||t!=="DROP"?{impact:to({draggables:e,impact:s,destination:r,viewport:o,forceShouldAnimate:!0}),didDropInsideDroppable:!1}:n.at.type==="REORDER"?{impact:n,didDropInsideDroppable:!0}:{impact:{...n,displaced:Be},didDropInsideDroppable:!0};const ll=({getState:e,dispatch:t})=>n=>r=>{if(!A(r,"DROP")){n(r);return}const o=e(),s=r.payload.reason;if(o.phase==="COLLECTING"){t(tl({reason:s}));return}if(o.phase==="IDLE")return;o.phase==="DROP_PENDING"&&o.isWaiting&&v(),o.phase==="DRAGGING"||o.phase==="DROP_PENDING"||v();const i=o.critical,c=o.dimensions,u=c.draggables[o.critical.draggable.id],{impact:f,didDropInsideDroppable:l}=cl({reason:s,lastImpact:o.impact,afterCritical:o.afterCritical,onLiftImpact:o.onLiftImpact,home:o.dimensions.droppables[o.critical.droppable.id],viewport:o.viewport,draggables:o.dimensions.draggables}),d=l?en(f):null,p=l?dt(f):null,m={index:i.draggable.index,droppableId:i.droppable.id},b={draggableId:u.descriptor.id,type:u.descriptor.type,source:m,reason:s,mode:o.movementMode,destination:d,combine:p},h=il({impact:f,draggable:u,dimensions:c,viewport:o.viewport,afterCritical:o.afterCritical}),w={critical:o.critical,afterCritical:o.afterCritical,result:b,impact:f};if(!(!se(o.current.client.offset,h)||!!b.combine)){t(cn({completed:w}));return}const I=al({current:o.current.client.offset,destination:h,reason:s});t(el({newHomeClientOffset:h,dropDuration:I,completed:w}))};var uo=()=>({x:window.pageXOffset,y:window.pageYOffset});function ul(e){return{eventName:"scroll",options:{passive:!0,capture:!1},fn:t=>{t.target!==window&&t.target!==window.document||e()}}}function dl({onWindowScroll:e}){function t(){e(uo())}const n=Te(t),r=ul(n);let o=oe;function s(){return o!==oe}function a(){s()&&v(),o=K(window,[r])}function i(){s()||v(),n.cancel(),o(),o=oe}return{start:a,stop:i,isActive:s}}const fl=e=>A(e,"DROP_COMPLETE")||A(e,"DROP_ANIMATE")||A(e,"FLUSH"),pl=e=>{const t=dl({onWindowScroll:n=>{e.dispatch(zc({newScroll:n}))}});return n=>r=>{!t.isActive()&&A(r,"INITIAL_PUBLISH")&&t.start(),t.isActive()&&fl(r)&&t.stop(),n(r)}};var gl=e=>{let t=!1,n=!1;const r=setTimeout(()=>{n=!0}),o=s=>{t||n||(t=!0,e(s),clearTimeout(r))};return o.wasCalled=()=>t,o},ml=()=>{const e=[],t=o=>{const s=e.findIndex(i=>i.timerId===o);s===-1&&v();const[a]=e.splice(s,1);a.callback()};return{add:o=>{const s=setTimeout(()=>t(s)),a={timerId:s,callback:o};e.push(a)},flush:()=>{if(!e.length)return;const o=[...e];e.length=0,o.forEach(s=>{clearTimeout(s.timerId),s.callback()})}}};const hl=(e,t)=>e==null&&t==null?!0:e==null||t==null?!1:e.droppableId===t.droppableId&&e.index===t.index,bl=(e,t)=>e==null&&t==null?!0:e==null||t==null?!1:e.draggableId===t.draggableId&&e.droppableId===t.droppableId,yl=(e,t)=>{if(e===t)return!0;const n=e.draggable.id===t.draggable.id&&e.draggable.droppableId===t.draggable.droppableId&&e.draggable.type===t.draggable.type&&e.draggable.index===t.draggable.index,r=e.droppable.id===t.droppable.id&&e.droppable.type===t.droppable.type;return n&&r},Ie=(e,t)=>{t()},qe=(e,t)=>({draggableId:e.draggable.id,type:e.droppable.type,source:{droppableId:e.droppable.id,index:e.draggable.index},mode:t});function Tt(e,t,n,r){if(!e){n(r(t));return}const o=gl(n);e(t,{announce:o}),o.wasCalled()||n(r(t))}var xl=(e,t)=>{const n=ml();let r=null;const o=(l,d)=>{r&&v(),Ie("onBeforeCapture",()=>{const p=e().onBeforeCapture;p&&p({draggableId:l,mode:d})})},s=(l,d)=>{r&&v(),Ie("onBeforeDragStart",()=>{const p=e().onBeforeDragStart;p&&p(qe(l,d))})},a=(l,d)=>{r&&v();const p=qe(l,d);r={mode:d,lastCritical:l,lastLocation:p.source,lastCombine:null},n.add(()=>{Ie("onDragStart",()=>Tt(e().onDragStart,p,t,Qe.onDragStart))})},i=(l,d)=>{const p=en(d),m=dt(d);r||v();const b=!yl(l,r.lastCritical);b&&(r.lastCritical=l);const h=!hl(r.lastLocation,p);h&&(r.lastLocation=p);const w=!bl(r.lastCombine,m);if(w&&(r.lastCombine=m),!b&&!h&&!w)return;const x={...qe(l,r.mode),combine:m,destination:p};n.add(()=>{Ie("onDragUpdate",()=>Tt(e().onDragUpdate,x,t,Qe.onDragUpdate))})},c=()=>{r||v(),n.flush()},u=l=>{r||v(),r=null,Ie("onDragEnd",()=>Tt(e().onDragEnd,l,t,Qe.onDragEnd))};return{beforeCapture:o,beforeStart:s,start:a,update:i,flush:c,drop:u,abort:()=>{if(!r)return;const l={...qe(r.lastCritical,r.mode),combine:null,destination:null,reason:"CANCEL"};u(l)}}},vl=(e,t)=>{const n=xl(e,t);return r=>o=>s=>{if(A(s,"BEFORE_INITIAL_CAPTURE")){n.beforeCapture(s.payload.draggableId,s.payload.movementMode);return}if(A(s,"INITIAL_PUBLISH")){const i=s.payload.critical;n.beforeStart(i,s.payload.movementMode),o(s),n.start(i,s.payload.movementMode);return}if(A(s,"DROP_COMPLETE")){const i=s.payload.completed.result;n.flush(),o(s),n.drop(i);return}if(o(s),A(s,"FLUSH")){n.abort();return}const a=r.getState();a.phase==="DRAGGING"&&n.update(a.critical,a.impact)}};const wl=e=>t=>n=>{if(!A(n,"DROP_ANIMATION_FINISHED")){t(n);return}const r=e.getState();r.phase!=="DROP_ANIMATING"&&v(),e.dispatch(cn({completed:r.completed}))},Dl=e=>{let t=null,n=null;function r(){n&&(cancelAnimationFrame(n),n=null),t&&(t(),t=null)}return o=>s=>{if((A(s,"FLUSH")||A(s,"DROP_COMPLETE")||A(s,"DROP_ANIMATION_FINISHED"))&&r(),o(s),!A(s,"DROP_ANIMATE"))return;const a={eventName:"scroll",options:{capture:!0,passive:!1,once:!0},fn:function(){e.getState().phase==="DROP_ANIMATING"&&e.dispatch(io())}};n=requestAnimationFrame(()=>{n=null,t=K(window,[a])})}};var Sl=e=>()=>t=>n=>{(A(n,"DROP_COMPLETE")||A(n,"FLUSH")||A(n,"DROP_ANIMATE"))&&e.stopPublishing(),t(n)},Cl=e=>{let t=!1;return()=>n=>r=>{if(A(r,"INITIAL_PUBLISH")){t=!0,e.tryRecordFocus(r.payload.critical.draggable.id),n(r),e.tryRestoreFocusRecorded();return}if(n(r),!!t){if(A(r,"FLUSH")){t=!1,e.tryRestoreFocusRecorded();return}if(A(r,"DROP_COMPLETE")){t=!1;const o=r.payload.completed.result;o.combine&&e.tryShiftRecord(o.draggableId,o.combine.draggableId),e.tryRestoreFocusRecorded()}}}};const El=e=>A(e,"DROP_COMPLETE")||A(e,"DROP_ANIMATE")||A(e,"FLUSH");var Il=e=>t=>n=>r=>{if(El(r)){e.stop(),n(r);return}if(A(r,"INITIAL_PUBLISH")){n(r);const o=t.getState();o.phase!=="DRAGGING"&&v(),e.start(o);return}n(r),e.scroll(t.getState())};const Nl=e=>t=>n=>{if(t(n),!A(n,"PUBLISH_WHILE_DRAGGING"))return;const r=e.getState();r.phase==="DROP_PENDING"&&(r.isWaiting||e.dispatch(ao({reason:r.reason})))},Pl=Ir;var Ol=({dimensionMarshal:e,focusMarshal:t,styleMarshal:n,getResponders:r,announce:o,autoScroller:s})=>Er(Wc,Pl(Ea(rl(n),Sl(e),nl(e),ll,wl,Dl,Nl,Il(s),pl,Cl(t),vl(r,o))));const Mt=()=>({additions:{},removals:{},modified:{}});function Al({registry:e,callbacks:t}){let n=Mt(),r=null;const o=()=>{r||(t.collectionStarting(),r=requestAnimationFrame(()=>{r=null;const{additions:c,removals:u,modified:f}=n,l=Object.keys(c).map(m=>e.draggable.getById(m).getDimension(W)).sort((m,b)=>m.descriptor.index-b.descriptor.index),d=Object.keys(f).map(m=>{const h=e.droppable.getById(m).callbacks.getScrollWhileDragging();return{droppableId:m,scroll:h}}),p={additions:l,removals:Object.keys(u),modified:d};n=Mt(),t.publish(p)}))};return{add:c=>{const u=c.descriptor.id;n.additions[u]=c,n.modified[c.descriptor.droppableId]=!0,n.removals[u]&&delete n.removals[u],o()},remove:c=>{const u=c.descriptor;n.removals[u.id]=!0,n.modified[u.droppableId]=!0,n.additions[u.id]&&delete n.additions[u.id],o()},stop:()=>{r&&(cancelAnimationFrame(r),r=null,n=Mt())}}}var fo=({scrollHeight:e,scrollWidth:t,height:n,width:r})=>{const o=Y({x:t,y:e},{x:r,y:n});return{x:Math.max(0,o.x),y:Math.max(0,o.y)}},po=()=>{const e=document.documentElement;return e||v(),e},go=()=>{const e=po();return fo({scrollHeight:e.scrollHeight,scrollWidth:e.scrollWidth,width:e.clientWidth,height:e.clientHeight})},Rl=()=>{const e=uo(),t=go(),n=e.y,r=e.x,o=po(),s=o.clientWidth,a=o.clientHeight,i=r+s,c=n+a;return{frame:te({top:n,left:r,right:i,bottom:c}),scroll:{initial:e,current:e,max:t,diff:{value:W,displacement:W}}}},Tl=({critical:e,scrollOptions:t,registry:n})=>{const r=Rl(),o=r.scroll.current,s=e.droppable,a=n.droppable.getAllByType(s.type).map(f=>f.callbacks.getDimensionAndWatchScroll(o,t)),i=n.draggable.getAllByType(e.draggable.type).map(f=>f.getDimension(o));return{dimensions:{draggables:_r(i),droppables:Gr(a)},critical:e,viewport:r}};function nr(e,t,n){return!(n.descriptor.id===t.id||n.descriptor.type!==t.type||e.droppable.getById(n.descriptor.droppableId).descriptor.mode!=="virtual")}var Ml=(e,t)=>{let n=null;const r=Al({callbacks:{publish:t.publishWhileDragging,collectionStarting:t.collectionStarting},registry:e}),o=(d,p)=>{e.droppable.exists(d)||v(),n&&t.updateDroppableIsEnabled({id:d,isEnabled:p})},s=(d,p)=>{n&&(e.droppable.exists(d)||v(),t.updateDroppableIsCombineEnabled({id:d,isCombineEnabled:p}))},a=(d,p)=>{n&&(e.droppable.exists(d)||v(),t.updateDroppableScroll({id:d,newScroll:p}))},i=(d,p)=>{n&&e.droppable.getById(d).callbacks.scroll(p)},c=()=>{if(!n)return;r.stop();const d=n.critical.droppable;e.droppable.getAllByType(d.type).forEach(p=>p.callbacks.dragStopped()),n.unsubscribe(),n=null},u=d=>{n||v();const p=n.critical.draggable;d.type==="ADDITION"&&nr(e,p,d.value)&&r.add(d.value),d.type==="REMOVAL"&&nr(e,p,d.value)&&r.remove(d.value)};return{updateDroppableIsEnabled:o,updateDroppableIsCombineEnabled:s,scrollDroppable:i,updateDroppableScroll:a,startPublishing:d=>{n&&v();const p=e.draggable.getById(d.draggableId),m=e.droppable.getById(p.descriptor.droppableId),b={draggable:p.descriptor,droppable:m.descriptor},h=e.subscribe(u);return n={critical:b,unsubscribe:h},Tl({critical:b,registry:e,scrollOptions:d.scrollOptions})},stopPublishing:c}},mo=(e,t)=>e.phase==="IDLE"?!0:e.phase!=="DROP_ANIMATING"||e.completed.result.draggableId===t?!1:e.completed.result.reason==="DROP",Bl=e=>{window.scrollBy(e.x,e.y)};const kl=F(e=>ut(e).filter(t=>!(!t.isEnabled||!t.frame))),jl=(e,t)=>kl(t).find(r=>(r.frame||v(),Jr(r.frame.pageMarginBox)(e)))||null;var Ll=({center:e,destination:t,droppables:n})=>{if(t){const o=n[t];return o.frame?o:null}return jl(e,n)};const Le={startFromPercentage:.25,maxScrollAtPercentage:.05,maxPixelScroll:28,ease:e=>e**2,durationDampening:{stopDampeningAt:1200,accelerateAt:360},disabled:!1};var Fl=(e,t,n=()=>Le)=>{const r=n(),o=e[t.size]*r.startFromPercentage,s=e[t.size]*r.maxScrollAtPercentage;return{startScrollingFrom:o,maxScrollValueAt:s}},ho=({startOfRange:e,endOfRange:t,current:n})=>{const r=t-e;return r===0?0:(n-e)/r},un=1,Wl=(e,t,n=()=>Le)=>{const r=n();if(e>t.startScrollingFrom)return 0;if(e<=t.maxScrollValueAt)return r.maxPixelScroll;if(e===t.startScrollingFrom)return un;const s=1-ho({startOfRange:t.maxScrollValueAt,endOfRange:t.startScrollingFrom,current:e}),a=r.maxPixelScroll*r.ease(s);return Math.ceil(a)},Gl=(e,t,n)=>{const r=n(),o=r.durationDampening.accelerateAt,s=r.durationDampening.stopDampeningAt,a=t,i=s,u=Date.now()-a;if(u>=s)return e;if(u<o)return un;const f=ho({startOfRange:o,endOfRange:i,current:u}),l=e*r.ease(f);return Math.ceil(l)},rr=({distanceToEdge:e,thresholds:t,dragStartTime:n,shouldUseTimeDampening:r,getAutoScrollerOptions:o})=>{const s=Wl(e,t,o);return s===0?0:r?Math.max(Gl(s,n,o),un):s},or=({container:e,distanceToEdges:t,dragStartTime:n,axis:r,shouldUseTimeDampening:o,getAutoScrollerOptions:s})=>{const a=Fl(e,r,s);return t[r.end]<t[r.start]?rr({distanceToEdge:t[r.end],thresholds:a,dragStartTime:n,shouldUseTimeDampening:o,getAutoScrollerOptions:s}):-1*rr({distanceToEdge:t[r.start],thresholds:a,dragStartTime:n,shouldUseTimeDampening:o,getAutoScrollerOptions:s})},_l=({container:e,subject:t,proposedScroll:n})=>{const r=t.height>e.height,o=t.width>e.width;return!o&&!r?n:o&&r?null:{x:o?0:n.x,y:r?0:n.y}};const $l=Wr(e=>e===0?0:e);var bo=({dragStartTime:e,container:t,subject:n,center:r,shouldUseTimeDampening:o,getAutoScrollerOptions:s})=>{const a={top:r.y-t.top,right:t.right-r.x,bottom:t.bottom-r.y,left:r.x-t.left},i=or({container:t,distanceToEdges:a,dragStartTime:e,axis:tn,shouldUseTimeDampening:o,getAutoScrollerOptions:s}),c=or({container:t,distanceToEdges:a,dragStartTime:e,axis:Vr,shouldUseTimeDampening:o,getAutoScrollerOptions:s}),u=$l({x:c,y:i});if(se(u,W))return null;const f=_l({container:t,subject:n,proposedScroll:u});return f?se(f,W)?null:f:null};const Hl=Wr(e=>e===0?0:e>0?1:-1),dn=(()=>{const e=(t,n)=>t<0?t:t>n?t-n:0;return({current:t,max:n,change:r})=>{const o=G(t,r),s={x:e(o.x,n.x),y:e(o.y,n.y)};return se(s,W)?null:s}})(),yo=({max:e,current:t,change:n})=>{const r={x:Math.max(t.x,e.x),y:Math.max(t.y,e.y)},o=Hl(n),s=dn({max:r,current:t,change:o});return!s||o.x!==0&&s.x===0||o.y!==0&&s.y===0},fn=(e,t)=>yo({current:e.scroll.current,max:e.scroll.max,change:t}),Vl=(e,t)=>{if(!fn(e,t))return null;const n=e.scroll.max,r=e.scroll.current;return dn({current:r,max:n,change:t})},pn=(e,t)=>{const n=e.frame;return n?yo({current:n.scroll.current,max:n.scroll.max,change:t}):!1},Ul=(e,t)=>{const n=e.frame;return!n||!pn(e,t)?null:dn({current:n.scroll.current,max:n.scroll.max,change:t})};var ql=({viewport:e,subject:t,center:n,dragStartTime:r,shouldUseTimeDampening:o,getAutoScrollerOptions:s})=>{const a=bo({dragStartTime:r,container:e.frame,subject:t,center:n,shouldUseTimeDampening:o,getAutoScrollerOptions:s});return a&&fn(e,a)?a:null},Yl=({droppable:e,subject:t,center:n,dragStartTime:r,shouldUseTimeDampening:o,getAutoScrollerOptions:s})=>{const a=e.frame;if(!a)return null;const i=bo({dragStartTime:r,container:a.pageMarginBox,subject:t,center:n,shouldUseTimeDampening:o,getAutoScrollerOptions:s});return i&&pn(e,i)?i:null},sr=({state:e,dragStartTime:t,shouldUseTimeDampening:n,scrollWindow:r,scrollDroppable:o,getAutoScrollerOptions:s})=>{const a=e.current.page.borderBoxCenter,c=e.dimensions.draggables[e.critical.draggable.id].page.marginBox;if(e.isWindowScrollAllowed){const l=e.viewport,d=ql({dragStartTime:t,viewport:l,subject:c,center:a,shouldUseTimeDampening:n,getAutoScrollerOptions:s});if(d){r(d);return}}const u=Ll({center:a,destination:z(e.impact),droppables:e.dimensions.droppables});if(!u)return;const f=Yl({dragStartTime:t,droppable:u,subject:c,center:a,shouldUseTimeDampening:n,getAutoScrollerOptions:s});f&&o(u.descriptor.id,f)},zl=({scrollWindow:e,scrollDroppable:t,getAutoScrollerOptions:n=()=>Le})=>{const r=Te(e),o=Te(t);let s=null;const a=u=>{s||v();const{shouldUseTimeDampening:f,dragStartTime:l}=s;sr({state:u,scrollWindow:r,scrollDroppable:o,dragStartTime:l,shouldUseTimeDampening:f,getAutoScrollerOptions:n})};return{start:u=>{s&&v();const f=Date.now();let l=!1;const d=()=>{l=!0};sr({state:u,dragStartTime:0,shouldUseTimeDampening:!1,scrollWindow:d,scrollDroppable:d,getAutoScrollerOptions:n}),s={dragStartTime:f,shouldUseTimeDampening:l},l&&a(u)},stop:()=>{s&&(r.cancel(),o.cancel(),s=null)},scroll:a}},Ql=({move:e,scrollDroppable:t,scrollWindow:n})=>{const r=(i,c)=>{const u=G(i.current.client.selection,c);e({client:u})},o=(i,c)=>{if(!pn(i,c))return c;const u=Ul(i,c);if(!u)return t(i.descriptor.id,c),null;const f=Y(c,u);return t(i.descriptor.id,f),Y(c,f)},s=(i,c,u)=>{if(!i||!fn(c,u))return u;const f=Vl(c,u);if(!f)return n(u),null;const l=Y(u,f);return n(l),Y(u,l)};return i=>{const c=i.scrollJumpRequest;if(!c)return;const u=z(i.impact);u||v();const f=o(i.dimensions.droppables[u],c);if(!f)return;const l=i.viewport,d=s(i.isWindowScrollAllowed,l,f);d&&r(i,d)}},Xl=({scrollDroppable:e,scrollWindow:t,move:n,getAutoScrollerOptions:r})=>{const o=zl({scrollWindow:t,scrollDroppable:e,getAutoScrollerOptions:r}),s=Ql({move:n,scrollWindow:t,scrollDroppable:e});return{scroll:c=>{if(!(r().disabled||c.phase!=="DRAGGING")){if(c.movementMode==="FLUID"){o.scroll(c);return}c.scrollJumpRequest&&s(c)}},start:o.start,stop:o.stop}};const be="data-rfd",ye=(()=>{const e=`${be}-drag-handle`;return{base:e,draggableId:`${e}-draggable-id`,contextId:`${e}-context-id`}})(),Ut=(()=>{const e=`${be}-draggable`;return{base:e,contextId:`${e}-context-id`,id:`${e}-id`}})(),Jl=(()=>{const e=`${be}-droppable`;return{base:e,contextId:`${e}-context-id`,id:`${e}-id`}})(),ar={contextId:`${be}-scroll-container-context-id`},Kl=e=>t=>`[${t}="${e}"]`,Ne=(e,t)=>e.map(n=>{const r=n.styles[t];return r?`${n.selector} { ${r} }`:""}).join(" "),Zl="pointer-events: none;";var eu=e=>{const t=Kl(e),n=(()=>{const i=`
      cursor: -webkit-grab;
      cursor: grab;
    `;return{selector:t(ye.contextId),styles:{always:`
          -webkit-touch-callout: none;
          -webkit-tap-highlight-color: rgba(0,0,0,0);
          touch-action: manipulation;
        `,resting:i,dragging:Zl,dropAnimating:i}}})(),r=(()=>{const i=`
      transition: ${Ae.outOfTheWay};
    `;return{selector:t(Ut.contextId),styles:{dragging:i,dropAnimating:i,userCancel:i}}})(),o={selector:t(Jl.contextId),styles:{always:"overflow-anchor: none;"}},a=[r,n,o,{selector:"body",styles:{dragging:`
        cursor: grabbing;
        cursor: -webkit-grabbing;
        user-select: none;
        -webkit-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        overflow-anchor: none;
      `}}];return{always:Ne(a,"always"),resting:Ne(a,"resting"),dragging:Ne(a,"dragging"),dropAnimating:Ne(a,"dropAnimating"),userCancel:Ne(a,"userCancel")}};const Q=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?y.useLayoutEffect:y.useEffect,Bt=()=>{const e=document.querySelector("head");return e||v(),e},ir=e=>{const t=document.createElement("style");return e&&t.setAttribute("nonce",e),t.type="text/css",t};function tu(e,t){const n=P(()=>eu(e),[e]),r=y.useRef(null),o=y.useRef(null),s=S(F(l=>{const d=o.current;d||v(),d.textContent=l}),[]),a=S(l=>{const d=r.current;d||v(),d.textContent=l},[]);Q(()=>{!r.current&&!o.current||v();const l=ir(t),d=ir(t);return r.current=l,o.current=d,l.setAttribute(`${be}-always`,e),d.setAttribute(`${be}-dynamic`,e),Bt().appendChild(l),Bt().appendChild(d),a(n.always),s(n.resting),()=>{const p=m=>{const b=m.current;b||v(),Bt().removeChild(b),m.current=null};p(r),p(o)}},[t,a,s,n.always,n.resting,e]);const i=S(()=>s(n.dragging),[s,n.dragging]),c=S(l=>{if(l==="DROP"){s(n.dropAnimating);return}s(n.userCancel)},[s,n.dropAnimating,n.userCancel]),u=S(()=>{o.current&&s(n.resting)},[s,n.resting]);return P(()=>({dragging:i,dropping:c,resting:u}),[i,c,u])}function xo(e,t){return Array.from(e.querySelectorAll(t))}var vo=e=>e&&e.ownerDocument&&e.ownerDocument.defaultView?e.ownerDocument.defaultView:window;function gt(e){return e instanceof vo(e).HTMLElement}function nu(e,t){const n=`[${ye.contextId}="${e}"]`,r=xo(document,n);if(!r.length)return null;const o=r.find(s=>s.getAttribute(ye.draggableId)===t);return!o||!gt(o)?null:o}function ru(e){const t=y.useRef({}),n=y.useRef(null),r=y.useRef(null),o=y.useRef(!1),s=S(function(d,p){const m={id:d,focus:p};return t.current[d]=m,function(){const h=t.current;h[d]!==m&&delete h[d]}},[]),a=S(function(d){const p=nu(e,d);p&&p!==document.activeElement&&p.focus()},[e]),i=S(function(d,p){n.current===d&&(n.current=p)},[]),c=S(function(){r.current||o.current&&(r.current=requestAnimationFrame(()=>{r.current=null;const d=n.current;d&&a(d)}))},[a]),u=S(function(d){n.current=null;const p=document.activeElement;p&&p.getAttribute(ye.draggableId)===d&&(n.current=d)},[]);return Q(()=>(o.current=!0,function(){o.current=!1;const d=r.current;d&&cancelAnimationFrame(d)}),[]),P(()=>({register:s,tryRecordFocus:u,tryRestoreFocusRecorded:c,tryShiftRecord:i}),[s,u,c,i])}function ou(){const e={draggables:{},droppables:{}},t=[];function n(l){return t.push(l),function(){const p=t.indexOf(l);p!==-1&&t.splice(p,1)}}function r(l){t.length&&t.forEach(d=>d(l))}function o(l){return e.draggables[l]||null}function s(l){const d=o(l);return d||v(),d}const a={register:l=>{e.draggables[l.descriptor.id]=l,r({type:"ADDITION",value:l})},update:(l,d)=>{const p=e.draggables[d.descriptor.id];p&&p.uniqueId===l.uniqueId&&(delete e.draggables[d.descriptor.id],e.draggables[l.descriptor.id]=l)},unregister:l=>{const d=l.descriptor.id,p=o(d);p&&l.uniqueId===p.uniqueId&&(delete e.draggables[d],e.droppables[l.descriptor.droppableId]&&r({type:"REMOVAL",value:l}))},getById:s,findById:o,exists:l=>!!o(l),getAllByType:l=>Object.values(e.draggables).filter(d=>d.descriptor.type===l)};function i(l){return e.droppables[l]||null}function c(l){const d=i(l);return d||v(),d}const u={register:l=>{e.droppables[l.descriptor.id]=l},unregister:l=>{const d=i(l.descriptor.id);d&&l.uniqueId===d.uniqueId&&delete e.droppables[l.descriptor.id]},getById:c,findById:i,exists:l=>!!i(l),getAllByType:l=>Object.values(e.droppables).filter(d=>d.descriptor.type===l)};function f(){e.draggables={},e.droppables={},t.length=0}return{draggable:a,droppable:u,subscribe:n,clean:f}}function su(){const e=P(ou,[]);return y.useEffect(()=>function(){e.clean()},[e]),e}var gn=M.createContext(null),at=()=>{const e=document.body;return e||v(),e};const au={position:"absolute",width:"1px",height:"1px",margin:"-1px",border:"0",padding:"0",overflow:"hidden",clip:"rect(0 0 0 0)","clip-path":"inset(100%)"},iu=e=>`rfd-announcement-${e}`;function cu(e){const t=P(()=>iu(e),[e]),n=y.useRef(null);return y.useEffect(function(){const s=document.createElement("div");return n.current=s,s.id=t,s.setAttribute("aria-live","assertive"),s.setAttribute("aria-atomic","true"),nt(s.style,au),at().appendChild(s),function(){setTimeout(function(){const c=at();c.contains(s)&&c.removeChild(s),s===n.current&&(n.current=null)})}},[t]),S(o=>{const s=n.current;if(s){s.textContent=o;return}},[])}const lu={separator:"::"};function mn(e,t=lu){const n=M.useId();return P(()=>`${e}${t.separator}${n}`,[t.separator,e,n])}function uu({contextId:e,uniqueId:t}){return`rfd-hidden-text-${e}-${t}`}function du({contextId:e,text:t}){const n=mn("hidden-text",{separator:"-"}),r=P(()=>uu({contextId:e,uniqueId:n}),[n,e]);return y.useEffect(function(){const s=document.createElement("div");return s.id=r,s.textContent=t,s.style.display="none",at().appendChild(s),function(){const i=at();i.contains(s)&&i.removeChild(s)}},[r,t]),r}var mt=M.createContext(null);function wo(e){const t=y.useRef(e);return y.useEffect(()=>{t.current=e}),t}function fu(){let e=null;function t(){return!!e}function n(a){return a===e}function r(a){e&&v();const i={abandon:a};return e=i,i}function o(){e||v(),e=null}function s(){e&&(e.abandon(),o())}return{isClaimed:t,isActive:n,claim:r,release:o,tryAbandon:s}}function Fe(e){return e.phase==="IDLE"||e.phase==="DROP_ANIMATING"?!1:e.isDragging}const pu=9,gu=13,hn=27,Do=32,mu=33,hu=34,bu=35,yu=36,xu=37,vu=38,wu=39,Du=40,Su={[gu]:!0,[pu]:!0};var So=e=>{Su[e.keyCode]&&e.preventDefault()};const ht=(()=>{const e="visibilitychange";return typeof document>"u"?e:[e,`ms${e}`,`webkit${e}`,`moz${e}`,`o${e}`].find(r=>`on${r}`in document)||e})(),Co=0,cr=5;function Cu(e,t){return Math.abs(t.x-e.x)>=cr||Math.abs(t.y-e.y)>=cr}const lr={type:"IDLE"};function Eu({cancel:e,completed:t,getPhase:n,setPhase:r}){return[{eventName:"mousemove",fn:o=>{const{button:s,clientX:a,clientY:i}=o;if(s!==Co)return;const c={x:a,y:i},u=n();if(u.type==="DRAGGING"){o.preventDefault(),u.actions.move(c);return}u.type!=="PENDING"&&v();const f=u.point;if(!Cu(f,c))return;o.preventDefault();const l=u.actions.fluidLift(c);r({type:"DRAGGING",actions:l})}},{eventName:"mouseup",fn:o=>{const s=n();if(s.type!=="DRAGGING"){e();return}o.preventDefault(),s.actions.drop({shouldBlockNextClick:!0}),t()}},{eventName:"mousedown",fn:o=>{n().type==="DRAGGING"&&o.preventDefault(),e()}},{eventName:"keydown",fn:o=>{if(n().type==="PENDING"){e();return}if(o.keyCode===hn){o.preventDefault(),e();return}So(o)}},{eventName:"resize",fn:e},{eventName:"scroll",options:{passive:!0,capture:!1},fn:()=>{n().type==="PENDING"&&e()}},{eventName:"webkitmouseforcedown",fn:o=>{const s=n();if(s.type==="IDLE"&&v(),s.actions.shouldRespectForcePress()){e();return}o.preventDefault()}},{eventName:ht,fn:e}]}function Iu(e){const t=y.useRef(lr),n=y.useRef(oe),r=P(()=>({eventName:"mousedown",fn:function(l){if(l.defaultPrevented||l.button!==Co||l.ctrlKey||l.metaKey||l.shiftKey||l.altKey)return;const d=e.findClosestDraggableId(l);if(!d)return;const p=e.tryGetLock(d,a,{sourceEvent:l});if(!p)return;l.preventDefault();const m={x:l.clientX,y:l.clientY};n.current(),u(p,m)}}),[e]),o=P(()=>({eventName:"webkitmouseforcewillbegin",fn:f=>{if(f.defaultPrevented)return;const l=e.findClosestDraggableId(f);if(!l)return;const d=e.findOptionsForDraggable(l);d&&(d.shouldRespectForcePress||e.canGetLock(l)&&f.preventDefault())}}),[e]),s=S(function(){const l={passive:!1,capture:!0};n.current=K(window,[o,r],l)},[o,r]),a=S(()=>{t.current.type!=="IDLE"&&(t.current=lr,n.current(),s())},[s]),i=S(()=>{const f=t.current;a(),f.type==="DRAGGING"&&f.actions.cancel({shouldBlockNextClick:!0}),f.type==="PENDING"&&f.actions.abort()},[a]),c=S(function(){const l={capture:!0,passive:!1},d=Eu({cancel:i,completed:a,getPhase:()=>t.current,setPhase:p=>{t.current=p}});n.current=K(window,d,l)},[i,a]),u=S(function(l,d){t.current.type!=="IDLE"&&v(),t.current={type:"PENDING",point:d,actions:l},c()},[c]);Q(function(){return s(),function(){n.current()}},[s])}function Nu(){}const Pu={[hu]:!0,[mu]:!0,[yu]:!0,[bu]:!0};function Ou(e,t){function n(){t(),e.cancel()}function r(){t(),e.drop()}return[{eventName:"keydown",fn:o=>{if(o.keyCode===hn){o.preventDefault(),n();return}if(o.keyCode===Do){o.preventDefault(),r();return}if(o.keyCode===Du){o.preventDefault(),e.moveDown();return}if(o.keyCode===vu){o.preventDefault(),e.moveUp();return}if(o.keyCode===wu){o.preventDefault(),e.moveRight();return}if(o.keyCode===xu){o.preventDefault(),e.moveLeft();return}if(Pu[o.keyCode]){o.preventDefault();return}So(o)}},{eventName:"mousedown",fn:n},{eventName:"mouseup",fn:n},{eventName:"click",fn:n},{eventName:"touchstart",fn:n},{eventName:"resize",fn:n},{eventName:"wheel",fn:n,options:{passive:!0}},{eventName:ht,fn:n}]}function Au(e){const t=y.useRef(Nu),n=P(()=>({eventName:"keydown",fn:function(s){if(s.defaultPrevented||s.keyCode!==Do)return;const a=e.findClosestDraggableId(s);if(!a)return;const i=e.tryGetLock(a,f,{sourceEvent:s});if(!i)return;s.preventDefault();let c=!0;const u=i.snapLift();t.current();function f(){c||v(),c=!1,t.current(),r()}t.current=K(window,Ou(u,f),{capture:!0,passive:!1})}}),[e]),r=S(function(){const s={passive:!1,capture:!0};t.current=K(window,[n],s)},[n]);Q(function(){return r(),function(){t.current()}},[r])}const kt={type:"IDLE"},Ru=120,Tu=.15;function Mu({cancel:e,getPhase:t}){return[{eventName:"orientationchange",fn:e},{eventName:"resize",fn:e},{eventName:"contextmenu",fn:n=>{n.preventDefault()}},{eventName:"keydown",fn:n=>{if(t().type!=="DRAGGING"){e();return}n.keyCode===hn&&n.preventDefault(),e()}},{eventName:ht,fn:e}]}function Bu({cancel:e,completed:t,getPhase:n}){return[{eventName:"touchmove",options:{capture:!1},fn:r=>{const o=n();if(o.type!=="DRAGGING"){e();return}o.hasMoved=!0;const{clientX:s,clientY:a}=r.touches[0],i={x:s,y:a};r.preventDefault(),o.actions.move(i)}},{eventName:"touchend",fn:r=>{const o=n();if(o.type!=="DRAGGING"){e();return}r.preventDefault(),o.actions.drop({shouldBlockNextClick:!0}),t()}},{eventName:"touchcancel",fn:r=>{if(n().type!=="DRAGGING"){e();return}r.preventDefault(),e()}},{eventName:"touchforcechange",fn:r=>{const o=n();o.type==="IDLE"&&v();const s=r.touches[0];if(!s||!(s.force>=Tu))return;const i=o.actions.shouldRespectForcePress();if(o.type==="PENDING"){i&&e();return}if(i){if(o.hasMoved){r.preventDefault();return}e();return}r.preventDefault()}},{eventName:ht,fn:e}]}function ku(e){const t=y.useRef(kt),n=y.useRef(oe),r=S(function(){return t.current},[]),o=S(function(p){t.current=p},[]),s=P(()=>({eventName:"touchstart",fn:function(p){if(p.defaultPrevented)return;const m=e.findClosestDraggableId(p);if(!m)return;const b=e.tryGetLock(m,i,{sourceEvent:p});if(!b)return;const h=p.touches[0],{clientX:w,clientY:x}=h,I={x:w,y:x};n.current(),l(b,I)}}),[e]),a=S(function(){const p={capture:!0,passive:!1};n.current=K(window,[s],p)},[s]),i=S(()=>{const d=t.current;d.type!=="IDLE"&&(d.type==="PENDING"&&clearTimeout(d.longPressTimerId),o(kt),n.current(),a())},[a,o]),c=S(()=>{const d=t.current;i(),d.type==="DRAGGING"&&d.actions.cancel({shouldBlockNextClick:!0}),d.type==="PENDING"&&d.actions.abort()},[i]),u=S(function(){const p={capture:!0,passive:!1},m={cancel:c,completed:i,getPhase:r},b=K(window,Bu(m),p),h=K(window,Mu(m),p);n.current=function(){b(),h()}},[c,r,i]),f=S(function(){const p=r();p.type!=="PENDING"&&v();const m=p.actions.fluidLift(p.point);o({type:"DRAGGING",actions:m,hasMoved:!1})},[r,o]),l=S(function(p,m){r().type!=="IDLE"&&v();const b=setTimeout(f,Ru);o({type:"PENDING",point:m,actions:p,longPressTimerId:b}),u()},[u,r,o,f]);Q(function(){return a(),function(){n.current();const m=r();m.type==="PENDING"&&(clearTimeout(m.longPressTimerId),o(kt))}},[r,a,o]),Q(function(){return K(window,[{eventName:"touchmove",fn:()=>{},options:{capture:!1,passive:!1}}])},[])}const ju=["input","button","textarea","select","option","optgroup","video","audio"];function Eo(e,t){if(t==null)return!1;if(ju.includes(t.tagName.toLowerCase()))return!0;const r=t.getAttribute("contenteditable");return r==="true"||r===""?!0:t===e?!1:Eo(e,t.parentElement)}function Lu(e,t){const n=t.target;return gt(n)?Eo(e,n):!1}var Fu=e=>te(e.getBoundingClientRect()).center;function Wu(e){return e instanceof vo(e).Element}const Gu=(()=>{const e="matches";return typeof document>"u"?e:[e,"msMatchesSelector","webkitMatchesSelector"].find(r=>r in Element.prototype)||e})();function Io(e,t){return e==null?null:e[Gu](t)?e:Io(e.parentElement,t)}function _u(e,t){return e.closest?e.closest(t):Io(e,t)}function $u(e){return`[${ye.contextId}="${e}"]`}function Hu(e,t){const n=t.target;if(!Wu(n))return null;const r=$u(e),o=_u(n,r);return!o||!gt(o)?null:o}function Vu(e,t){const n=Hu(e,t);return n?n.getAttribute(ye.draggableId):null}function Uu(e,t){const n=`[${Ut.contextId}="${e}"]`,o=xo(document,n).find(s=>s.getAttribute(Ut.id)===t);return!o||!gt(o)?null:o}function qu(e){e.preventDefault()}function Ye({expected:e,phase:t,isLockActive:n,shouldWarn:r}){return!(!n()||e!==t)}function No({lockAPI:e,store:t,registry:n,draggableId:r}){if(e.isClaimed())return!1;const o=n.draggable.findById(r);return!(!o||!o.options.isEnabled||!mo(t.getState(),r))}function Yu({lockAPI:e,contextId:t,store:n,registry:r,draggableId:o,forceSensorStop:s,sourceEvent:a}){if(!No({lockAPI:e,store:n,registry:r,draggableId:o}))return null;const c=r.draggable.getById(o),u=Uu(t,c.descriptor.id);if(!u||a&&!c.options.canDragInteractiveElements&&Lu(u,a))return null;const f=e.claim(s||oe);let l="PRE_DRAG";function d(){return c.options.shouldRespectForcePress}function p(){return e.isActive(f)}function m(N,E){Ye({expected:N,phase:l,isLockActive:p,shouldWarn:!0})&&n.dispatch(E())}const b=m.bind(null,"DRAGGING");function h(N){function E(){e.release(),l="COMPLETED"}l!=="PRE_DRAG"&&(E(),v()),n.dispatch(_c(N.liftActionArgs)),l="DRAGGING";function R(O,H={shouldBlockNextClick:!1}){if(N.cleanup(),H.shouldBlockNextClick){const B=K(window,[{eventName:"click",fn:qu,options:{once:!0,passive:!1,capture:!0}}]);setTimeout(B)}E(),n.dispatch(ao({reason:O}))}return{isActive:()=>Ye({expected:"DRAGGING",phase:l,isLockActive:p,shouldWarn:!1}),shouldRespectForcePress:d,drop:O=>R("DROP",O),cancel:O=>R("CANCEL",O),...N.actions}}function w(N){const E=Te(O=>{b(()=>so({client:O}))});return{...h({liftActionArgs:{id:o,clientSelection:N,movementMode:"FLUID"},cleanup:()=>E.cancel(),actions:{move:E}}),move:E}}function x(){const N={moveUp:()=>b(Xc),moveRight:()=>b(Kc),moveDown:()=>b(Jc),moveLeft:()=>b(Zc)};return h({liftActionArgs:{id:o,clientSelection:Fu(u),movementMode:"SNAP"},cleanup:oe,actions:N})}function I(){Ye({expected:"PRE_DRAG",phase:l,isLockActive:p,shouldWarn:!0})&&e.release()}return{isActive:()=>Ye({expected:"PRE_DRAG",phase:l,isLockActive:p,shouldWarn:!1}),shouldRespectForcePress:d,fluidLift:w,snapLift:x,abort:I}}const zu=[Iu,Au,ku];function Qu({contextId:e,store:t,registry:n,customSensors:r,enableDefaultSensors:o}){const s=[...o?zu:[],...r||[]],a=y.useState(()=>fu())[0],i=S(function(h,w){Fe(h)&&!Fe(w)&&a.tryAbandon()},[a]);Q(function(){let h=t.getState();return t.subscribe(()=>{const x=t.getState();i(h,x),h=x})},[a,t,i]),Q(()=>a.tryAbandon,[a.tryAbandon]);const c=S(b=>No({lockAPI:a,registry:n,store:t,draggableId:b}),[a,n,t]),u=S((b,h,w)=>Yu({lockAPI:a,registry:n,contextId:e,store:t,draggableId:b,forceSensorStop:h||null,sourceEvent:w&&w.sourceEvent?w.sourceEvent:null}),[e,a,n,t]),f=S(b=>Vu(e,b),[e]),l=S(b=>{const h=n.draggable.findById(b);return h?h.options:null},[n.draggable]),d=S(function(){a.isClaimed()&&(a.tryAbandon(),t.getState().phase!=="IDLE"&&t.dispatch(an()))},[a,t]),p=S(()=>a.isClaimed(),[a]),m=P(()=>({canGetLock:c,tryGetLock:u,findClosestDraggableId:f,findOptionsForDraggable:l,tryReleaseLock:d,isLockClaimed:p}),[c,u,f,l,d,p]);for(let b=0;b<s.length;b++)s[b](m)}const Xu=e=>({onBeforeCapture:t=>{const n=()=>{e.onBeforeCapture&&e.onBeforeCapture(t)};Yt.flushSync(n)},onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragEnd:e.onDragEnd,onDragUpdate:e.onDragUpdate}),Ju=e=>({...Le,...e.autoScrollerOptions,durationDampening:{...Le.durationDampening,...e.autoScrollerOptions}});function Pe(e){return e.current||v(),e.current}function Ku(e){const{contextId:t,setCallbacks:n,sensors:r,nonce:o,dragHandleUsageInstructions:s}=e,a=y.useRef(null),i=wo(e),c=S(()=>Xu(i.current),[i]),u=S(()=>Ju(i.current),[i]),f=cu(t),l=du({contextId:t,text:s}),d=tu(t,o),p=S(B=>{Pe(a).dispatch(B)},[]),m=P(()=>Bn({publishWhileDragging:Hc,updateDroppableScroll:Uc,updateDroppableIsEnabled:qc,updateDroppableIsCombineEnabled:Yc,collectionStarting:Vc},p),[p]),b=su(),h=P(()=>Ml(b,m),[b,m]),w=P(()=>Xl({scrollWindow:Bl,scrollDroppable:h.scrollDroppable,getAutoScrollerOptions:u,...Bn({move:so},p)}),[h.scrollDroppable,p,u]),x=ru(t),I=P(()=>Ol({announce:f,autoScroller:w,dimensionMarshal:h,focusMarshal:x,getResponders:c,styleMarshal:d}),[f,w,h,x,c,d]);a.current=I;const D=S(()=>{const B=Pe(a);B.getState().phase!=="IDLE"&&B.dispatch(an())},[]),N=S(()=>{const B=Pe(a).getState();return B.phase==="DROP_ANIMATING"?!0:B.phase==="IDLE"?!1:B.isDragging},[]),E=P(()=>({isDragging:N,tryAbort:D}),[N,D]);n(E);const R=S(B=>mo(Pe(a).getState(),B),[]),O=S(()=>fe(Pe(a).getState()),[]),H=P(()=>({marshal:h,focus:x,contextId:t,canLift:R,isMovementAllowed:O,dragHandleUsageInstructionsId:l,registry:b}),[t,h,l,x,R,O,b]);return Qu({contextId:t,store:I,registry:b,customSensors:r||null,enableDefaultSensors:e.enableDefaultSensors!==!1}),y.useEffect(()=>D,[D]),M.createElement(mt.Provider,{value:H},M.createElement(vi,{context:gn,store:I},e.children))}function Zu(){return M.useId()}function ed(e){const t=Zu(),n=e.dragHandleUsageInstructions||Qe.dragHandleUsageInstructions;return M.createElement(Ri,null,r=>M.createElement(Ku,{nonce:e.nonce,contextId:t,setCallbacks:r,dragHandleUsageInstructions:n,enableDefaultSensors:e.enableDefaultSensors,sensors:e.sensors,onBeforeCapture:e.onBeforeCapture,onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragUpdate:e.onDragUpdate,onDragEnd:e.onDragEnd,autoScrollerOptions:e.autoScrollerOptions},e.children))}const ur={dragging:5e3,dropAnimating:4500},td=(e,t)=>t?Ae.drop(t.duration):e?Ae.snap:Ae.fluid,nd=(e,t)=>{if(e)return t?je.opacity.drop:je.opacity.combining},rd=e=>e.forceShouldAnimate!=null?e.forceShouldAnimate:e.mode==="SNAP";function od(e){const n=e.dimension.client,{offset:r,combineWith:o,dropping:s}=e,a=!!o,i=rd(e),c=!!s,u=c?Ht.drop(r,a):Ht.moveTo(r);return{position:"fixed",top:n.marginBox.top,left:n.marginBox.left,boxSizing:"border-box",width:n.borderBox.width,height:n.borderBox.height,transition:td(i,s),transform:u,opacity:nd(a,c),zIndex:c?ur.dropAnimating:ur.dragging,pointerEvents:"none"}}function sd(e){return{transform:Ht.moveTo(e.offset),transition:e.shouldAnimateDisplacement?void 0:"none"}}function ad(e){return e.type==="DRAGGING"?od(e):sd(e)}function id(e,t,n=W){const r=window.getComputedStyle(t),o=t.getBoundingClientRect(),s=Br(o,r),a=tt(s,n),i={client:s,tagName:t.tagName.toLowerCase(),display:r.display},c={x:s.marginBox.width,y:s.marginBox.height};return{descriptor:e,placeholder:i,displaceBy:c,client:s,page:a}}function cd(e){const t=mn("draggable"),{descriptor:n,registry:r,getDraggableRef:o,canDragInteractiveElements:s,shouldRespectForcePress:a,isEnabled:i}=e,c=P(()=>({canDragInteractiveElements:s,shouldRespectForcePress:a,isEnabled:i}),[s,i,a]),u=S(p=>{const m=o();return m||v(),id(n,m,p)},[n,o]),f=P(()=>({uniqueId:t,descriptor:n,options:c,getDimension:u}),[n,u,c,t]),l=y.useRef(f),d=y.useRef(!0);Q(()=>(r.draggable.register(l.current),()=>r.draggable.unregister(l.current)),[r.draggable]),Q(()=>{if(d.current){d.current=!1;return}const p=l.current;l.current=f,r.draggable.update(f,p)},[f,r.draggable])}var bn=M.createContext(null);function it(e){const t=y.useContext(e);return t||v(),t}function ld(e){e.preventDefault()}const ud=e=>{const t=y.useRef(null),n=S((E=null)=>{t.current=E},[]),r=S(()=>t.current,[]),{contextId:o,dragHandleUsageInstructionsId:s,registry:a}=it(mt),{type:i,droppableId:c}=it(bn),u=P(()=>({id:e.draggableId,index:e.index,type:i,droppableId:c}),[e.draggableId,e.index,i,c]),{children:f,draggableId:l,isEnabled:d,shouldRespectForcePress:p,canDragInteractiveElements:m,isClone:b,mapped:h,dropAnimationFinished:w}=e;if(!b){const E=P(()=>({descriptor:u,registry:a,getDraggableRef:r,canDragInteractiveElements:m,shouldRespectForcePress:p,isEnabled:d}),[u,a,r,m,p,d]);cd(E)}const x=P(()=>d?{tabIndex:0,role:"button","aria-describedby":s,"data-rfd-drag-handle-draggable-id":l,"data-rfd-drag-handle-context-id":o,draggable:!1,onDragStart:ld}:null,[o,s,l,d]),I=S(E=>{h.type==="DRAGGING"&&h.dropping&&E.propertyName==="transform"&&Yt.flushSync(w)},[w,h]),D=P(()=>{const E=ad(h),R=h.type==="DRAGGING"&&h.dropping?I:void 0;return{innerRef:n,draggableProps:{"data-rfd-draggable-context-id":o,"data-rfd-draggable-id":l,style:E,onTransitionEnd:R},dragHandleProps:x}},[o,x,l,h,I,n]),N=P(()=>({draggableId:u.id,type:u.type,source:{index:u.index,droppableId:u.droppableId}}),[u.droppableId,u.id,u.index,u.type]);return M.createElement(M.Fragment,null,f(D,h.snapshot,N))};var Po=(e,t)=>e===t,Oo=e=>{const{combine:t,destination:n}=e;return n?n.droppableId:t?t.droppableId:null};const dd=e=>e.combine?e.combine.draggableId:null,fd=e=>e.at&&e.at.type==="COMBINE"?e.at.combine.draggableId:null;function pd(){const e=F((o,s)=>({x:o,y:s})),t=F((o,s,a=null,i=null,c=null)=>({isDragging:!0,isClone:s,isDropAnimating:!!c,dropAnimation:c,mode:o,draggingOver:a,combineWith:i,combineTargetFor:null})),n=F((o,s,a,i,c=null,u=null,f=null)=>({mapped:{type:"DRAGGING",dropping:null,draggingOver:c,combineWith:u,mode:s,offset:o,dimension:a,forceShouldAnimate:f,snapshot:t(s,i,c,u,null)}}));return(o,s)=>{if(Fe(o)){if(o.critical.draggable.id!==s.draggableId)return null;const a=o.current.client.offset,i=o.dimensions.draggables[s.draggableId],c=z(o.impact),u=fd(o.impact),f=o.forceShouldAnimate;return n(e(a.x,a.y),o.movementMode,i,s.isClone,c,u,f)}if(o.phase==="DROP_ANIMATING"){const a=o.completed;if(a.result.draggableId!==s.draggableId)return null;const i=s.isClone,c=o.dimensions.draggables[s.draggableId],u=a.result,f=u.mode,l=Oo(u),d=dd(u),m={duration:o.dropDuration,curve:ln.drop,moveTo:o.newHomeClientOffset,opacity:d?je.opacity.drop:null,scale:d?je.scale.drop:null};return{mapped:{type:"DRAGGING",offset:o.newHomeClientOffset,dimension:c,dropping:m,draggingOver:l,combineWith:d,mode:f,forceShouldAnimate:null,snapshot:t(f,i,l,d,m)}}}return null}}function Ao(e=null){return{isDragging:!1,isDropAnimating:!1,isClone:!1,dropAnimation:null,mode:null,draggingOver:null,combineTargetFor:e,combineWith:null}}const gd={mapped:{type:"SECONDARY",offset:W,combineTargetFor:null,shouldAnimateDisplacement:!0,snapshot:Ao(null)}};function md(){const e=F((a,i)=>({x:a,y:i})),t=F(Ao),n=F((a,i=null,c)=>({mapped:{type:"SECONDARY",offset:a,combineTargetFor:i,shouldAnimateDisplacement:c,snapshot:t(i)}})),r=a=>a?n(W,a,!0):null,o=(a,i,c,u)=>{const f=c.displaced.visible[a],l=!!(u.inVirtualList&&u.effected[a]),d=dt(c),p=d&&d.draggableId===a?i:null;if(!f){if(!l)return r(p);if(c.displaced.invisible[a])return null;const h=xe(u.displacedBy.point),w=e(h.x,h.y);return n(w,p,!0)}if(l)return r(p);const m=c.displacedBy.point,b=e(m.x,m.y);return n(b,p,f.shouldAnimate)};return(a,i)=>{if(Fe(a))return a.critical.draggable.id===i.draggableId?null:o(i.draggableId,a.critical.draggable.id,a.impact,a.afterCritical);if(a.phase==="DROP_ANIMATING"){const c=a.completed;return c.result.draggableId===i.draggableId?null:o(i.draggableId,c.result.draggableId,c.impact,c.afterCritical)}return null}}const hd=()=>{const e=pd(),t=md();return(r,o)=>e(r,o)||t(r,o)||gd},bd={dropAnimationFinished:io},yd=Tr(hd,bd,null,{context:gn,areStatePropsEqual:Po})(ud);function Ro(e){return it(bn).isUsingCloneFor===e.draggableId&&!e.isClone?null:M.createElement(yd,e)}function xd(e){const t=typeof e.isDragDisabled=="boolean"?!e.isDragDisabled:!0,n=!!e.disableInteractiveElementBlocking,r=!!e.shouldRespectForcePress;return M.createElement(Ro,nt({},e,{isClone:!1,isEnabled:t,canDragInteractiveElements:n,shouldRespectForcePress:r}))}const To=e=>t=>e===t,vd=To("scroll"),wd=To("auto"),dr=(e,t)=>t(e.overflowX)||t(e.overflowY),Dd=e=>{const t=window.getComputedStyle(e),n={overflowX:t.overflowX,overflowY:t.overflowY};return dr(n,vd)||dr(n,wd)},Sd=()=>!1,Mo=e=>e==null?null:e===document.body?Sd()?e:null:e===document.documentElement?null:Dd(e)?e:Mo(e.parentElement);var qt=e=>({x:e.scrollLeft,y:e.scrollTop});const Bo=e=>e?window.getComputedStyle(e).position==="fixed"?!0:Bo(e.parentElement):!1;var Cd=e=>{const t=Mo(e),n=Bo(e);return{closestScrollable:t,isFixedOnPage:n}},Ed=({descriptor:e,isEnabled:t,isCombineEnabled:n,isFixedOnPage:r,direction:o,client:s,page:a,closest:i})=>{const c=(()=>{if(!i)return null;const{scrollSize:d,client:p}=i,m=fo({scrollHeight:d.scrollHeight,scrollWidth:d.scrollWidth,height:p.paddingBox.height,width:p.paddingBox.width});return{pageMarginBox:i.page.marginBox,frameClient:p,scrollSize:d,shouldClipSubject:i.shouldClipSubject,scroll:{initial:i.scroll,current:i.scroll,max:m,diff:{value:W,displacement:W}}}})(),u=o==="vertical"?tn:Vr,f=he({page:a,withPlaceholder:null,axis:u,frame:c});return{descriptor:e,isCombineEnabled:n,isFixedOnPage:r,axis:u,isEnabled:t,client:s,page:a,frame:c,subject:f}};const Id=(e,t)=>{const n=kr(e);if(!t||e!==t)return n;const r=n.paddingBox.top-t.scrollTop,o=n.paddingBox.left-t.scrollLeft,s=r+t.scrollHeight,a=o+t.scrollWidth,c=Jt({top:r,right:a,bottom:s,left:o},n.border);return Kt({borderBox:c,margin:n.margin,border:n.border,padding:n.padding})};var Nd=({ref:e,descriptor:t,env:n,windowScroll:r,direction:o,isDropDisabled:s,isCombineEnabled:a,shouldClipSubject:i})=>{const c=n.closestScrollable,u=Id(e,c),f=tt(u,r),l=(()=>{if(!c)return null;const p=kr(c),m={scrollHeight:c.scrollHeight,scrollWidth:c.scrollWidth};return{client:p,page:tt(p,r),scroll:qt(c),scrollSize:m,shouldClipSubject:i}})();return Ed({descriptor:t,isEnabled:!s,isCombineEnabled:a,isFixedOnPage:n.isFixedOnPage,direction:o,client:u,page:f,closest:l})};const Pd={passive:!1},Od={passive:!0};var fr=e=>e.shouldPublishImmediately?Pd:Od;const ze=e=>e&&e.env.closestScrollable||null;function Ad(e){const t=y.useRef(null),n=it(mt),r=mn("droppable"),{registry:o,marshal:s}=n,a=wo(e),i=P(()=>({id:e.droppableId,type:e.type,mode:e.mode}),[e.droppableId,e.mode,e.type]),c=y.useRef(i),u=P(()=>F((D,N)=>{t.current||v();const E={x:D,y:N};s.updateDroppableScroll(i.id,E)}),[i.id,s]),f=S(()=>{const D=t.current;return!D||!D.env.closestScrollable?W:qt(D.env.closestScrollable)},[]),l=S(()=>{const D=f();u(D.x,D.y)},[f,u]),d=P(()=>Te(l),[l]),p=S(()=>{const D=t.current,N=ze(D);if(D&&N||v(),D.scrollOptions.shouldPublishImmediately){l();return}d()},[d,l]),m=S((D,N)=>{t.current&&v();const E=a.current,R=E.getDroppableRef();R||v();const O=Cd(R),H={ref:R,descriptor:i,env:O,scrollOptions:N};t.current=H;const B=Nd({ref:R,descriptor:i,env:O,windowScroll:D,direction:E.direction,isDropDisabled:E.isDropDisabled,isCombineEnabled:E.isCombineEnabled,shouldClipSubject:!E.ignoreContainerClipping}),j=O.closestScrollable;return j&&(j.setAttribute(ar.contextId,n.contextId),j.addEventListener("scroll",p,fr(H.scrollOptions))),B},[n.contextId,i,p,a]),b=S(()=>{const D=t.current,N=ze(D);return D&&N||v(),qt(N)},[]),h=S(()=>{const D=t.current;D||v();const N=ze(D);t.current=null,N&&(d.cancel(),N.removeAttribute(ar.contextId),N.removeEventListener("scroll",p,fr(D.scrollOptions)))},[p,d]),w=S(D=>{const N=t.current;N||v();const E=ze(N);E||v(),E.scrollTop+=D.y,E.scrollLeft+=D.x},[]),x=P(()=>({getDimensionAndWatchScroll:m,getScrollWhileDragging:b,dragStopped:h,scroll:w}),[h,m,b,w]),I=P(()=>({uniqueId:r,descriptor:i,callbacks:x}),[x,i,r]);Q(()=>(c.current=I.descriptor,o.droppable.register(I),()=>{t.current&&h(),o.droppable.unregister(I)}),[x,i,h,I,s,o.droppable]),Q(()=>{t.current&&s.updateDroppableIsEnabled(c.current.id,!e.isDropDisabled)},[e.isDropDisabled,s]),Q(()=>{t.current&&s.updateDroppableIsCombineEnabled(c.current.id,e.isCombineEnabled)},[e.isCombineEnabled,s])}function jt(){}const pr={width:0,height:0,margin:Li},Rd=({isAnimatingOpenOnMount:e,placeholder:t,animate:n})=>e||n==="close"?pr:{height:t.client.borderBox.height,width:t.client.borderBox.width,margin:t.client.margin},Td=({isAnimatingOpenOnMount:e,placeholder:t,animate:n})=>{const r=Rd({isAnimatingOpenOnMount:e,placeholder:t,animate:n});return{display:t.display,boxSizing:"border-box",width:r.width,height:r.height,marginTop:r.margin.top,marginRight:r.margin.right,marginBottom:r.margin.bottom,marginLeft:r.margin.left,flexShrink:"0",flexGrow:"0",pointerEvents:"none",transition:n!=="none"?Ae.placeholder:null}},Md=e=>{const t=y.useRef(null),n=S(()=>{t.current&&(clearTimeout(t.current),t.current=null)},[]),{animate:r,onTransitionEnd:o,onClose:s,contextId:a}=e,[i,c]=y.useState(e.animate==="open");y.useEffect(()=>i?r!=="open"?(n(),c(!1),jt):t.current?jt:(t.current=setTimeout(()=>{t.current=null,c(!1)}),n):jt,[r,i,n]);const u=S(l=>{l.propertyName==="height"&&(o(),r==="close"&&s())},[r,s,o]),f=Td({isAnimatingOpenOnMount:i,animate:e.animate,placeholder:e.placeholder});return M.createElement(e.placeholder.tagName,{style:f,"data-rfd-placeholder-context-id":a,onTransitionEnd:u,ref:e.innerRef})};var Bd=M.memo(Md);class kd extends M.PureComponent{constructor(...t){super(...t),this.state={isVisible:!!this.props.on,data:this.props.on,animate:this.props.shouldAnimate&&this.props.on?"open":"none"},this.onClose=()=>{this.state.animate==="close"&&this.setState({isVisible:!1})}}static getDerivedStateFromProps(t,n){return t.shouldAnimate?t.on?{isVisible:!0,data:t.on,animate:"open"}:n.isVisible?{isVisible:!0,data:n.data,animate:"close"}:{isVisible:!1,animate:"close",data:null}:{isVisible:!!t.on,data:t.on,animate:"none"}}render(){if(!this.state.isVisible)return null;const t={onClose:this.onClose,data:this.state.data,animate:this.state.animate};return this.props.children(t)}}const jd=e=>{const t=y.useContext(mt);t||v();const{contextId:n,isMovementAllowed:r}=t,o=y.useRef(null),s=y.useRef(null),{children:a,droppableId:i,type:c,mode:u,direction:f,ignoreContainerClipping:l,isDropDisabled:d,isCombineEnabled:p,snapshot:m,useClone:b,updateViewportMaxScroll:h,getContainerForClone:w}=e,x=S(()=>o.current,[]),I=S((j=null)=>{o.current=j},[]);S(()=>s.current,[]);const D=S((j=null)=>{s.current=j},[]),N=S(()=>{r()&&h({maxScroll:go()})},[r,h]);Ad({droppableId:i,type:c,mode:u,direction:f,isDropDisabled:d,isCombineEnabled:p,ignoreContainerClipping:l,getDroppableRef:x});const E=P(()=>M.createElement(kd,{on:e.placeholder,shouldAnimate:e.shouldAnimatePlaceholder},({onClose:j,data:L,animate:V})=>M.createElement(Bd,{placeholder:L,onClose:j,innerRef:D,animate:V,contextId:n,onTransitionEnd:N})),[n,N,e.placeholder,e.shouldAnimatePlaceholder,D]),R=P(()=>({innerRef:I,placeholder:E,droppableProps:{"data-rfd-droppable-id":i,"data-rfd-droppable-context-id":n}}),[n,i,E,I]),O=b?b.dragging.draggableId:null,H=P(()=>({droppableId:i,type:c,isUsingCloneFor:O}),[i,O,c]);function B(){if(!b)return null;const{dragging:j,render:L}=b,V=M.createElement(Ro,{draggableId:j.draggableId,index:j.source.index,isClone:!0,isEnabled:!0,shouldRespectForcePress:!1,canDragInteractiveElements:!0},(ce,U)=>L(ce,U,j));return ns.createPortal(V,w())}return M.createElement(bn.Provider,{value:H},a(R,m),B())};function Ld(){return document.body||v(),document.body}const gr={mode:"standard",type:"DEFAULT",direction:"vertical",isDropDisabled:!1,isCombineEnabled:!1,ignoreContainerClipping:!1,renderClone:null,getContainerForClone:Ld},ko=e=>{let t={...e},n;for(n in gr)e[n]===void 0&&(t={...t,[n]:gr[n]});return t},Lt=(e,t)=>e===t.droppable.type,mr=(e,t)=>t.draggables[e.draggable.id],Fd=()=>{const e={placeholder:null,shouldAnimatePlaceholder:!0,snapshot:{isDraggingOver:!1,draggingOverWith:null,draggingFromThisWith:null,isUsingPlaceholder:!1},useClone:null},t={...e,shouldAnimatePlaceholder:!1},n=F(s=>({draggableId:s.id,type:s.type,source:{index:s.index,droppableId:s.droppableId}})),r=F((s,a,i,c,u,f)=>{const l=u.descriptor.id;if(u.descriptor.droppableId===s){const m=f?{render:f,dragging:n(u.descriptor)}:null,b={isDraggingOver:i,draggingOverWith:i?l:null,draggingFromThisWith:l,isUsingPlaceholder:!0};return{placeholder:u.placeholder,shouldAnimatePlaceholder:!1,snapshot:b,useClone:m}}if(!a)return t;if(!c)return e;const p={isDraggingOver:i,draggingOverWith:l,draggingFromThisWith:null,isUsingPlaceholder:!0};return{placeholder:u.placeholder,shouldAnimatePlaceholder:!0,snapshot:p,useClone:null}});return(s,a)=>{const i=ko(a),c=i.droppableId,u=i.type,f=!i.isDropDisabled,l=i.renderClone;if(Fe(s)){const d=s.critical;if(!Lt(u,d))return t;const p=mr(d,s.dimensions),m=z(s.impact)===c;return r(c,f,m,m,p,l)}if(s.phase==="DROP_ANIMATING"){const d=s.completed;if(!Lt(u,d.critical))return t;const p=mr(d.critical,s.dimensions);return r(c,f,Oo(d.result)===c,z(d.impact)===c,p,l)}if(s.phase==="IDLE"&&s.completed&&!s.shouldFlush){const d=s.completed;if(!Lt(u,d.critical))return t;const p=z(d.impact)===c,m=!!(d.impact.at&&d.impact.at.type==="COMBINE"),b=d.critical.droppable.id===c;return p?m?e:t:b?e:t}return t}},Wd={updateViewportMaxScroll:Qc},Gd=Tr(Fd,Wd,(e,t,n)=>({...ko(n),...e,...t}),{context:gn,areStatePropsEqual:Po})(jd);var _d=Gd;const $d=({tasks:e,onTaskMove:t,onTaskEdit:n,onTaskDelete:r})=>{const o=["Todo","In-Progress","Completed"],s=zt(i=>i.searchQuery),a=i=>e.filter(c=>c.status===i).filter(c=>{var u;return s?c.title.toLowerCase().includes(s.toLowerCase())||(((u=c.description)==null?void 0:u.toLowerCase())||"").includes(s.toLowerCase()):!0});return g.jsx(ed,{onDragEnd:t,children:g.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:o.map(i=>g.jsx(_d,{droppableId:i,children:(c,u)=>g.jsxs("div",{ref:c.innerRef,...c.droppableProps,className:`bg-white rounded-lg shadow p-4 ${u.isDraggingOver?"bg-gray-50":""}`,children:[g.jsxs("h3",{className:`text-lg font-semibold mb-4 ${i==="Todo"?"text-purple-600":i==="In-Progress"?"text-blue-600":"text-green-600"}`,children:[i," (",a(i).length,")"]}),g.jsxs("div",{className:"space-y-3",children:[a(i).map((f,l)=>g.jsx(xd,{draggableId:f.id,index:l,children:(d,p)=>g.jsx("div",{ref:d.innerRef,...d.draggableProps,...d.dragHandleProps,className:`bg-white rounded-md shadow p-4 ${p.isDragging?"shadow-lg":""}`,children:g.jsxs("div",{className:"flex flex-col",children:[g.jsxs("div",{className:"flex justify-between items-start mb-2",children:[g.jsx("h4",{className:"font-medium text-gray-900",children:f.title}),g.jsxs("div",{className:"flex space-x-2",children:[g.jsx("button",{onClick:()=>n(f.id),className:"text-blue-600 hover:text-blue-800 text-sm px-2 py-1 rounded",children:"Edit"}),g.jsx("button",{onClick:()=>r(f.id),className:"text-red-600 hover:text-red-800 text-sm px-2 py-1 rounded",children:"Delete"})]})]}),g.jsxs("div",{className:"text-sm text-gray-500",children:[g.jsxs("p",{children:["Due: ",pe(new Date(f.dueDate),"MMM dd, yyyy")]}),g.jsxs("p",{children:["Category: ",f.category]})]})]})})},f.id)),c.placeholder]})]})},i))})})},Hd=({task:e,onSave:t,onClose:n})=>{var w;const[r,o]=y.useState(e.title),[s,a]=y.useState(e.category),[i,c]=y.useState(e.status),[u,f]=y.useState(""),[l,d]=y.useState(e.description||""),[p,m]=y.useState(null);y.useEffect(()=>{try{const x=new Date(e.dueDate);f(pe(x,"yyyy-MM-dd"))}catch(x){console.error("Error parsing date:",x),f("")}},[e.dueDate]);const b=async x=>{x.preventDefault(),await t(e.id,{title:r,category:s,status:i,description:l,dueDate:pe(new Date(u),"dd MMM, yyyy"),attachments:p?[p.name]:void 0}),n()},h=x=>{x.target.files&&x.target.files[0]&&m(x.target.files[0])};return g.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4 overflow-y-auto",children:g.jsxs("div",{className:"bg-white rounded-lg w-full max-w-3xl",children:[g.jsxs("div",{className:"flex justify-between items-center p-4 border-b",children:[g.jsx("h2",{className:"text-xl font-semibold",children:"View/Edit Task"}),g.jsx("button",{onClick:n,className:"text-gray-500 hover:text-gray-700",children:g.jsx(fs,{className:"w-5 h-5"})})]}),g.jsxs("form",{onSubmit:b,className:"p-6",children:[g.jsxs("div",{className:"grid grid-cols-1 gap-6",children:[g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Task Name"}),g.jsx("input",{type:"text",value:r,onChange:x=>o(x.target.value),className:"w-full border rounded-md px-3 py-2 focus:ring-purple-500 focus:border-purple-500",required:!0})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),g.jsxs("div",{className:"border rounded-md",children:[g.jsxs("div",{className:"border-b p-2 flex gap-2",children:[g.jsx("button",{type:"button",className:"p-1 hover:bg-gray-100 rounded",children:"B"}),g.jsx("button",{type:"button",className:"p-1 hover:bg-gray-100 rounded italic",children:"I"}),g.jsx("button",{type:"button",className:"p-1 hover:bg-gray-100 rounded",children:"S"}),g.jsx("button",{type:"button",className:"p-1 hover:bg-gray-100 rounded",children:""}),g.jsx("button",{type:"button",className:"p-1 hover:bg-gray-100 rounded",children:"1."})]}),g.jsx("textarea",{value:l,onChange:x=>{x.target.value.length<=300&&d(x.target.value)},maxLength:300,className:"w-full px-3 py-2 focus:ring-purple-500 focus:border-purple-500 border-none",rows:4,placeholder:"Enter task description"}),g.jsxs("div",{className:"p-2 text-sm text-gray-500 text-right",children:[l.length,"/300 characters"]})]})]}),g.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Task Category"}),g.jsxs("div",{className:"flex gap-2",children:[g.jsx("button",{type:"button",onClick:()=>a("Work"),className:`flex-1 py-2 px-4 rounded ${s==="Work"?"bg-purple-600 text-white":"bg-gray-100 text-gray-700"}`,children:"Work"}),g.jsx("button",{type:"button",onClick:()=>a("Personal"),className:`flex-1 py-2 px-4 rounded ${s==="Personal"?"bg-purple-600 text-white":"bg-gray-100 text-gray-700"}`,children:"Personal"})]})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Due Date"}),g.jsx("input",{type:"date",value:u,onChange:x=>f(x.target.value),className:"w-full border rounded-md px-3 py-2 focus:ring-purple-500 focus:border-purple-500",required:!0})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Task Status"}),g.jsxs("select",{value:i,onChange:x=>c(x.target.value),className:"w-full border rounded-md px-3 py-2 focus:ring-purple-500 focus:border-purple-500",required:!0,children:[g.jsx("option",{value:"Todo",children:"Todo"}),g.jsx("option",{value:"In-Progress",children:"In Progress"}),g.jsx("option",{value:"Completed",children:"Completed"})]})]})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Attachment"}),g.jsxs("div",{className:"border-2 border-dashed rounded-md p-4",children:[g.jsx("input",{type:"file",onChange:h,className:"w-full"}),g.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Drop your files here to Upload"})]})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Activity"}),g.jsx("div",{className:"space-y-2",children:(w=e.activities)==null?void 0:w.map((x,I)=>g.jsxs("div",{className:"text-sm text-gray-600",children:[x.action," - ",pe(new Date(x.timestamp),"MMM dd, yyyy HH:mm")]},I))})]})]}),g.jsxs("div",{className:"flex justify-end space-x-2 mt-6",children:[g.jsx("button",{type:"button",onClick:n,className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-md hover:bg-gray-200",children:"Cancel"}),g.jsx("button",{type:"submit",className:"px-4 py-2 bg-purple-600 text-white rounded-md hover:bg-purple-700",children:"Update"})]})]})]})})},Ft=y.memo(({tasks:e,onEdit:t,onDelete:n,selectedTasks:r,onTaskSelect:o,onSelectAll:s,sectionType:a})=>{const i=e.length>0&&e.every(f=>r.has(f.id)),c=f=>{switch(f){case"Todo":return"bg-blue-50";case"In-Progress":return"bg-yellow-50";case"Completed":return"bg-green-50";default:return"bg-white"}},u=f=>{switch(f){case"Low":return"bg-green-100";case"Medium":return"bg-yellow-100";case"High":return"bg-red-100";default:return"bg-gray-100"}};return g.jsx("div",{className:"task-table-container",children:g.jsx("div",{className:"min-w-full inline-block align-middle",children:g.jsx("div",{className:"overflow-hidden",children:g.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[g.jsx("thead",{className:`${c(a)}`,children:g.jsxs("tr",{children:[g.jsx("th",{scope:"col",className:"task-cell",children:g.jsx("input",{type:"checkbox",checked:i,onChange:f=>s(f.target.checked),className:"rounded border-gray-300 text-purple-600 focus:ring-purple-500"})}),g.jsx("th",{scope:"col",className:"task-cell text-left font-medium text-gray-500",children:"Title"}),g.jsx("th",{scope:"col",className:"task-cell text-left font-medium text-gray-500",children:"Priority"}),g.jsx("th",{scope:"col",className:"task-cell text-left font-medium text-gray-500",children:"Due Date"}),g.jsx("th",{scope:"col",className:"task-cell text-left font-medium text-gray-500",children:"Category"}),g.jsx("th",{scope:"col",className:"task-cell text-right font-medium text-gray-500",children:"Actions"})]})}),g.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e.map(f=>g.jsxs("tr",{className:"task-row",children:[g.jsx("td",{className:"task-cell",children:g.jsx("input",{type:"checkbox",checked:r.has(f.id),onChange:l=>o(f.id,l.target.checked),className:"rounded border-gray-300 text-purple-600 focus:ring-purple-500"})}),g.jsx("td",{className:"task-cell",children:g.jsx("div",{className:"text-truncate max-w-xs",children:f.title})}),g.jsx("td",{className:"task-cell",children:g.jsx("span",{className:`status-badge ${u(f.priority)}`,children:f.priority})}),g.jsx("td",{className:"task-cell text-gray-500",children:pe(new Date(f.dueDate),"MMM d, yyyy")}),g.jsx("td",{className:"task-cell",children:g.jsx("span",{className:"status-badge bg-gray-100 text-gray-800",children:f.category})}),g.jsx("td",{className:"task-cell text-right",children:g.jsxs("div",{className:"flex justify-end space-x-2",children:[g.jsx("button",{onClick:()=>t(f),className:"text-indigo-600 hover:text-indigo-900",children:"Edit"}),g.jsx("button",{onClick:()=>n(f.id),className:"text-red-600 hover:text-red-900",children:"Delete"})]})})]},f.id))})]})})})})}),Vd=()=>{const[e,t]=y.useState("list"),[n,r]=y.useState(""),[o,s]=y.useState({Todo:!0,"In-Progress":!0,Completed:!0}),[a,i]=y.useState(null),c=ct(C=>C.user),[u,f]=y.useState(!1),[l,d]=y.useState({title:"",description:"",dueDate:pe(new Date,"yyyy-MM-dd"),category:"Work",status:"Todo",priority:"Medium",activities:[],createdBy:(c==null?void 0:c.uid)||"",userId:(c==null?void 0:c.uid)||"",attachment:null});y.useEffect(()=>{c&&(console.log("Current user UID:",c.uid),d(C=>({...C,userId:c.uid,createdBy:c.uid})))},[c]);const{tasks:p,error:m,fetchTasks:b,addTask:h,updateTask:w,deleteTask:x,cleanup:I}=zt(),D=p.filter(C=>{var k;return n?C.title.toLowerCase().includes(n.toLowerCase())||(((k=C.description)==null?void 0:k.toLowerCase().includes(n.toLowerCase()))??!1):!0});y.useEffect(()=>(c!=null&&c.uid&&b(c.uid),()=>I()),[c==null?void 0:c.uid,b,I]);const N=y.useCallback(async C=>{if(C.preventDefault(),!!c)try{await h({...l,userId:c.uid,createdBy:c.uid}),f(!1),d({title:"",description:"",dueDate:pe(new Date,"yyyy-MM-dd"),category:"Work",status:"Todo",priority:"Medium",activities:[],createdBy:c.uid,userId:c.uid,attachment:null})}catch(k){console.error("Error adding task:",k)}},[l,c,h]),E=y.useCallback(C=>{x(C)},[x]),R=y.useCallback(C=>{if(!C.destination)return;const k=C.draggableId,ee=C.destination.droppableId,q=p.find(He=>He.id===k);q&&w(q.id,{...q,status:ee})},[p,w]),O=C=>{i(C)},H=async(C,k)=>{try{await w(C,k),i(null)}catch(ee){console.error("Error updating task:",ee)}},B=()=>{i(null)},j=y.useCallback(C=>{s(k=>({...k,[C]:!k[C]}))},[]),[L,V]=y.useState(new Set),ce=(C,k)=>{V(ee=>{const q=new Set(ee);return k?q.add(C):q.delete(C),q})},U=C=>{V(C?new Set(D.map(k=>k.id)):new Set)},_e=async()=>{const C=Array.from(L);for(const k of C)await E(k);V(new Set)};if(m)return g.jsx("div",{className:"text-red-600 p-4",children:m});const De=D.filter(C=>C.status==="Todo"),le=D.filter(C=>C.status==="In-Progress"),$e=D.filter(C=>C.status==="Completed");return g.jsxs("div",{className:"max-w-full overflow-x-auto",children:[g.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-4 p-4",children:[g.jsxs("div",{className:"flex items-center space-x-4 flex-wrap gap-2",children:[g.jsx("button",{onClick:()=>f(!0),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors duration-200 text-sm sm:text-base",children:"Add Task"}),g.jsxs("div",{className:"flex items-center space-x-2",children:[g.jsx("button",{onClick:()=>t("list"),className:`px-3 py-1.5 rounded-lg text-sm sm:text-base ${e==="list"?"bg-gray-200 text-gray-800":"text-gray-600 hover:bg-gray-100"}`,children:"List View"}),g.jsx("button",{onClick:()=>t("board"),className:`px-3 py-1.5 rounded-lg text-sm sm:text-base ${e==="board"?"bg-gray-200 text-gray-800":"text-gray-600 hover:bg-gray-100"}`,children:"Board View"})]})]}),g.jsx("div",{className:"w-full sm:w-auto",children:g.jsx("input",{type:"text",placeholder:"Search tasks...",value:n,onChange:C=>r(C.target.value),className:"w-full sm:w-64 px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})})]}),u&&g.jsxs("form",{onSubmit:N,className:"mt-4 bg-white p-4 rounded-lg shadow mb-6",children:[g.jsxs("div",{className:"mb-4",children:[g.jsx("label",{className:"block text-gray-700 text-sm font-bold mb-2",children:"Task Name"}),g.jsx("input",{type:"text",value:l.title,onChange:C=>d({...l,title:C.target.value}),className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",required:!0})]}),g.jsxs("div",{className:"mb-4",children:[g.jsx("label",{className:"block text-gray-700 text-sm font-bold mb-2",children:"Description"}),g.jsx("textarea",{value:l.description,onChange:C=>{C.target.value.length<=300&&d({...l,description:C.target.value})},maxLength:300,rows:4,className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",placeholder:"Enter task description (max 300 characters)"}),g.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:[l.description.length,"/300 characters"]})]}),g.jsxs("div",{className:"mb-4",children:[g.jsx("label",{className:"block text-gray-700 text-sm font-bold mb-2",children:"Due Date"}),g.jsx("input",{type:"date",value:l.dueDate,onChange:C=>d({...l,dueDate:C.target.value}),className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",required:!0})]}),g.jsxs("div",{className:"mb-4",children:[g.jsx("label",{className:"block text-gray-700 text-sm font-bold mb-2",children:"Task Status"}),g.jsxs("select",{value:l.status,onChange:C=>d({...l,status:C.target.value}),className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",required:!0,children:[g.jsx("option",{value:"Todo",children:"Todo"}),g.jsx("option",{value:"In-Progress",children:"In Progress"}),g.jsx("option",{value:"Completed",children:"Completed"})]})]}),g.jsxs("div",{className:"mb-4",children:[g.jsx("label",{className:"block text-gray-700 text-sm font-bold mb-2",children:"Task Category"}),g.jsxs("select",{value:l.category,onChange:C=>d({...l,category:C.target.value}),className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",required:!0,children:[g.jsx("option",{value:"Work",children:"Work"}),g.jsx("option",{value:"Personal",children:"Personal"})]})]}),g.jsxs("div",{className:"mb-4",children:[g.jsx("label",{className:"block text-gray-700 text-sm font-bold mb-2",children:"Attachment"}),g.jsx("input",{type:"file",onChange:C=>{var k;return d({...l,attachment:((k=C.target.files)==null?void 0:k[0])||null})},className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline"})]}),g.jsxs("div",{className:"flex justify-end space-x-2",children:[g.jsx("button",{type:"button",onClick:()=>f(!1),className:"mr-2 bg-gray-500 hover:bg-gray-700 text-white font-bold py-2 px-4 rounded",children:"Cancel"}),g.jsx("button",{type:"submit",className:"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded",children:"Add Task"})]})]}),a&&g.jsx(Hd,{task:a,onSave:H,onClose:B}),e==="list"?g.jsxs("div",{className:"space-y-6 p-2 sm:p-6 bg-gradient-to-br from-gray-100 to-gray-200 min-h-screen",children:[L.size>0&&g.jsxs("div",{className:"mb-4 p-3 bg-white rounded-lg shadow-md flex flex-col sm:flex-row items-center justify-between gap-2 border border-gray-200",children:[g.jsxs("span",{className:"text-gray-700 font-medium text-sm sm:text-base",children:[L.size," task",L.size!==1?"s":""," selected"]}),g.jsxs("button",{onClick:_e,className:"w-full sm:w-auto px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700 transition-colors focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2 text-sm sm:text-base",children:["Delete Selected (",L.size,")"]})]}),g.jsxs("div",{className:"space-y-6",children:[g.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden border border-gray-200",children:[g.jsxs("div",{className:"p-4 flex justify-between items-center cursor-pointer bg-gradient-to-r from-blue-50 to-blue-100 hover:from-blue-100 hover:to-blue-150 transition-colors",onClick:()=>j("Todo"),children:[g.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:"Todo"}),o.Todo?g.jsx(wt,{className:"h-5 w-5 text-gray-600"}):g.jsx(vt,{className:"h-5 w-5 text-gray-600"})]}),o.Todo&&g.jsx("div",{className:"border-t border-gray-200",children:g.jsx(Ft,{tasks:De,onEdit:O,onDelete:E,selectedTasks:L,onTaskSelect:ce,onSelectAll:U,sectionType:"Todo"})})]}),g.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden border border-gray-200",children:[g.jsxs("div",{className:"p-4 flex justify-between items-center cursor-pointer bg-gradient-to-r from-yellow-50 to-yellow-100 hover:from-yellow-100 hover:to-yellow-150 transition-colors",onClick:()=>j("In-Progress"),children:[g.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:"In Progress"}),o["In-Progress"]?g.jsx(wt,{className:"h-5 w-5 text-gray-600"}):g.jsx(vt,{className:"h-5 w-5 text-gray-600"})]}),o["In-Progress"]&&g.jsx("div",{className:"border-t border-gray-200",children:g.jsx(Ft,{tasks:le,onEdit:O,onDelete:E,selectedTasks:L,onTaskSelect:ce,onSelectAll:U,sectionType:"In-Progress"})})]}),g.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden border border-gray-200",children:[g.jsxs("div",{className:"p-4 flex justify-between items-center cursor-pointer bg-gradient-to-r from-green-50 to-green-100 hover:from-green-100 hover:to-green-150 transition-colors",onClick:()=>j("Completed"),children:[g.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:"Completed"}),o.Completed?g.jsx(wt,{className:"h-5 w-5 text-gray-600"}):g.jsx(vt,{className:"h-5 w-5 text-gray-600"})]}),o.Completed&&g.jsx("div",{className:"border-t border-gray-200",children:g.jsx(Ft,{tasks:$e,onEdit:O,onDelete:E,selectedTasks:L,onTaskSelect:ce,onSelectAll:U,sectionType:"Completed"})})]})]})]}):g.jsx($d,{tasks:D,onTaskMove:R,onTaskEdit:C=>{const k=D.find(ee=>ee.id===C);k&&O(k)},onTaskDelete:E})]})};function Ud(){const{setUser:e,setLoading:t}=ct();return y.useEffect(()=>{const n=Xo(br,r=>{e(r),t(!1)});return()=>n()},[e,t]),g.jsx(Jo,{basename:"/Task-Management-TAO",children:g.jsx("div",{className:"min-h-screen bg-gray-50",children:g.jsxs(Ko,{children:[g.jsx(wn,{path:"/",element:g.jsx(rs,{children:g.jsxs(g.Fragment,{children:[g.jsx(ps,{}),g.jsx(Vd,{})]})})}),g.jsx(wn,{path:"*",element:g.jsx(hr,{to:"/",replace:!0})})]})})})}const qd=new Zo;es.createRoot(document.getElementById("root")).render(g.jsx(M.StrictMode,{children:g.jsx(ts,{client:qd,children:g.jsx(Ud,{})})}));
